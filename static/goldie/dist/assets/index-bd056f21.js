var cd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Qe=(e,t,n)=>(cd(e,t,"read from private field"),n?n.call(e):t.get(e)),vn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},cn=(e,t,n,r)=>(cd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var jl=(e,t,n,r)=>({set _(l){cn(e,t,l,n)},get _(){return Qe(e,t,r)}}),Dn=(e,t,n)=>(cd(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const v of l)if(v.type==="childList")for(const A of v.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(l){const v={};return l.integrity&&(v.integrity=l.integrity),l.referrerPolicy&&(v.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?v.credentials="include":l.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function r(l){if(l.ep)return;l.ep=!0;const v=n(l);fetch(l.href,v)}})();function hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pv={exports:{}},rf={},gv={exports:{}},Mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),yS=Symbol.for("react.portal"),vS=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),_S=Symbol.for("react.profiler"),TS=Symbol.for("react.provider"),SS=Symbol.for("react.context"),AS=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),bS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),wm=Symbol.iterator;function IS(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,vv={};function zs(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||mv}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ev(){}Ev.prototype=zs.prototype;function tp(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||mv}var np=tp.prototype=new Ev;np.constructor=tp;yv(np,zs.prototype);np.isPureReactComponent=!0;var bm=Array.isArray,_v=Object.prototype.hasOwnProperty,rp={current:null},Tv={key:!0,ref:!0,__self:!0,__source:!0};function Sv(e,t,n){var r,l={},v=null,A=null;if(t!=null)for(r in t.ref!==void 0&&(A=t.ref),t.key!==void 0&&(v=""+t.key),t)_v.call(t,r)&&!Tv.hasOwnProperty(r)&&(l[r]=t[r]);var N=arguments.length-2;if(N===1)l.children=n;else if(1<N){for(var E=Array(N),P=0;P<N;P++)E[P]=arguments[P+2];l.children=E}if(e&&e.defaultProps)for(r in N=e.defaultProps,N)l[r]===void 0&&(l[r]=N[r]);return{$$typeof:ol,type:e,key:v,ref:A,props:l,_owner:rp.current}}function NS(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function CS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rm=/\/+/g;function fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CS(""+e.key):t.toString(36)}function lc(e,t,n,r,l){var v=typeof e;(v==="undefined"||v==="boolean")&&(e=null);var A=!1;if(e===null)A=!0;else switch(v){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case ol:case yS:A=!0}}if(A)return A=e,l=l(A),e=r===""?"."+fd(A,0):r,bm(l)?(n="",e!=null&&(n=e.replace(Rm,"$&/")+"/"),lc(l,t,n,"",function(P){return P})):l!=null&&(ip(l)&&(l=NS(l,n+(!l.key||A&&A.key===l.key?"":(""+l.key).replace(Rm,"$&/")+"/")+e)),t.push(l)),1;if(A=0,r=r===""?".":r+":",bm(e))for(var N=0;N<e.length;N++){v=e[N];var E=r+fd(v,N);A+=lc(v,t,n,E,l)}else if(E=IS(e),typeof E=="function")for(e=E.call(e),N=0;!(v=e.next()).done;)v=v.value,E=r+fd(v,N++),A+=lc(v,t,n,E,l);else if(v==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function Gl(e,t,n){if(e==null)return e;var r=[],l=0;return lc(e,r,"","",function(v){return t.call(n,v,l++)}),r}function DS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xr={current:null},cc={transition:null},OS={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:cc,ReactCurrentOwner:rp};function Av(){throw Error("act(...) is not supported in production builds of React.")}Mn.Children={map:Gl,forEach:function(e,t,n){Gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mn.Component=zs;Mn.Fragment=vS;Mn.Profiler=_S;Mn.PureComponent=tp;Mn.StrictMode=ES;Mn.Suspense=wS;Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS;Mn.act=Av;Mn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yv({},e.props),l=e.key,v=e.ref,A=e._owner;if(t!=null){if(t.ref!==void 0&&(v=t.ref,A=rp.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var N=e.type.defaultProps;for(E in t)_v.call(t,E)&&!Tv.hasOwnProperty(E)&&(r[E]=t[E]===void 0&&N!==void 0?N[E]:t[E])}var E=arguments.length-2;if(E===1)r.children=n;else if(1<E){N=Array(E);for(var P=0;P<E;P++)N[P]=arguments[P+2];r.children=N}return{$$typeof:ol,type:e.type,key:l,ref:v,props:r,_owner:A}};Mn.createContext=function(e){return e={$$typeof:SS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TS,_context:e},e.Consumer=e};Mn.createElement=Sv;Mn.createFactory=function(e){var t=Sv.bind(null,e);return t.type=e,t};Mn.createRef=function(){return{current:null}};Mn.forwardRef=function(e){return{$$typeof:AS,render:e}};Mn.isValidElement=ip;Mn.lazy=function(e){return{$$typeof:RS,_payload:{_status:-1,_result:e},_init:DS}};Mn.memo=function(e,t){return{$$typeof:bS,type:e,compare:t===void 0?null:t}};Mn.startTransition=function(e){var t=cc.transition;cc.transition={};try{e()}finally{cc.transition=t}};Mn.unstable_act=Av;Mn.useCallback=function(e,t){return Xr.current.useCallback(e,t)};Mn.useContext=function(e){return Xr.current.useContext(e)};Mn.useDebugValue=function(){};Mn.useDeferredValue=function(e){return Xr.current.useDeferredValue(e)};Mn.useEffect=function(e,t){return Xr.current.useEffect(e,t)};Mn.useId=function(){return Xr.current.useId()};Mn.useImperativeHandle=function(e,t,n){return Xr.current.useImperativeHandle(e,t,n)};Mn.useInsertionEffect=function(e,t){return Xr.current.useInsertionEffect(e,t)};Mn.useLayoutEffect=function(e,t){return Xr.current.useLayoutEffect(e,t)};Mn.useMemo=function(e,t){return Xr.current.useMemo(e,t)};Mn.useReducer=function(e,t,n){return Xr.current.useReducer(e,t,n)};Mn.useRef=function(e){return Xr.current.useRef(e)};Mn.useState=function(e){return Xr.current.useState(e)};Mn.useSyncExternalStore=function(e,t,n){return Xr.current.useSyncExternalStore(e,t,n)};Mn.useTransition=function(){return Xr.current.useTransition()};Mn.version="18.3.1";gv.exports=Mn;var Pn=gv.exports;const PS=hv(Pn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=Pn,LS=Symbol.for("react.element"),xS=Symbol.for("react.fragment"),FS=Object.prototype.hasOwnProperty,kS=MS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,US={key:!0,ref:!0,__self:!0,__source:!0};function wv(e,t,n){var r,l={},v=null,A=null;n!==void 0&&(v=""+n),t.key!==void 0&&(v=""+t.key),t.ref!==void 0&&(A=t.ref);for(r in t)FS.call(t,r)&&!US.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:LS,type:e,key:v,ref:A,props:l,_owner:kS.current}}rf.Fragment=xS;rf.jsx=wv;rf.jsxs=wv;pv.exports=rf;var Sn=pv.exports,Gd={},bv={exports:{}},pi={},Rv={exports:{}},Iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Pe){var Ge=we.length;we.push(Pe);e:for(;0<Ge;){var Re=Ge-1>>>1,xe=we[Re];if(0<l(xe,Pe))we[Re]=Pe,we[Ge]=xe,Ge=Re;else break e}}function n(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Pe=we[0],Ge=we.pop();if(Ge!==Pe){we[0]=Ge;e:for(var Re=0,xe=we.length,$e=xe>>>1;Re<$e;){var it=2*(Re+1)-1,Ie=we[it],ke=it+1,wt=we[ke];if(0>l(Ie,Ge))ke<xe&&0>l(wt,Ie)?(we[Re]=wt,we[ke]=Ge,Re=ke):(we[Re]=Ie,we[it]=Ge,Re=it);else if(ke<xe&&0>l(wt,Ge))we[Re]=wt,we[ke]=Ge,Re=ke;else break e}}return Pe}function l(we,Pe){var Ge=we.sortIndex-Pe.sortIndex;return Ge!==0?Ge:we.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;e.unstable_now=function(){return v.now()}}else{var A=Date,N=A.now();e.unstable_now=function(){return A.now()-N}}var E=[],P=[],_=1,i=null,o=3,w=!1,T=!1,c=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(we){for(var Pe=n(P);Pe!==null;){if(Pe.callback===null)r(P);else if(Pe.startTime<=we)r(P),Pe.sortIndex=Pe.expirationTime,t(E,Pe);else break;Pe=n(P)}}function h(we){if(c=!1,f(we),!T)if(n(E)!==null)T=!0,Ce(C);else{var Pe=n(P);Pe!==null&&ae(h,Pe.startTime-we)}}function C(we,Pe){T=!1,c&&(c=!1,g(U),U=-1),w=!0;var Ge=o;try{for(f(Pe),i=n(E);i!==null&&(!(i.expirationTime>Pe)||we&&!te());){var Re=i.callback;if(typeof Re=="function"){i.callback=null,o=i.priorityLevel;var xe=Re(i.expirationTime<=Pe);Pe=e.unstable_now(),typeof xe=="function"?i.callback=xe:i===n(E)&&r(E),f(Pe)}else r(E);i=n(E)}if(i!==null)var $e=!0;else{var it=n(P);it!==null&&ae(h,it.startTime-Pe),$e=!1}return $e}finally{i=null,o=Ge,w=!1}}var B=!1,G=null,U=-1,re=5,Z=-1;function te(){return!(e.unstable_now()-Z<re)}function de(){if(G!==null){var we=e.unstable_now();Z=we;var Pe=!0;try{Pe=G(!0,we)}finally{Pe?J():(B=!1,G=null)}}else B=!1}var J;if(typeof u=="function")J=function(){u(de)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ge=le.port2;le.port1.onmessage=de,J=function(){ge.postMessage(null)}}else J=function(){b(de,0)};function Ce(we){G=we,B||(B=!0,J())}function ae(we,Pe){U=b(function(){we(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){T||w||(T=!0,Ce(C))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return n(E)},e.unstable_next=function(we){switch(o){case 1:case 2:case 3:var Pe=3;break;default:Pe=o}var Ge=o;o=Pe;try{return we()}finally{o=Ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Pe){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ge=o;o=we;try{return Pe()}finally{o=Ge}},e.unstable_scheduleCallback=function(we,Pe,Ge){var Re=e.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?Re+Ge:Re):Ge=Re,we){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ge+xe,we={id:_++,callback:Pe,priorityLevel:we,startTime:Ge,expirationTime:xe,sortIndex:-1},Ge>Re?(we.sortIndex=Ge,t(P,we),n(E)===null&&we===n(P)&&(c?(g(U),U=-1):c=!0,ae(h,Ge-Re))):(we.sortIndex=xe,t(E,we),T||w||(T=!0,Ce(C))),we},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(we){var Pe=o;return function(){var Ge=o;o=Pe;try{return we.apply(this,arguments)}finally{o=Ge}}}})(Iv);Rv.exports=Iv;var BS=Rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=Pn,hi=BS;function nn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nv=new Set,Nu={};function Ga(e,t){Us(e,t),Us(e+"Capture",t)}function Us(e,t){for(Nu[e]=t,e=0;e<t.length;e++)Nv.add(t[e])}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qd=Object.prototype.hasOwnProperty,jS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Im={},Nm={};function GS(e){return qd.call(Nm,e)?!0:qd.call(Im,e)?!1:jS.test(e)?Nm[e]=!0:(Im[e]=!0,!1)}function qS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HS(e,t,n,r){if(t===null||typeof t>"u"||qS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,l,v,A){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=v,this.removeEmptyString=A}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function ap(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(op,ap);Lr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(op,ap);Lr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(op,ap);Lr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});Lr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function sp(e,t,n,r){var l=Lr.hasOwnProperty(t)?Lr[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HS(t,n,l,r)&&(n=null),r||l===null?GS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wo=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ql=Symbol.for("react.element"),is=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),cp=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),Ov=Symbol.for("react.offscreen"),Cm=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=Cm&&e[Cm]||e["@@iterator"],typeof e=="function"?e:null)}var sr=Object.assign,dd;function pu(e){if(dd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dd=t&&t[1]||""}return`
`+dd+e}var hd=!1;function pd(e,t){if(!e||hd)return"";hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var r=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){r=P}e.call(t.prototype)}else{try{throw Error()}catch(P){r=P}e()}}catch(P){if(P&&r&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),v=r.stack.split(`
`),A=l.length-1,N=v.length-1;1<=A&&0<=N&&l[A]!==v[N];)N--;for(;1<=A&&0<=N;A--,N--)if(l[A]!==v[N]){if(A!==1||N!==1)do if(A--,N--,0>N||l[A]!==v[N]){var E=`
`+l[A].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=A&&0<=N);break}}}finally{hd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pu(e):""}function zS(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=pd(e.type,!1),e;case 11:return e=pd(e.type.render,!1),e;case 1:return e=pd(e.type,!0),e;default:return""}}function Vd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case is:return"Portal";case Hd:return"Profiler";case up:return"StrictMode";case zd:return"Suspense";case Yd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dv:return(e.displayName||"Context")+".Consumer";case Cv:return(e._context.displayName||"Context")+".Provider";case lp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cp:return t=e.displayName||null,t!==null?t:Vd(e.type)||"Memo";case xo:t=e._payload,e=e._init;try{return Vd(e(t))}catch{}}return null}function YS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vd(t);case 8:return t===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VS(e){var t=Pv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,v=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(A){r=""+A,v.call(this,A)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=VS(e))}function Mv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kd(e,t){var n=t.checked;return sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=oa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lv(e,t){t=t.checked,t!=null&&sp(e,"checked",t,!1)}function Wd(e,t){Lv(e,t);var n=oa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qd(e,t.type,oa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Om(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qd(e,t,n){(t!=="number"||Ic(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gu=Array.isArray;function ys(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oa(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Xd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nn(91));return sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(nn(92));if(gu(n)){if(1<n.length)throw Error(nn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oa(n)}}function xv(e,t){var n=oa(t.value),r=oa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $d(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zl,kv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KS=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){KS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function Uv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function Bv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Uv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var WS=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jd(e,t){if(t){if(WS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nn(62))}}function eh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function fp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,vs=null,Es=null;function Lm(e){if(e=ul(e)){if(typeof nh!="function")throw Error(nn(280));var t=e.stateNode;t&&(t=lf(t),nh(e.stateNode,e.type,t))}}function Zv(e){vs?Es?Es.push(e):Es=[e]:vs=e}function jv(){if(vs){var e=vs,t=Es;if(Es=vs=null,Lm(e),t)for(e=0;e<t.length;e++)Lm(t[e])}}function Gv(e,t){return e(t)}function qv(){}var gd=!1;function Hv(e,t,n){if(gd)return e(t,n);gd=!0;try{return Gv(e,t,n)}finally{gd=!1,(vs!==null||Es!==null)&&(qv(),jv())}}function Du(e,t){var n=e.stateNode;if(n===null)return null;var r=lf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(nn(231,t,typeof n));return n}var rh=!1;if(_o)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){rh=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{rh=!1}function QS(e,t,n,r,l,v,A,N,E){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(_){this.onError(_)}}var _u=!1,Nc=null,Cc=!1,ih=null,XS={onError:function(e){_u=!0,Nc=e}};function $S(e,t,n,r,l,v,A,N,E){_u=!1,Nc=null,QS.apply(XS,arguments)}function JS(e,t,n,r,l,v,A,N,E){if($S.apply(this,arguments),_u){if(_u){var P=Nc;_u=!1,Nc=null}else throw Error(nn(198));Cc||(Cc=!0,ih=P)}}function qa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xm(e){if(qa(e)!==e)throw Error(nn(188))}function e1(e){var t=e.alternate;if(!t){if(t=qa(e),t===null)throw Error(nn(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var v=l.alternate;if(v===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===v.child){for(v=l.child;v;){if(v===n)return xm(l),e;if(v===r)return xm(l),t;v=v.sibling}throw Error(nn(188))}if(n.return!==r.return)n=l,r=v;else{for(var A=!1,N=l.child;N;){if(N===n){A=!0,n=l,r=v;break}if(N===r){A=!0,r=l,n=v;break}N=N.sibling}if(!A){for(N=v.child;N;){if(N===n){A=!0,n=v,r=l;break}if(N===r){A=!0,r=v,n=l;break}N=N.sibling}if(!A)throw Error(nn(189))}}if(n.alternate!==r)throw Error(nn(190))}if(n.tag!==3)throw Error(nn(188));return n.stateNode.current===n?e:t}function Yv(e){return e=e1(e),e!==null?Vv(e):null}function Vv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vv(e);if(t!==null)return t;e=e.sibling}return null}var Kv=hi.unstable_scheduleCallback,Fm=hi.unstable_cancelCallback,t1=hi.unstable_shouldYield,n1=hi.unstable_requestPaint,gr=hi.unstable_now,r1=hi.unstable_getCurrentPriorityLevel,dp=hi.unstable_ImmediatePriority,Wv=hi.unstable_UserBlockingPriority,Dc=hi.unstable_NormalPriority,i1=hi.unstable_LowPriority,Qv=hi.unstable_IdlePriority,of=null,ao=null;function o1(e){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(of,e,void 0,(e.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:u1,a1=Math.log,s1=Math.LN2;function u1(e){return e>>>=0,e===0?32:31-(a1(e)/s1|0)|0}var Yl=64,Vl=4194304;function mu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,v=e.pingedLanes,A=n&268435455;if(A!==0){var N=A&~l;N!==0?r=mu(N):(v&=A,v!==0&&(r=mu(v)))}else A=n&~l,A!==0?r=mu(A):v!==0&&(r=mu(v));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,v=t&-t,l>=v||l===16&&(v&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zi(t),l=1<<n,r|=e[n],t&=~l;return r}function l1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,v=e.pendingLanes;0<v;){var A=31-zi(v),N=1<<A,E=l[A];E===-1?(!(N&n)||N&r)&&(l[A]=l1(N,t)):E<=t&&(e.expiredLanes|=N),v&=~N}}function oh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xv(){var e=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),e}function md(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zi(t),e[t]=n}function f1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-zi(n),v=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~v}}function hp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zi(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Kn=0;function $v(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jv,pp,eE,tE,nE,ah=!1,Kl=[],Xo=null,$o=null,Jo=null,Ou=new Map,Pu=new Map,ko=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function km(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Ou.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(t.pointerId)}}function au(e,t,n,r,l,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:v,targetContainers:[l]},t!==null&&(t=ul(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function h1(e,t,n,r,l){switch(t){case"focusin":return Xo=au(Xo,e,t,n,r,l),!0;case"dragenter":return $o=au($o,e,t,n,r,l),!0;case"mouseover":return Jo=au(Jo,e,t,n,r,l),!0;case"pointerover":var v=l.pointerId;return Ou.set(v,au(Ou.get(v)||null,e,t,n,r,l)),!0;case"gotpointercapture":return v=l.pointerId,Pu.set(v,au(Pu.get(v)||null,e,t,n,r,l)),!0}return!1}function rE(e){var t=_a(e.target);if(t!==null){var n=qa(t);if(n!==null){if(t=n.tag,t===13){if(t=zv(n),t!==null){e.blockedOn=t,nE(e.priority,function(){eE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);th=r,n.target.dispatchEvent(r),th=null}else return t=ul(n),t!==null&&pp(t),e.blockedOn=n,!1;t.shift()}return!0}function Um(e,t,n){fc(e)&&n.delete(t)}function p1(){ah=!1,Xo!==null&&fc(Xo)&&(Xo=null),$o!==null&&fc($o)&&($o=null),Jo!==null&&fc(Jo)&&(Jo=null),Ou.forEach(Um),Pu.forEach(Um)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,ah||(ah=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,p1)))}function Mu(e){function t(l){return su(l,e)}if(0<Kl.length){su(Kl[0],e);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xo!==null&&su(Xo,e),$o!==null&&su($o,e),Jo!==null&&su(Jo,e),Ou.forEach(t),Pu.forEach(t),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&ko.shift()}var _s=wo.ReactCurrentBatchConfig,Pc=!0;function g1(e,t,n,r){var l=Kn,v=_s.transition;_s.transition=null;try{Kn=1,gp(e,t,n,r)}finally{Kn=l,_s.transition=v}}function m1(e,t,n,r){var l=Kn,v=_s.transition;_s.transition=null;try{Kn=4,gp(e,t,n,r)}finally{Kn=l,_s.transition=v}}function gp(e,t,n,r){if(Pc){var l=sh(e,t,n,r);if(l===null)Rd(e,t,r,Mc,n),km(e,r);else if(h1(l,e,t,n,r))r.stopPropagation();else if(km(e,r),t&4&&-1<d1.indexOf(e)){for(;l!==null;){var v=ul(l);if(v!==null&&Jv(v),v=sh(e,t,n,r),v===null&&Rd(e,t,r,Mc,n),v===l)break;l=v}l!==null&&r.stopPropagation()}else Rd(e,t,r,null,n)}}var Mc=null;function sh(e,t,n,r){if(Mc=null,e=fp(r),e=_a(e),e!==null)if(t=qa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mc=e,null}function iE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r1()){case dp:return 1;case Wv:return 4;case Dc:case i1:return 16;case Qv:return 536870912;default:return 16}default:return 16}}var Wo=null,mp=null,dc=null;function oE(){if(dc)return dc;var e,t=mp,n=t.length,r,l="value"in Wo?Wo.value:Wo.textContent,v=l.length;for(e=0;e<n&&t[e]===l[e];e++);var A=n-e;for(r=1;r<=A&&t[n-r]===l[v-r];r++);return dc=l.slice(e,1<r?1-r:void 0)}function hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function Bm(){return!1}function gi(e){function t(n,r,l,v,A){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wl:Bm,this.isPropagationStopped=Bm,this}return sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=gi(Ys),sl=sr({},Ys,{view:0,detail:0}),y1=gi(sl),yd,vd,uu,af=sr({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uu&&(uu&&e.type==="mousemove"?(yd=e.screenX-uu.screenX,vd=e.screenY-uu.screenY):vd=yd=0,uu=e),yd)},movementY:function(e){return"movementY"in e?e.movementY:vd}}),Zm=gi(af),v1=sr({},af,{dataTransfer:0}),E1=gi(v1),_1=sr({},sl,{relatedTarget:0}),Ed=gi(_1),T1=sr({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),S1=gi(T1),A1=sr({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=gi(A1),b1=sr({},Ys,{data:0}),jm=gi(b1),R1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N1[e])?!!t[e]:!1}function vp(){return C1}var D1=sr({},sl,{key:function(e){if(e.key){var t=R1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(e){return e.type==="keypress"?hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O1=gi(D1),P1=sr({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=gi(P1),M1=sr({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),L1=gi(M1),x1=sr({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),F1=gi(x1),k1=sr({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U1=gi(k1),B1=[9,13,27,32],Ep=_o&&"CompositionEvent"in window,Tu=null;_o&&"documentMode"in document&&(Tu=document.documentMode);var Z1=_o&&"TextEvent"in window&&!Tu,aE=_o&&(!Ep||Tu&&8<Tu&&11>=Tu),qm=String.fromCharCode(32),Hm=!1;function sE(e,t){switch(e){case"keyup":return B1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function j1(e,t){switch(e){case"compositionend":return uE(t);case"keypress":return t.which!==32?null:(Hm=!0,qm);case"textInput":return e=t.data,e===qm&&Hm?null:e;default:return null}}function G1(e,t){if(as)return e==="compositionend"||!Ep&&sE(e,t)?(e=oE(),dc=mp=Wo=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aE&&t.locale!=="ko"?null:t.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q1[e.type]:t==="textarea"}function lE(e,t,n,r){Zv(r),t=Lc(t,"onChange"),0<t.length&&(n=new yp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Su=null,Lu=null;function H1(e){_E(e,0)}function sf(e){var t=ls(e);if(Mv(t))return e}function z1(e,t){if(e==="change")return t}var cE=!1;if(_o){var _d;if(_o){var Td="oninput"in document;if(!Td){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Td=typeof Ym.oninput=="function"}_d=Td}else _d=!1;cE=_d&&(!document.documentMode||9<document.documentMode)}function Vm(){Su&&(Su.detachEvent("onpropertychange",fE),Lu=Su=null)}function fE(e){if(e.propertyName==="value"&&sf(Lu)){var t=[];lE(t,Lu,e,fp(e)),Hv(H1,t)}}function Y1(e,t,n){e==="focusin"?(Vm(),Su=t,Lu=n,Su.attachEvent("onpropertychange",fE)):e==="focusout"&&Vm()}function V1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Lu)}function K1(e,t){if(e==="click")return sf(t)}function W1(e,t){if(e==="input"||e==="change")return sf(t)}function Q1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ki=typeof Object.is=="function"?Object.is:Q1;function xu(e,t){if(Ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!qd.call(t,l)||!Ki(e[l],t[l]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,t){var n=Km(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Km(n)}}function dE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hE(){for(var e=window,t=Ic();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ic(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X1(e){var t=hE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&_p(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,v=Math.min(r.start,l);r=r.end===void 0?v:Math.min(r.end,l),!e.extend&&v>r&&(l=r,r=v,v=l),l=Wm(n,v);var A=Wm(n,r);l&&A&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),v>r?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $1=_o&&"documentMode"in document&&11>=document.documentMode,ss=null,uh=null,Au=null,lh=!1;function Qm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lh||ss==null||ss!==Ic(r)||(r=ss,"selectionStart"in r&&_p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Au&&xu(Au,r)||(Au=r,r=Lc(uh,"onSelect"),0<r.length&&(t=new yp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ss)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var us={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Sd={},pE={};_o&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function uf(e){if(Sd[e])return Sd[e];if(!us[e])return e;var t=us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pE)return Sd[e]=t[n];return e}var gE=uf("animationend"),mE=uf("animationiteration"),yE=uf("animationstart"),vE=uf("transitionend"),EE=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(e,t){EE.set(e,t),Ga(t,[e])}for(var Ad=0;Ad<Xm.length;Ad++){var wd=Xm[Ad],J1=wd.toLowerCase(),eA=wd[0].toUpperCase()+wd.slice(1);sa(J1,"on"+eA)}sa(gE,"onAnimationEnd");sa(mE,"onAnimationIteration");sa(yE,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(vE,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function $m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JS(r,t,void 0,e),e.currentTarget=null}function _E(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var v=void 0;if(t)for(var A=r.length-1;0<=A;A--){var N=r[A],E=N.instance,P=N.currentTarget;if(N=N.listener,E!==v&&l.isPropagationStopped())break e;$m(l,N,P),v=E}else for(A=0;A<r.length;A++){if(N=r[A],E=N.instance,P=N.currentTarget,N=N.listener,E!==v&&l.isPropagationStopped())break e;$m(l,N,P),v=E}}}if(Cc)throw e=ih,Cc=!1,ih=null,e}function nr(e,t){var n=t[ph];n===void 0&&(n=t[ph]=new Set);var r=e+"__bubble";n.has(r)||(TE(t,e,2,!1),n.add(r))}function bd(e,t,n){var r=0;t&&(r|=4),TE(n,e,r,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Xl]){e[Xl]=!0,Nv.forEach(function(n){n!=="selectionchange"&&(tA.has(n)||bd(n,!1,e),bd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,bd("selectionchange",!1,t))}}function TE(e,t,n,r){switch(iE(t)){case 1:var l=g1;break;case 4:l=m1;break;default:l=gp}n=l.bind(null,t,n,e),l=void 0,!rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Rd(e,t,n,r,l){var v=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var N=r.stateNode.containerInfo;if(N===l||N.nodeType===8&&N.parentNode===l)break;if(A===4)for(A=r.return;A!==null;){var E=A.tag;if((E===3||E===4)&&(E=A.stateNode.containerInfo,E===l||E.nodeType===8&&E.parentNode===l))return;A=A.return}for(;N!==null;){if(A=_a(N),A===null)return;if(E=A.tag,E===5||E===6){r=v=A;continue e}N=N.parentNode}}r=r.return}Hv(function(){var P=v,_=fp(n),i=[];e:{var o=EE.get(e);if(o!==void 0){var w=yp,T=e;switch(e){case"keypress":if(hc(n)===0)break e;case"keydown":case"keyup":w=O1;break;case"focusin":T="focus",w=Ed;break;case"focusout":T="blur",w=Ed;break;case"beforeblur":case"afterblur":w=Ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=E1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=L1;break;case gE:case mE:case yE:w=S1;break;case vE:w=F1;break;case"scroll":w=y1;break;case"wheel":w=U1;break;case"copy":case"cut":case"paste":w=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Gm}var c=(t&4)!==0,b=!c&&e==="scroll",g=c?o!==null?o+"Capture":null:o;c=[];for(var u=P,f;u!==null;){f=u;var h=f.stateNode;if(f.tag===5&&h!==null&&(f=h,g!==null&&(h=Du(u,g),h!=null&&c.push(ku(u,h,f)))),b)break;u=u.return}0<c.length&&(o=new w(o,T,null,n,_),i.push({event:o,listeners:c}))}}if(!(t&7)){e:{if(o=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",o&&n!==th&&(T=n.relatedTarget||n.fromElement)&&(_a(T)||T[To]))break e;if((w||o)&&(o=_.window===_?_:(o=_.ownerDocument)?o.defaultView||o.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=P,T=T?_a(T):null,T!==null&&(b=qa(T),T!==b||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=P),w!==T)){if(c=Zm,h="onMouseLeave",g="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(c=Gm,h="onPointerLeave",g="onPointerEnter",u="pointer"),b=w==null?o:ls(w),f=T==null?o:ls(T),o=new c(h,u+"leave",w,n,_),o.target=b,o.relatedTarget=f,h=null,_a(_)===P&&(c=new c(g,u+"enter",T,n,_),c.target=f,c.relatedTarget=b,h=c),b=h,w&&T)t:{for(c=w,g=T,u=0,f=c;f;f=rs(f))u++;for(f=0,h=g;h;h=rs(h))f++;for(;0<u-f;)c=rs(c),u--;for(;0<f-u;)g=rs(g),f--;for(;u--;){if(c===g||g!==null&&c===g.alternate)break t;c=rs(c),g=rs(g)}c=null}else c=null;w!==null&&Jm(i,o,w,c,!1),T!==null&&b!==null&&Jm(i,b,T,c,!0)}}e:{if(o=P?ls(P):window,w=o.nodeName&&o.nodeName.toLowerCase(),w==="select"||w==="input"&&o.type==="file")var C=z1;else if(zm(o))if(cE)C=W1;else{C=V1;var B=Y1}else(w=o.nodeName)&&w.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")&&(C=K1);if(C&&(C=C(e,P))){lE(i,C,n,_);break e}B&&B(e,o,P),e==="focusout"&&(B=o._wrapperState)&&B.controlled&&o.type==="number"&&Qd(o,"number",o.value)}switch(B=P?ls(P):window,e){case"focusin":(zm(B)||B.contentEditable==="true")&&(ss=B,uh=P,Au=null);break;case"focusout":Au=uh=ss=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,Qm(i,n,_);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Qm(i,n,_)}var G;if(Ep)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else as?sE(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(aE&&n.locale!=="ko"&&(as||U!=="onCompositionStart"?U==="onCompositionEnd"&&as&&(G=oE()):(Wo=_,mp="value"in Wo?Wo.value:Wo.textContent,as=!0)),B=Lc(P,U),0<B.length&&(U=new jm(U,e,null,n,_),i.push({event:U,listeners:B}),G?U.data=G:(G=uE(n),G!==null&&(U.data=G)))),(G=Z1?j1(e,n):G1(e,n))&&(P=Lc(P,"onBeforeInput"),0<P.length&&(_=new jm("onBeforeInput","beforeinput",null,n,_),i.push({event:_,listeners:P}),_.data=G))}_E(i,t)})}function ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lc(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,v=l.stateNode;l.tag===5&&v!==null&&(l=v,v=Du(e,n),v!=null&&r.unshift(ku(e,v,l)),v=Du(e,t),v!=null&&r.push(ku(e,v,l))),e=e.return}return r}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jm(e,t,n,r,l){for(var v=t._reactName,A=[];n!==null&&n!==r;){var N=n,E=N.alternate,P=N.stateNode;if(E!==null&&E===r)break;N.tag===5&&P!==null&&(N=P,l?(E=Du(n,v),E!=null&&A.unshift(ku(n,E,N))):l||(E=Du(n,v),E!=null&&A.push(ku(n,E,N)))),n=n.return}A.length!==0&&e.push({event:t,listeners:A})}var nA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(nA,`
`).replace(rA,"")}function $l(e,t,n){if(t=ey(t),ey(e)!==t&&n)throw Error(nn(425))}function xc(){}var ch=null,fh=null;function dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(aA)}:hh;function aA(e){setTimeout(function(){throw e})}function Id(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Mu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Mu(t)}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),ro="__reactFiber$"+Vs,Uu="__reactProps$"+Vs,To="__reactContainer$"+Vs,ph="__reactEvents$"+Vs,sA="__reactListeners$"+Vs,uA="__reactHandles$"+Vs;function _a(e){var t=e[ro];if(t)return t;for(var n=e.parentNode;n;){if(t=n[To]||n[ro]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ny(e);e!==null;){if(n=e[ro])return n;e=ny(e)}return t}e=n,n=e.parentNode}return null}function ul(e){return e=e[ro]||e[To],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nn(33))}function lf(e){return e[Uu]||null}var gh=[],cs=-1;function ua(e){return{current:e}}function rr(e){0>cs||(e.current=gh[cs],gh[cs]=null,cs--)}function Jn(e,t){cs++,gh[cs]=e.current,e.current=t}var aa={},qr=ua(aa),ri=ua(!1),La=aa;function Bs(e,t){var n=e.type.contextTypes;if(!n)return aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},v;for(v in n)l[v]=t[v];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ii(e){return e=e.childContextTypes,e!=null}function Fc(){rr(ri),rr(qr)}function ry(e,t,n){if(qr.current!==aa)throw Error(nn(168));Jn(qr,t),Jn(ri,n)}function SE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(nn(108,YS(e)||"Unknown",l));return sr({},n,r)}function kc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||aa,La=qr.current,Jn(qr,e),Jn(ri,ri.current),!0}function iy(e,t,n){var r=e.stateNode;if(!r)throw Error(nn(169));n?(e=SE(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,rr(ri),rr(qr),Jn(qr,e)):rr(ri),Jn(ri,n)}var po=null,cf=!1,Nd=!1;function AE(e){po===null?po=[e]:po.push(e)}function lA(e){cf=!0,AE(e)}function la(){if(!Nd&&po!==null){Nd=!0;var e=0,t=Kn;try{var n=po;for(Kn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}po=null,cf=!1}catch(l){throw po!==null&&(po=po.slice(e+1)),Kv(dp,la),l}finally{Kn=t,Nd=!1}}return null}var fs=[],ds=0,Uc=null,Bc=0,Ii=[],Ni=0,xa=null,yo=1,vo="";function va(e,t){fs[ds++]=Bc,fs[ds++]=Uc,Uc=e,Bc=t}function wE(e,t,n){Ii[Ni++]=yo,Ii[Ni++]=vo,Ii[Ni++]=xa,xa=e;var r=yo;e=vo;var l=32-zi(r)-1;r&=~(1<<l),n+=1;var v=32-zi(t)+l;if(30<v){var A=l-l%5;v=(r&(1<<A)-1).toString(32),r>>=A,l-=A,yo=1<<32-zi(t)+l|n<<l|r,vo=v+e}else yo=1<<v|n<<l|r,vo=e}function Tp(e){e.return!==null&&(va(e,1),wE(e,1,0))}function Sp(e){for(;e===Uc;)Uc=fs[--ds],fs[ds]=null,Bc=fs[--ds],fs[ds]=null;for(;e===xa;)xa=Ii[--Ni],Ii[Ni]=null,vo=Ii[--Ni],Ii[Ni]=null,yo=Ii[--Ni],Ii[Ni]=null}var fi=null,ci=null,ir=!1,Gi=null;function bE(e,t){var n=Ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fi=e,ci=ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fi=e,ci=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xa!==null?{id:yo,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ci(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,fi=e,ci=null,!0):!1;default:return!1}}function mh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yh(e){if(ir){var t=ci;if(t){var n=t;if(!oy(e,t)){if(mh(e))throw Error(nn(418));t=ea(n.nextSibling);var r=fi;t&&oy(e,t)?bE(r,n):(e.flags=e.flags&-4097|2,ir=!1,fi=e)}}else{if(mh(e))throw Error(nn(418));e.flags=e.flags&-4097|2,ir=!1,fi=e}}}function ay(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fi=e}function Jl(e){if(e!==fi)return!1;if(!ir)return ay(e),ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dh(e.type,e.memoizedProps)),t&&(t=ci)){if(mh(e))throw RE(),Error(nn(418));for(;t;)bE(e,t),t=ea(t.nextSibling)}if(ay(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ci=ea(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ci=null}}else ci=fi?ea(e.stateNode.nextSibling):null;return!0}function RE(){for(var e=ci;e;)e=ea(e.nextSibling)}function Zs(){ci=fi=null,ir=!1}function Ap(e){Gi===null?Gi=[e]:Gi.push(e)}var cA=wo.ReactCurrentBatchConfig;function lu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nn(309));var r=n.stateNode}if(!r)throw Error(nn(147,e));var l=r,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(A){var N=l.refs;A===null?delete N[v]:N[v]=A},t._stringRef=v,t)}if(typeof e!="string")throw Error(nn(284));if(!n._owner)throw Error(nn(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(nn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sy(e){var t=e._init;return t(e._payload)}function IE(e){function t(g,u){if(e){var f=g.deletions;f===null?(g.deletions=[u],g.flags|=16):f.push(u)}}function n(g,u){if(!e)return null;for(;u!==null;)t(g,u),u=u.sibling;return null}function r(g,u){for(g=new Map;u!==null;)u.key!==null?g.set(u.key,u):g.set(u.index,u),u=u.sibling;return g}function l(g,u){return g=ia(g,u),g.index=0,g.sibling=null,g}function v(g,u,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<u?(g.flags|=2,u):f):(g.flags|=2,u)):(g.flags|=1048576,u)}function A(g){return e&&g.alternate===null&&(g.flags|=2),g}function N(g,u,f,h){return u===null||u.tag!==6?(u=xd(f,g.mode,h),u.return=g,u):(u=l(u,f),u.return=g,u)}function E(g,u,f,h){var C=f.type;return C===os?_(g,u,f.props.children,h,f.key):u!==null&&(u.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&sy(C)===u.type)?(h=l(u,f.props),h.ref=lu(g,u,f),h.return=g,h):(h=_c(f.type,f.key,f.props,null,g.mode,h),h.ref=lu(g,u,f),h.return=g,h)}function P(g,u,f,h){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=Fd(f,g.mode,h),u.return=g,u):(u=l(u,f.children||[]),u.return=g,u)}function _(g,u,f,h,C){return u===null||u.tag!==7?(u=Ma(f,g.mode,h,C),u.return=g,u):(u=l(u,f),u.return=g,u)}function i(g,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=xd(""+u,g.mode,f),u.return=g,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ql:return f=_c(u.type,u.key,u.props,null,g.mode,f),f.ref=lu(g,null,u),f.return=g,f;case is:return u=Fd(u,g.mode,f),u.return=g,u;case xo:var h=u._init;return i(g,h(u._payload),f)}if(gu(u)||iu(u))return u=Ma(u,g.mode,f,null),u.return=g,u;ec(g,u)}return null}function o(g,u,f,h){var C=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:N(g,u,""+f,h);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ql:return f.key===C?E(g,u,f,h):null;case is:return f.key===C?P(g,u,f,h):null;case xo:return C=f._init,o(g,u,C(f._payload),h)}if(gu(f)||iu(f))return C!==null?null:_(g,u,f,h,null);ec(g,f)}return null}function w(g,u,f,h,C){if(typeof h=="string"&&h!==""||typeof h=="number")return g=g.get(f)||null,N(u,g,""+h,C);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ql:return g=g.get(h.key===null?f:h.key)||null,E(u,g,h,C);case is:return g=g.get(h.key===null?f:h.key)||null,P(u,g,h,C);case xo:var B=h._init;return w(g,u,f,B(h._payload),C)}if(gu(h)||iu(h))return g=g.get(f)||null,_(u,g,h,C,null);ec(u,h)}return null}function T(g,u,f,h){for(var C=null,B=null,G=u,U=u=0,re=null;G!==null&&U<f.length;U++){G.index>U?(re=G,G=null):re=G.sibling;var Z=o(g,G,f[U],h);if(Z===null){G===null&&(G=re);break}e&&G&&Z.alternate===null&&t(g,G),u=v(Z,u,U),B===null?C=Z:B.sibling=Z,B=Z,G=re}if(U===f.length)return n(g,G),ir&&va(g,U),C;if(G===null){for(;U<f.length;U++)G=i(g,f[U],h),G!==null&&(u=v(G,u,U),B===null?C=G:B.sibling=G,B=G);return ir&&va(g,U),C}for(G=r(g,G);U<f.length;U++)re=w(G,g,U,f[U],h),re!==null&&(e&&re.alternate!==null&&G.delete(re.key===null?U:re.key),u=v(re,u,U),B===null?C=re:B.sibling=re,B=re);return e&&G.forEach(function(te){return t(g,te)}),ir&&va(g,U),C}function c(g,u,f,h){var C=iu(f);if(typeof C!="function")throw Error(nn(150));if(f=C.call(f),f==null)throw Error(nn(151));for(var B=C=null,G=u,U=u=0,re=null,Z=f.next();G!==null&&!Z.done;U++,Z=f.next()){G.index>U?(re=G,G=null):re=G.sibling;var te=o(g,G,Z.value,h);if(te===null){G===null&&(G=re);break}e&&G&&te.alternate===null&&t(g,G),u=v(te,u,U),B===null?C=te:B.sibling=te,B=te,G=re}if(Z.done)return n(g,G),ir&&va(g,U),C;if(G===null){for(;!Z.done;U++,Z=f.next())Z=i(g,Z.value,h),Z!==null&&(u=v(Z,u,U),B===null?C=Z:B.sibling=Z,B=Z);return ir&&va(g,U),C}for(G=r(g,G);!Z.done;U++,Z=f.next())Z=w(G,g,U,Z.value,h),Z!==null&&(e&&Z.alternate!==null&&G.delete(Z.key===null?U:Z.key),u=v(Z,u,U),B===null?C=Z:B.sibling=Z,B=Z);return e&&G.forEach(function(de){return t(g,de)}),ir&&va(g,U),C}function b(g,u,f,h){if(typeof f=="object"&&f!==null&&f.type===os&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ql:e:{for(var C=f.key,B=u;B!==null;){if(B.key===C){if(C=f.type,C===os){if(B.tag===7){n(g,B.sibling),u=l(B,f.props.children),u.return=g,g=u;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&sy(C)===B.type){n(g,B.sibling),u=l(B,f.props),u.ref=lu(g,B,f),u.return=g,g=u;break e}n(g,B);break}else t(g,B);B=B.sibling}f.type===os?(u=Ma(f.props.children,g.mode,h,f.key),u.return=g,g=u):(h=_c(f.type,f.key,f.props,null,g.mode,h),h.ref=lu(g,u,f),h.return=g,g=h)}return A(g);case is:e:{for(B=f.key;u!==null;){if(u.key===B)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(g,u.sibling),u=l(u,f.children||[]),u.return=g,g=u;break e}else{n(g,u);break}else t(g,u);u=u.sibling}u=Fd(f,g.mode,h),u.return=g,g=u}return A(g);case xo:return B=f._init,b(g,u,B(f._payload),h)}if(gu(f))return T(g,u,f,h);if(iu(f))return c(g,u,f,h);ec(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(g,u.sibling),u=l(u,f),u.return=g,g=u):(n(g,u),u=xd(f,g.mode,h),u.return=g,g=u),A(g)):n(g,u)}return b}var js=IE(!0),NE=IE(!1),Zc=ua(null),jc=null,hs=null,wp=null;function bp(){wp=hs=jc=null}function Rp(e){var t=Zc.current;rr(Zc),e._currentValue=t}function vh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){jc=e,wp=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ni=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(jc===null)throw Error(nn(308));hs=e,jc.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var Ta=null;function Ip(e){Ta===null?Ta=[e]:Ta.push(e)}function CE(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ip(t)):(n.next=l.next,l.next=n),t.interleaved=n,So(e,r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fo=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Un&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,So(e,n)}return l=r.interleaved,l===null?(t.next=t,Ip(r)):(t.next=l.next,l.next=t),r.interleaved=t,So(e,n)}function pc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hp(e,n)}}function uy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,v=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};v===null?l=v=A:v=v.next=A,n=n.next}while(n!==null);v===null?l=v=t:v=v.next=t}else l=v=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:v,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gc(e,t,n,r){var l=e.updateQueue;Fo=!1;var v=l.firstBaseUpdate,A=l.lastBaseUpdate,N=l.shared.pending;if(N!==null){l.shared.pending=null;var E=N,P=E.next;E.next=null,A===null?v=P:A.next=P,A=E;var _=e.alternate;_!==null&&(_=_.updateQueue,N=_.lastBaseUpdate,N!==A&&(N===null?_.firstBaseUpdate=P:N.next=P,_.lastBaseUpdate=E))}if(v!==null){var i=l.baseState;A=0,_=P=E=null,N=v;do{var o=N.lane,w=N.eventTime;if((r&o)===o){_!==null&&(_=_.next={eventTime:w,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var T=e,c=N;switch(o=t,w=n,c.tag){case 1:if(T=c.payload,typeof T=="function"){i=T.call(w,i,o);break e}i=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=c.payload,o=typeof T=="function"?T.call(w,i,o):T,o==null)break e;i=sr({},i,o);break e;case 2:Fo=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,o=l.effects,o===null?l.effects=[N]:o.push(N))}else w={eventTime:w,lane:o,tag:N.tag,payload:N.payload,callback:N.callback,next:null},_===null?(P=_=w,E=i):_=_.next=w,A|=o;if(N=N.next,N===null){if(N=l.shared.pending,N===null)break;o=N,N=o.next,o.next=null,l.lastBaseUpdate=o,l.shared.pending=null}}while(1);if(_===null&&(E=i),l.baseState=E,l.firstBaseUpdate=P,l.lastBaseUpdate=_,t=l.shared.interleaved,t!==null){l=t;do A|=l.lane,l=l.next;while(l!==t)}else v===null&&(l.shared.lanes=0);ka|=A,e.lanes=A,e.memoizedState=i}}function ly(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(nn(191,l));l.call(r)}}}var ll={},so=ua(ll),Bu=ua(ll),Zu=ua(ll);function Sa(e){if(e===ll)throw Error(nn(174));return e}function Cp(e,t){switch(Jn(Zu,t),Jn(Bu,e),Jn(so,ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$d(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$d(t,e)}rr(so),Jn(so,t)}function Gs(){rr(so),rr(Bu),rr(Zu)}function OE(e){Sa(Zu.current);var t=Sa(so.current),n=$d(t,e.type);t!==n&&(Jn(Bu,e),Jn(so,n))}function Dp(e){Bu.current===e&&(rr(so),rr(Bu))}var or=ua(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cd=[];function Op(){for(var e=0;e<Cd.length;e++)Cd[e]._workInProgressVersionPrimary=null;Cd.length=0}var gc=wo.ReactCurrentDispatcher,Dd=wo.ReactCurrentBatchConfig,Fa=0,ar=null,_r=null,Rr=null,Hc=!1,wu=!1,ju=0,fA=0;function Ur(){throw Error(nn(321))}function Pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ki(e[n],t[n]))return!1;return!0}function Mp(e,t,n,r,l,v){if(Fa=v,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gc.current=e===null||e.memoizedState===null?gA:mA,e=n(r,l),wu){v=0;do{if(wu=!1,ju=0,25<=v)throw Error(nn(301));v+=1,Rr=_r=null,t.updateQueue=null,gc.current=yA,e=n(r,l)}while(wu)}if(gc.current=zc,t=_r!==null&&_r.next!==null,Fa=0,Rr=_r=ar=null,Hc=!1,t)throw Error(nn(300));return e}function Lp(){var e=ju!==0;return ju=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?ar.memoizedState=Rr=e:Rr=Rr.next=e,Rr}function Pi(){if(_r===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=_r.next;var t=Rr===null?ar.memoizedState:Rr.next;if(t!==null)Rr=t,_r=e;else{if(e===null)throw Error(nn(310));_r=e,e={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Rr===null?ar.memoizedState=Rr=e:Rr=Rr.next=e}return Rr}function Gu(e,t){return typeof t=="function"?t(e):t}function Od(e){var t=Pi(),n=t.queue;if(n===null)throw Error(nn(311));n.lastRenderedReducer=e;var r=_r,l=r.baseQueue,v=n.pending;if(v!==null){if(l!==null){var A=l.next;l.next=v.next,v.next=A}r.baseQueue=l=v,n.pending=null}if(l!==null){v=l.next,r=r.baseState;var N=A=null,E=null,P=v;do{var _=P.lane;if((Fa&_)===_)E!==null&&(E=E.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),r=P.hasEagerState?P.eagerState:e(r,P.action);else{var i={lane:_,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};E===null?(N=E=i,A=r):E=E.next=i,ar.lanes|=_,ka|=_}P=P.next}while(P!==null&&P!==v);E===null?A=r:E.next=N,Ki(r,t.memoizedState)||(ni=!0),t.memoizedState=r,t.baseState=A,t.baseQueue=E,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do v=l.lane,ar.lanes|=v,ka|=v,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pd(e){var t=Pi(),n=t.queue;if(n===null)throw Error(nn(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,v=t.memoizedState;if(l!==null){n.pending=null;var A=l=l.next;do v=e(v,A.action),A=A.next;while(A!==l);Ki(v,t.memoizedState)||(ni=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),n.lastRenderedState=v}return[v,r]}function PE(){}function ME(e,t){var n=ar,r=Pi(),l=t(),v=!Ki(r.memoizedState,l);if(v&&(r.memoizedState=l,ni=!0),r=r.queue,xp(FE.bind(null,n,r,e),[e]),r.getSnapshot!==t||v||Rr!==null&&Rr.memoizedState.tag&1){if(n.flags|=2048,qu(9,xE.bind(null,n,r,l,t),void 0,null),Ir===null)throw Error(nn(349));Fa&30||LE(n,t,l)}return l}function LE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xE(e,t,n,r){t.value=n,t.getSnapshot=r,kE(t)&&UE(e)}function FE(e,t,n){return n(function(){kE(t)&&UE(e)})}function kE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ki(e,n)}catch{return!0}}function UE(e){var t=So(e,1);t!==null&&Yi(t,e,1,-1)}function cy(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:e},t.queue=e,e=e.dispatch=pA.bind(null,ar,e),[t.memoizedState,e]}function qu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BE(){return Pi().memoizedState}function mc(e,t,n,r){var l=$i();ar.flags|=e,l.memoizedState=qu(1|t,n,void 0,r===void 0?null:r)}function ff(e,t,n,r){var l=Pi();r=r===void 0?null:r;var v=void 0;if(_r!==null){var A=_r.memoizedState;if(v=A.destroy,r!==null&&Pp(r,A.deps)){l.memoizedState=qu(t,n,v,r);return}}ar.flags|=e,l.memoizedState=qu(1|t,n,v,r)}function fy(e,t){return mc(8390656,8,e,t)}function xp(e,t){return ff(2048,8,e,t)}function ZE(e,t){return ff(4,2,e,t)}function jE(e,t){return ff(4,4,e,t)}function GE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qE(e,t,n){return n=n!=null?n.concat([e]):null,ff(4,4,GE.bind(null,t,e),n)}function Fp(){}function HE(e,t){var n=Pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zE(e,t){var n=Pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function YE(e,t,n){return Fa&21?(Ki(n,t)||(n=Xv(),ar.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ni=!0),e.memoizedState=n)}function dA(e,t){var n=Kn;Kn=n!==0&&4>n?n:4,e(!0);var r=Dd.transition;Dd.transition={};try{e(!1),t()}finally{Kn=n,Dd.transition=r}}function VE(){return Pi().memoizedState}function hA(e,t,n){var r=ra(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KE(e))WE(t,n);else if(n=CE(e,t,n,r),n!==null){var l=Qr();Yi(n,e,r,l),QE(n,t,r)}}function pA(e,t,n){var r=ra(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(e))WE(t,l);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var A=t.lastRenderedState,N=v(A,n);if(l.hasEagerState=!0,l.eagerState=N,Ki(N,A)){var E=t.interleaved;E===null?(l.next=l,Ip(t)):(l.next=E.next,E.next=l),t.interleaved=l;return}}catch{}finally{}n=CE(e,t,l,r),n!==null&&(l=Qr(),Yi(n,e,r,l),QE(n,t,r))}}function KE(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function WE(e,t){wu=Hc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hp(e,n)}}var zc={readContext:Oi,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},gA={readContext:Oi,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:Oi,useEffect:fy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mc(4194308,4,GE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mc(4194308,4,e,t)},useInsertionEffect:function(e,t){return mc(4,2,e,t)},useMemo:function(e,t){var n=$i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hA.bind(null,ar,e),[r.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:cy,useDebugValue:Fp,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=cy(!1),t=e[0];return e=dA.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ar,l=$i();if(ir){if(n===void 0)throw Error(nn(407));n=n()}else{if(n=t(),Ir===null)throw Error(nn(349));Fa&30||LE(r,t,n)}l.memoizedState=n;var v={value:n,getSnapshot:t};return l.queue=v,fy(FE.bind(null,r,v,e),[e]),r.flags|=2048,qu(9,xE.bind(null,r,v,n,t),void 0,null),n},useId:function(){var e=$i(),t=Ir.identifierPrefix;if(ir){var n=vo,r=yo;n=(r&~(1<<32-zi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ju++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mA={readContext:Oi,useCallback:HE,useContext:Oi,useEffect:xp,useImperativeHandle:qE,useInsertionEffect:ZE,useLayoutEffect:jE,useMemo:zE,useReducer:Od,useRef:BE,useState:function(){return Od(Gu)},useDebugValue:Fp,useDeferredValue:function(e){var t=Pi();return YE(t,_r.memoizedState,e)},useTransition:function(){var e=Od(Gu)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:ME,useId:VE,unstable_isNewReconciler:!1},yA={readContext:Oi,useCallback:HE,useContext:Oi,useEffect:xp,useImperativeHandle:qE,useInsertionEffect:ZE,useLayoutEffect:jE,useMemo:zE,useReducer:Pd,useRef:BE,useState:function(){return Pd(Gu)},useDebugValue:Fp,useDeferredValue:function(e){var t=Pi();return _r===null?t.memoizedState=e:YE(t,_r.memoizedState,e)},useTransition:function(){var e=Pd(Gu)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:ME,useId:VE,unstable_isNewReconciler:!1};function Ui(e,t){if(e&&e.defaultProps){t=sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var df={isMounted:function(e){return(e=e._reactInternals)?qa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qr(),l=ra(e),v=Eo(r,l);v.payload=t,n!=null&&(v.callback=n),t=ta(e,v,l),t!==null&&(Yi(t,e,l,r),pc(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qr(),l=ra(e),v=Eo(r,l);v.tag=1,v.payload=t,n!=null&&(v.callback=n),t=ta(e,v,l),t!==null&&(Yi(t,e,l,r),pc(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qr(),r=ra(e),l=Eo(n,r);l.tag=2,t!=null&&(l.callback=t),t=ta(e,l,r),t!==null&&(Yi(t,e,r,n),pc(t,e,r))}};function dy(e,t,n,r,l,v,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,v,A):t.prototype&&t.prototype.isPureReactComponent?!xu(n,r)||!xu(l,v):!0}function XE(e,t,n){var r=!1,l=aa,v=t.contextType;return typeof v=="object"&&v!==null?v=Oi(v):(l=ii(t)?La:qr.current,r=t.contextTypes,v=(r=r!=null)?Bs(e,l):aa),t=new t(n,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=df,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=v),t}function hy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&df.enqueueReplaceState(t,t.state,null)}function _h(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Np(e);var v=t.contextType;typeof v=="object"&&v!==null?l.context=Oi(v):(v=ii(t)?La:qr.current,l.context=Bs(e,v)),l.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(Eh(e,t,v,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&df.enqueueReplaceState(l,l.state,null),Gc(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,t){try{var n="",r=t;do n+=zS(r),r=r.return;while(r);var l=n}catch(v){l=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:l,digest:null}}function Md(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Th(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vA=typeof WeakMap=="function"?WeakMap:Map;function $E(e,t,n){n=Eo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vc||(Vc=!0,Oh=r),Th(e,t)},n}function JE(e,t,n){n=Eo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Th(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Th(e,t),typeof r!="function"&&(na===null?na=new Set([this]):na.add(this));var A=t.stack;this.componentDidCatch(t.value,{componentStack:A!==null?A:""})}),n}function py(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vA;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=PA.bind(null,e,t,n),t.then(e,e))}function gy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function my(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Eo(-1,1),t.tag=2,ta(n,t,1))),n.lanes|=1),e)}var EA=wo.ReactCurrentOwner,ni=!1;function Wr(e,t,n,r){t.child=e===null?NE(t,null,n,r):js(t,e.child,n,r)}function yy(e,t,n,r,l){n=n.render;var v=t.ref;return Ts(t,l),r=Mp(e,t,n,r,v,l),n=Lp(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ao(e,t,l)):(ir&&n&&Tp(t),t.flags|=1,Wr(e,t,r,l),t.child)}function vy(e,t,n,r,l){if(e===null){var v=n.type;return typeof v=="function"&&!Hp(v)&&v.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=v,e_(e,t,v,r,l)):(e=_c(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!(e.lanes&l)){var A=v.memoizedProps;if(n=n.compare,n=n!==null?n:xu,n(A,r)&&e.ref===t.ref)return Ao(e,t,l)}return t.flags|=1,e=ia(v,r),e.ref=t.ref,e.return=t,t.child=e}function e_(e,t,n,r,l){if(e!==null){var v=e.memoizedProps;if(xu(v,r)&&e.ref===t.ref)if(ni=!1,t.pendingProps=r=v,(e.lanes&l)!==0)e.flags&131072&&(ni=!0);else return t.lanes=e.lanes,Ao(e,t,l)}return Sh(e,t,n,r,l)}function t_(e,t,n){var r=t.pendingProps,l=r.children,v=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(gs,ui),ui|=n;else{if(!(n&1073741824))return e=v!==null?v.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(gs,ui),ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=v!==null?v.baseLanes:n,Jn(gs,ui),ui|=r}else v!==null?(r=v.baseLanes|n,t.memoizedState=null):r=n,Jn(gs,ui),ui|=r;return Wr(e,t,l,n),t.child}function n_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sh(e,t,n,r,l){var v=ii(n)?La:qr.current;return v=Bs(t,v),Ts(t,l),n=Mp(e,t,n,r,v,l),r=Lp(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ao(e,t,l)):(ir&&r&&Tp(t),t.flags|=1,Wr(e,t,n,l),t.child)}function Ey(e,t,n,r,l){if(ii(n)){var v=!0;kc(t)}else v=!1;if(Ts(t,l),t.stateNode===null)yc(e,t),XE(t,n,r),_h(t,n,r,l),r=!0;else if(e===null){var A=t.stateNode,N=t.memoizedProps;A.props=N;var E=A.context,P=n.contextType;typeof P=="object"&&P!==null?P=Oi(P):(P=ii(n)?La:qr.current,P=Bs(t,P));var _=n.getDerivedStateFromProps,i=typeof _=="function"||typeof A.getSnapshotBeforeUpdate=="function";i||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(N!==r||E!==P)&&hy(t,A,r,P),Fo=!1;var o=t.memoizedState;A.state=o,Gc(t,r,A,l),E=t.memoizedState,N!==r||o!==E||ri.current||Fo?(typeof _=="function"&&(Eh(t,n,_,r),E=t.memoizedState),(N=Fo||dy(t,n,N,r,o,E,P))?(i||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=E),A.props=r,A.state=E,A.context=P,r=N):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{A=t.stateNode,DE(e,t),N=t.memoizedProps,P=t.type===t.elementType?N:Ui(t.type,N),A.props=P,i=t.pendingProps,o=A.context,E=n.contextType,typeof E=="object"&&E!==null?E=Oi(E):(E=ii(n)?La:qr.current,E=Bs(t,E));var w=n.getDerivedStateFromProps;(_=typeof w=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(N!==i||o!==E)&&hy(t,A,r,E),Fo=!1,o=t.memoizedState,A.state=o,Gc(t,r,A,l);var T=t.memoizedState;N!==i||o!==T||ri.current||Fo?(typeof w=="function"&&(Eh(t,n,w,r),T=t.memoizedState),(P=Fo||dy(t,n,P,r,o,T,E)||!1)?(_||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,T,E),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,T,E)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||N===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),A.props=r,A.state=T,A.context=E,r=P):(typeof A.componentDidUpdate!="function"||N===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),r=!1)}return Ah(e,t,n,r,v,l)}function Ah(e,t,n,r,l,v){n_(e,t);var A=(t.flags&128)!==0;if(!r&&!A)return l&&iy(t,n,!1),Ao(e,t,v);r=t.stateNode,EA.current=t;var N=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&A?(t.child=js(t,e.child,null,v),t.child=js(t,null,N,v)):Wr(e,t,N,v),t.memoizedState=r.state,l&&iy(t,n,!0),t.child}function r_(e){var t=e.stateNode;t.pendingContext?ry(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ry(e,t.context,!1),Cp(e,t.containerInfo)}function _y(e,t,n,r,l){return Zs(),Ap(l),t.flags|=256,Wr(e,t,n,r),t.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function bh(e){return{baseLanes:e,cachePool:null,transitions:null}}function i_(e,t,n){var r=t.pendingProps,l=or.current,v=!1,A=(t.flags&128)!==0,N;if((N=A)||(N=e!==null&&e.memoizedState===null?!1:(l&2)!==0),N?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Jn(or,l&1),e===null)return yh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(A=r.children,e=r.fallback,v?(r=t.mode,v=t.child,A={mode:"hidden",children:A},!(r&1)&&v!==null?(v.childLanes=0,v.pendingProps=A):v=gf(A,r,0,null),e=Ma(e,r,n,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=bh(n),t.memoizedState=wh,e):kp(t,A));if(l=e.memoizedState,l!==null&&(N=l.dehydrated,N!==null))return _A(e,t,A,r,N,l,n);if(v){v=r.fallback,A=t.mode,l=e.child,N=l.sibling;var E={mode:"hidden",children:r.children};return!(A&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=E,t.deletions=null):(r=ia(l,E),r.subtreeFlags=l.subtreeFlags&14680064),N!==null?v=ia(N,v):(v=Ma(v,A,n,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,r=v,v=t.child,A=e.child.memoizedState,A=A===null?bh(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},v.memoizedState=A,v.childLanes=e.childLanes&~n,t.memoizedState=wh,r}return v=e.child,e=v.sibling,r=ia(v,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kp(e,t){return t=gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,n,r){return r!==null&&Ap(r),js(t,e.child,null,n),e=kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _A(e,t,n,r,l,v,A){if(n)return t.flags&256?(t.flags&=-257,r=Md(Error(nn(422))),tc(e,t,A,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=r.fallback,l=t.mode,r=gf({mode:"visible",children:r.children},l,0,null),v=Ma(v,l,A,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,t.mode&1&&js(t,e.child,null,A),t.child.memoizedState=bh(A),t.memoizedState=wh,v);if(!(t.mode&1))return tc(e,t,A,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var N=r.dgst;return r=N,v=Error(nn(419)),r=Md(v,r,void 0),tc(e,t,A,r)}if(N=(A&e.childLanes)!==0,ni||N){if(r=Ir,r!==null){switch(A&-A){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|A)?0:l,l!==0&&l!==v.retryLane&&(v.retryLane=l,So(e,l),Yi(r,e,l,-1))}return qp(),r=Md(Error(nn(421))),tc(e,t,A,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=MA.bind(null,e),l._reactRetry=t,null):(e=v.treeContext,ci=ea(l.nextSibling),fi=t,ir=!0,Gi=null,e!==null&&(Ii[Ni++]=yo,Ii[Ni++]=vo,Ii[Ni++]=xa,yo=e.id,vo=e.overflow,xa=t),t=kp(t,r.children),t.flags|=4096,t)}function Ty(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vh(e.return,t,n)}function Ld(e,t,n,r,l){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=n,v.tailMode=l)}function o_(e,t,n){var r=t.pendingProps,l=r.revealOrder,v=r.tail;if(Wr(e,t,r.children,n),r=or.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,n,t);else if(e.tag===19)Ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(or,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&qc(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ld(t,!1,l,n,v);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&qc(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ld(t,!0,n,null,v);break;case"together":Ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ao(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nn(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TA(e,t,n){switch(t.tag){case 3:r_(t),Zs();break;case 5:OE(t);break;case 1:ii(t.type)&&kc(t);break;case 4:Cp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Jn(Zc,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(or,or.current&1),t.flags|=128,null):n&t.child.childLanes?i_(e,t,n):(Jn(or,or.current&1),e=Ao(e,t,n),e!==null?e.sibling:null);Jn(or,or.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return o_(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Jn(or,or.current),r)break;return null;case 22:case 23:return t.lanes=0,t_(e,t,n)}return Ao(e,t,n)}var a_,Rh,s_,u_;a_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rh=function(){};s_=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Sa(so.current);var v=null;switch(n){case"input":l=Kd(e,l),r=Kd(e,r),v=[];break;case"select":l=sr({},l,{value:void 0}),r=sr({},r,{value:void 0}),v=[];break;case"textarea":l=Xd(e,l),r=Xd(e,r),v=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xc)}Jd(n,r);var A;n=null;for(P in l)if(!r.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var N=l[P];for(A in N)N.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(Nu.hasOwnProperty(P)?v||(v=[]):(v=v||[]).push(P,null));for(P in r){var E=r[P];if(N=l!=null?l[P]:void 0,r.hasOwnProperty(P)&&E!==N&&(E!=null||N!=null))if(P==="style")if(N){for(A in N)!N.hasOwnProperty(A)||E&&E.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in E)E.hasOwnProperty(A)&&N[A]!==E[A]&&(n||(n={}),n[A]=E[A])}else n||(v||(v=[]),v.push(P,n)),n=E;else P==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,N=N?N.__html:void 0,E!=null&&N!==E&&(v=v||[]).push(P,E)):P==="children"?typeof E!="string"&&typeof E!="number"||(v=v||[]).push(P,""+E):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(P)?(E!=null&&P==="onScroll"&&nr("scroll",e),v||N===E||(v=[])):(v=v||[]).push(P,E))}n&&(v=v||[]).push("style",n);var P=v;(t.updateQueue=P)&&(t.flags|=4)}};u_=function(e,t,n,r){n!==r&&(t.flags|=4)};function cu(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Br(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SA(e,t,n){var r=t.pendingProps;switch(Sp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(t),null;case 1:return ii(t.type)&&Fc(),Br(t),null;case 3:return r=t.stateNode,Gs(),rr(ri),rr(qr),Op(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gi!==null&&(Lh(Gi),Gi=null))),Rh(e,t),Br(t),null;case 5:Dp(t);var l=Sa(Zu.current);if(n=t.type,e!==null&&t.stateNode!=null)s_(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(nn(166));return Br(t),null}if(e=Sa(so.current),Jl(t)){r=t.stateNode,n=t.type;var v=t.memoizedProps;switch(r[ro]=t,r[Uu]=v,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(l=0;l<yu.length;l++)nr(yu[l],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":Dm(r,v),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!v.multiple},nr("invalid",r);break;case"textarea":Pm(r,v),nr("invalid",r)}Jd(n,v),l=null;for(var A in v)if(v.hasOwnProperty(A)){var N=v[A];A==="children"?typeof N=="string"?r.textContent!==N&&(v.suppressHydrationWarning!==!0&&$l(r.textContent,N,e),l=["children",N]):typeof N=="number"&&r.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&$l(r.textContent,N,e),l=["children",""+N]):Nu.hasOwnProperty(A)&&N!=null&&A==="onScroll"&&nr("scroll",r)}switch(n){case"input":Hl(r),Om(r,v,!0);break;case"textarea":Hl(r),Mm(r);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(r.onclick=xc)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{A=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=A.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),n==="select"&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[ro]=t,e[Uu]=r,a_(e,t,!1,!1),t.stateNode=e;e:{switch(A=eh(n,r),n){case"dialog":nr("cancel",e),nr("close",e),l=r;break;case"iframe":case"object":case"embed":nr("load",e),l=r;break;case"video":case"audio":for(l=0;l<yu.length;l++)nr(yu[l],e);l=r;break;case"source":nr("error",e),l=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),l=r;break;case"details":nr("toggle",e),l=r;break;case"input":Dm(e,r),l=Kd(e,r),nr("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=sr({},r,{value:void 0}),nr("invalid",e);break;case"textarea":Pm(e,r),l=Xd(e,r),nr("invalid",e);break;default:l=r}Jd(n,l),N=l;for(v in N)if(N.hasOwnProperty(v)){var E=N[v];v==="style"?Bv(e,E):v==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&kv(e,E)):v==="children"?typeof E=="string"?(n!=="textarea"||E!=="")&&Cu(e,E):typeof E=="number"&&Cu(e,""+E):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Nu.hasOwnProperty(v)?E!=null&&v==="onScroll"&&nr("scroll",e):E!=null&&sp(e,v,E,A))}switch(n){case"input":Hl(e),Om(e,r,!1);break;case"textarea":Hl(e),Mm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oa(r.value));break;case"select":e.multiple=!!r.multiple,v=r.value,v!=null?ys(e,!!r.multiple,v,!1):r.defaultValue!=null&&ys(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Br(t),null;case 6:if(e&&t.stateNode!=null)u_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(nn(166));if(n=Sa(Zu.current),Sa(so.current),Jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ro]=t,(v=r.nodeValue!==n)&&(e=fi,e!==null))switch(e.tag){case 3:$l(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$l(r.nodeValue,n,(e.mode&1)!==0)}v&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ro]=t,t.stateNode=r}return Br(t),null;case 13:if(rr(or),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ir&&ci!==null&&t.mode&1&&!(t.flags&128))RE(),Zs(),t.flags|=98560,v=!1;else if(v=Jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!v)throw Error(nn(318));if(v=t.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(nn(317));v[ro]=t}else Zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Br(t),v=!1}else Gi!==null&&(Lh(Gi),Gi=null),v=!0;if(!v)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Sr===0&&(Sr=3):qp())),t.updateQueue!==null&&(t.flags|=4),Br(t),null);case 4:return Gs(),Rh(e,t),e===null&&Fu(t.stateNode.containerInfo),Br(t),null;case 10:return Rp(t.type._context),Br(t),null;case 17:return ii(t.type)&&Fc(),Br(t),null;case 19:if(rr(or),v=t.memoizedState,v===null)return Br(t),null;if(r=(t.flags&128)!==0,A=v.rendering,A===null)if(r)cu(v,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(A=qc(e),A!==null){for(t.flags|=128,cu(v,!1),r=A.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)v=n,e=r,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,e=A.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(or,or.current&1|2),t.child}e=e.sibling}v.tail!==null&&gr()>Hs&&(t.flags|=128,r=!0,cu(v,!1),t.lanes=4194304)}else{if(!r)if(e=qc(A),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!ir)return Br(t),null}else 2*gr()-v.renderingStartTime>Hs&&n!==1073741824&&(t.flags|=128,r=!0,cu(v,!1),t.lanes=4194304);v.isBackwards?(A.sibling=t.child,t.child=A):(n=v.last,n!==null?n.sibling=A:t.child=A,v.last=A)}return v.tail!==null?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=gr(),t.sibling=null,n=or.current,Jn(or,r?n&1|2:n&1),t):(Br(t),null);case 22:case 23:return Gp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ui&1073741824&&(Br(t),t.subtreeFlags&6&&(t.flags|=8192)):Br(t),null;case 24:return null;case 25:return null}throw Error(nn(156,t.tag))}function AA(e,t){switch(Sp(t),t.tag){case 1:return ii(t.type)&&Fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),rr(ri),rr(qr),Op(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dp(t),null;case 13:if(rr(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nn(340));Zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(or),null;case 4:return Gs(),null;case 10:return Rp(t.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var nc=!1,jr=!1,wA=typeof WeakSet=="function"?WeakSet:Set,dn=null;function ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(e,t,r)}else n.current=null}function Ih(e,t,n){try{n()}catch(r){dr(e,t,r)}}var Sy=!1;function bA(e,t){if(ch=Pc,e=hE(),_p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,v=r.focusNode;r=r.focusOffset;try{n.nodeType,v.nodeType}catch{n=null;break e}var A=0,N=-1,E=-1,P=0,_=0,i=e,o=null;t:for(;;){for(var w;i!==n||l!==0&&i.nodeType!==3||(N=A+l),i!==v||r!==0&&i.nodeType!==3||(E=A+r),i.nodeType===3&&(A+=i.nodeValue.length),(w=i.firstChild)!==null;)o=i,i=w;for(;;){if(i===e)break t;if(o===n&&++P===l&&(N=A),o===v&&++_===r&&(E=A),(w=i.nextSibling)!==null)break;i=o,o=i.parentNode}i=w}n=N===-1||E===-1?null:{start:N,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:e,selectionRange:n},Pc=!1,dn=t;dn!==null;)if(t=dn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dn=e;else for(;dn!==null;){t=dn;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var c=T.memoizedProps,b=T.memoizedState,g=t.stateNode,u=g.getSnapshotBeforeUpdate(t.elementType===t.type?c:Ui(t.type,c),b);g.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nn(163))}}catch(h){dr(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,dn=e;break}dn=t.return}return T=Sy,Sy=!1,T}function bu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var v=l.destroy;l.destroy=void 0,v!==void 0&&Ih(t,n,v)}l=l.next}while(l!==r)}}function hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l_(e){var t=e.alternate;t!==null&&(e.alternate=null,l_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ro],delete t[Uu],delete t[ph],delete t[sA],delete t[uA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c_(e){return e.tag===5||e.tag===3||e.tag===4}function Ay(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xc));else if(r!==4&&(e=e.child,e!==null))for(Ch(e,t,n),e=e.sibling;e!==null;)Ch(e,t,n),e=e.sibling}function Dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dh(e,t,n),e=e.sibling;e!==null;)Dh(e,t,n),e=e.sibling}var Or=null,ji=!1;function Oo(e,t,n){for(n=n.child;n!==null;)f_(e,t,n),n=n.sibling}function f_(e,t,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(of,n)}catch{}switch(n.tag){case 5:jr||ps(n,t);case 6:var r=Or,l=ji;Or=null,Oo(e,t,n),Or=r,ji=l,Or!==null&&(ji?(e=Or,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Or.removeChild(n.stateNode));break;case 18:Or!==null&&(ji?(e=Or,n=n.stateNode,e.nodeType===8?Id(e.parentNode,n):e.nodeType===1&&Id(e,n),Mu(e)):Id(Or,n.stateNode));break;case 4:r=Or,l=ji,Or=n.stateNode.containerInfo,ji=!0,Oo(e,t,n),Or=r,ji=l;break;case 0:case 11:case 14:case 15:if(!jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var v=l,A=v.destroy;v=v.tag,A!==void 0&&(v&2||v&4)&&Ih(n,t,A),l=l.next}while(l!==r)}Oo(e,t,n);break;case 1:if(!jr&&(ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(N){dr(n,t,N)}Oo(e,t,n);break;case 21:Oo(e,t,n);break;case 22:n.mode&1?(jr=(r=jr)||n.memoizedState!==null,Oo(e,t,n),jr=r):Oo(e,t,n);break;default:Oo(e,t,n)}}function wy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wA),t.forEach(function(r){var l=LA.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ki(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var v=e,A=t,N=A;e:for(;N!==null;){switch(N.tag){case 5:Or=N.stateNode,ji=!1;break e;case 3:Or=N.stateNode.containerInfo,ji=!0;break e;case 4:Or=N.stateNode.containerInfo,ji=!0;break e}N=N.return}if(Or===null)throw Error(nn(160));f_(v,A,l),Or=null,ji=!1;var E=l.alternate;E!==null&&(E.return=null),l.return=null}catch(P){dr(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d_(t,e),t=t.sibling}function d_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ki(t,e),Qi(e),r&4){try{bu(3,e,e.return),hf(3,e)}catch(c){dr(e,e.return,c)}try{bu(5,e,e.return)}catch(c){dr(e,e.return,c)}}break;case 1:ki(t,e),Qi(e),r&512&&n!==null&&ps(n,n.return);break;case 5:if(ki(t,e),Qi(e),r&512&&n!==null&&ps(n,n.return),e.flags&32){var l=e.stateNode;try{Cu(l,"")}catch(c){dr(e,e.return,c)}}if(r&4&&(l=e.stateNode,l!=null)){var v=e.memoizedProps,A=n!==null?n.memoizedProps:v,N=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&Lv(l,v),eh(N,A);var P=eh(N,v);for(A=0;A<E.length;A+=2){var _=E[A],i=E[A+1];_==="style"?Bv(l,i):_==="dangerouslySetInnerHTML"?kv(l,i):_==="children"?Cu(l,i):sp(l,_,i,P)}switch(N){case"input":Wd(l,v);break;case"textarea":xv(l,v);break;case"select":var o=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!v.multiple;var w=v.value;w!=null?ys(l,!!v.multiple,w,!1):o!==!!v.multiple&&(v.defaultValue!=null?ys(l,!!v.multiple,v.defaultValue,!0):ys(l,!!v.multiple,v.multiple?[]:"",!1))}l[Uu]=v}catch(c){dr(e,e.return,c)}}break;case 6:if(ki(t,e),Qi(e),r&4){if(e.stateNode===null)throw Error(nn(162));l=e.stateNode,v=e.memoizedProps;try{l.nodeValue=v}catch(c){dr(e,e.return,c)}}break;case 3:if(ki(t,e),Qi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mu(t.containerInfo)}catch(c){dr(e,e.return,c)}break;case 4:ki(t,e),Qi(e);break;case 13:ki(t,e),Qi(e),l=e.child,l.flags&8192&&(v=l.memoizedState!==null,l.stateNode.isHidden=v,!v||l.alternate!==null&&l.alternate.memoizedState!==null||(Zp=gr())),r&4&&wy(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(jr=(P=jr)||_,ki(t,e),jr=P):ki(t,e),Qi(e),r&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!_&&e.mode&1)for(dn=e,_=e.child;_!==null;){for(i=dn=_;dn!==null;){switch(o=dn,w=o.child,o.tag){case 0:case 11:case 14:case 15:bu(4,o,o.return);break;case 1:ps(o,o.return);var T=o.stateNode;if(typeof T.componentWillUnmount=="function"){r=o,n=o.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(c){dr(r,n,c)}}break;case 5:ps(o,o.return);break;case 22:if(o.memoizedState!==null){Ry(i);continue}}w!==null?(w.return=o,dn=w):Ry(i)}_=_.sibling}e:for(_=null,i=e;;){if(i.tag===5){if(_===null){_=i;try{l=i.stateNode,P?(v=l.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=i.stateNode,E=i.memoizedProps.style,A=E!=null&&E.hasOwnProperty("display")?E.display:null,N.style.display=Uv("display",A))}catch(c){dr(e,e.return,c)}}}else if(i.tag===6){if(_===null)try{i.stateNode.nodeValue=P?"":i.memoizedProps}catch(c){dr(e,e.return,c)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;_===i&&(_=null),i=i.return}_===i&&(_=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:ki(t,e),Qi(e),r&4&&wy(e);break;case 21:break;default:ki(t,e),Qi(e)}}function Qi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c_(n)){var r=n;break e}n=n.return}throw Error(nn(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Cu(l,""),r.flags&=-33);var v=Ay(e);Dh(e,v,l);break;case 3:case 4:var A=r.stateNode.containerInfo,N=Ay(e);Ch(e,N,A);break;default:throw Error(nn(161))}}catch(E){dr(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RA(e,t,n){dn=e,h_(e)}function h_(e,t,n){for(var r=(e.mode&1)!==0;dn!==null;){var l=dn,v=l.child;if(l.tag===22&&r){var A=l.memoizedState!==null||nc;if(!A){var N=l.alternate,E=N!==null&&N.memoizedState!==null||jr;N=nc;var P=jr;if(nc=A,(jr=E)&&!P)for(dn=l;dn!==null;)A=dn,E=A.child,A.tag===22&&A.memoizedState!==null?Iy(l):E!==null?(E.return=A,dn=E):Iy(l);for(;v!==null;)dn=v,h_(v),v=v.sibling;dn=l,nc=N,jr=P}by(e)}else l.subtreeFlags&8772&&v!==null?(v.return=l,dn=v):by(e)}}function by(e){for(;dn!==null;){var t=dn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||hf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jr)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&ly(t,v,r);break;case 3:var A=t.updateQueue;if(A!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ly(t,A,n)}break;case 5:var N=t.stateNode;if(n===null&&t.flags&4){n=N;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&n.focus();break;case"img":E.src&&(n.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var _=P.memoizedState;if(_!==null){var i=_.dehydrated;i!==null&&Mu(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nn(163))}jr||t.flags&512&&Nh(t)}catch(o){dr(t,t.return,o)}}if(t===e){dn=null;break}if(n=t.sibling,n!==null){n.return=t.return,dn=n;break}dn=t.return}}function Ry(e){for(;dn!==null;){var t=dn;if(t===e){dn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,dn=n;break}dn=t.return}}function Iy(e){for(;dn!==null;){var t=dn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hf(4,t)}catch(E){dr(t,n,E)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(E){dr(t,l,E)}}var v=t.return;try{Nh(t)}catch(E){dr(t,v,E)}break;case 5:var A=t.return;try{Nh(t)}catch(E){dr(t,A,E)}}}catch(E){dr(t,t.return,E)}if(t===e){dn=null;break}var N=t.sibling;if(N!==null){N.return=t.return,dn=N;break}dn=t.return}}var IA=Math.ceil,Yc=wo.ReactCurrentDispatcher,Up=wo.ReactCurrentOwner,Di=wo.ReactCurrentBatchConfig,Un=0,Ir=null,yr=null,Mr=0,ui=0,gs=ua(0),Sr=0,Hu=null,ka=0,pf=0,Bp=0,Ru=null,ti=null,Zp=0,Hs=1/0,ho=null,Vc=!1,Oh=null,na=null,rc=!1,Qo=null,Kc=0,Iu=0,Ph=null,vc=-1,Ec=0;function Qr(){return Un&6?gr():vc!==-1?vc:vc=gr()}function ra(e){return e.mode&1?Un&2&&Mr!==0?Mr&-Mr:cA.transition!==null?(Ec===0&&(Ec=Xv()),Ec):(e=Kn,e!==0||(e=window.event,e=e===void 0?16:iE(e.type)),e):1}function Yi(e,t,n,r){if(50<Iu)throw Iu=0,Ph=null,Error(nn(185));al(e,n,r),(!(Un&2)||e!==Ir)&&(e===Ir&&(!(Un&2)&&(pf|=n),Sr===4&&Uo(e,Mr)),oi(e,r),n===1&&Un===0&&!(t.mode&1)&&(Hs=gr()+500,cf&&la()))}function oi(e,t){var n=e.callbackNode;c1(e,t);var r=Oc(e,e===Ir?Mr:0);if(r===0)n!==null&&Fm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fm(n),t===1)e.tag===0?lA(Ny.bind(null,e)):AE(Ny.bind(null,e)),oA(function(){!(Un&6)&&la()}),n=null;else{switch($v(r)){case 1:n=dp;break;case 4:n=Wv;break;case 16:n=Dc;break;case 536870912:n=Qv;break;default:n=Dc}n=T_(n,p_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function p_(e,t){if(vc=-1,Ec=0,Un&6)throw Error(nn(327));var n=e.callbackNode;if(Ss()&&e.callbackNode!==n)return null;var r=Oc(e,e===Ir?Mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wc(e,r);else{t=r;var l=Un;Un|=2;var v=m_();(Ir!==e||Mr!==t)&&(ho=null,Hs=gr()+500,Pa(e,t));do try{DA();break}catch(N){g_(e,N)}while(1);bp(),Yc.current=v,Un=l,yr!==null?t=0:(Ir=null,Mr=0,t=Sr)}if(t!==0){if(t===2&&(l=oh(e),l!==0&&(r=l,t=Mh(e,l))),t===1)throw n=Hu,Pa(e,0),Uo(e,r),oi(e,gr()),n;if(t===6)Uo(e,r);else{if(l=e.current.alternate,!(r&30)&&!NA(l)&&(t=Wc(e,r),t===2&&(v=oh(e),v!==0&&(r=v,t=Mh(e,v))),t===1))throw n=Hu,Pa(e,0),Uo(e,r),oi(e,gr()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(nn(345));case 2:Ea(e,ti,ho);break;case 3:if(Uo(e,r),(r&130023424)===r&&(t=Zp+500-gr(),10<t)){if(Oc(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Qr(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=hh(Ea.bind(null,e,ti,ho),t);break}Ea(e,ti,ho);break;case 4:if(Uo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var A=31-zi(r);v=1<<A,A=t[A],A>l&&(l=A),r&=~v}if(r=l,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IA(r/1960))-r,10<r){e.timeoutHandle=hh(Ea.bind(null,e,ti,ho),r);break}Ea(e,ti,ho);break;case 5:Ea(e,ti,ho);break;default:throw Error(nn(329))}}}return oi(e,gr()),e.callbackNode===n?p_.bind(null,e):null}function Mh(e,t){var n=Ru;return e.current.memoizedState.isDehydrated&&(Pa(e,t).flags|=256),e=Wc(e,t),e!==2&&(t=ti,ti=n,t!==null&&Lh(t)),e}function Lh(e){ti===null?ti=e:ti.push.apply(ti,e)}function NA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],v=l.getSnapshot;l=l.value;try{if(!Ki(v(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uo(e,t){for(t&=~Bp,t&=~pf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zi(t),r=1<<n;e[n]=-1,t&=~r}}function Ny(e){if(Un&6)throw Error(nn(327));Ss();var t=Oc(e,0);if(!(t&1))return oi(e,gr()),null;var n=Wc(e,t);if(e.tag!==0&&n===2){var r=oh(e);r!==0&&(t=r,n=Mh(e,r))}if(n===1)throw n=Hu,Pa(e,0),Uo(e,t),oi(e,gr()),n;if(n===6)throw Error(nn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,ti,ho),oi(e,gr()),null}function jp(e,t){var n=Un;Un|=1;try{return e(t)}finally{Un=n,Un===0&&(Hs=gr()+500,cf&&la())}}function Ua(e){Qo!==null&&Qo.tag===0&&!(Un&6)&&Ss();var t=Un;Un|=1;var n=Di.transition,r=Kn;try{if(Di.transition=null,Kn=1,e)return e()}finally{Kn=r,Di.transition=n,Un=t,!(Un&6)&&la()}}function Gp(){ui=gs.current,rr(gs)}function Pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iA(n)),yr!==null)for(n=yr.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:Gs(),rr(ri),rr(qr),Op();break;case 5:Dp(r);break;case 4:Gs();break;case 13:rr(or);break;case 19:rr(or);break;case 10:Rp(r.type._context);break;case 22:case 23:Gp()}n=n.return}if(Ir=e,yr=e=ia(e.current,null),Mr=ui=t,Sr=0,Hu=null,Bp=pf=ka=0,ti=Ru=null,Ta!==null){for(t=0;t<Ta.length;t++)if(n=Ta[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,v=n.pending;if(v!==null){var A=v.next;v.next=l,r.next=A}n.pending=r}Ta=null}return e}function g_(e,t){do{var n=yr;try{if(bp(),gc.current=zc,Hc){for(var r=ar.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Hc=!1}if(Fa=0,Rr=_r=ar=null,wu=!1,ju=0,Up.current=null,n===null||n.return===null){Sr=1,Hu=t,yr=null;break}e:{var v=e,A=n.return,N=n,E=t;if(t=Mr,N.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=E,_=N,i=_.tag;if(!(_.mode&1)&&(i===0||i===11||i===15)){var o=_.alternate;o?(_.updateQueue=o.updateQueue,_.memoizedState=o.memoizedState,_.lanes=o.lanes):(_.updateQueue=null,_.memoizedState=null)}var w=gy(A);if(w!==null){w.flags&=-257,my(w,A,N,v,t),w.mode&1&&py(v,P,t),t=w,E=P;var T=t.updateQueue;if(T===null){var c=new Set;c.add(E),t.updateQueue=c}else T.add(E);break e}else{if(!(t&1)){py(v,P,t),qp();break e}E=Error(nn(426))}}else if(ir&&N.mode&1){var b=gy(A);if(b!==null){!(b.flags&65536)&&(b.flags|=256),my(b,A,N,v,t),Ap(qs(E,N));break e}}v=E=qs(E,N),Sr!==4&&(Sr=2),Ru===null?Ru=[v]:Ru.push(v),v=A;do{switch(v.tag){case 3:v.flags|=65536,t&=-t,v.lanes|=t;var g=$E(v,E,t);uy(v,g);break e;case 1:N=E;var u=v.type,f=v.stateNode;if(!(v.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f)))){v.flags|=65536,t&=-t,v.lanes|=t;var h=JE(v,N,t);uy(v,h);break e}}v=v.return}while(v!==null)}v_(n)}catch(C){t=C,yr===n&&n!==null&&(yr=n=n.return);continue}break}while(1)}function m_(){var e=Yc.current;return Yc.current=zc,e===null?zc:e}function qp(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Ir===null||!(ka&268435455)&&!(pf&268435455)||Uo(Ir,Mr)}function Wc(e,t){var n=Un;Un|=2;var r=m_();(Ir!==e||Mr!==t)&&(ho=null,Pa(e,t));do try{CA();break}catch(l){g_(e,l)}while(1);if(bp(),Un=n,Yc.current=r,yr!==null)throw Error(nn(261));return Ir=null,Mr=0,Sr}function CA(){for(;yr!==null;)y_(yr)}function DA(){for(;yr!==null&&!t1();)y_(yr)}function y_(e){var t=__(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?v_(e):yr=t,Up.current=null}function v_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AA(n,t),n!==null){n.flags&=32767,yr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,yr=null;return}}else if(n=SA(n,t,ui),n!==null){yr=n;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Sr===0&&(Sr=5)}function Ea(e,t,n){var r=Kn,l=Di.transition;try{Di.transition=null,Kn=1,OA(e,t,n,r)}finally{Di.transition=l,Kn=r}return null}function OA(e,t,n,r){do Ss();while(Qo!==null);if(Un&6)throw Error(nn(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(nn(177));e.callbackNode=null,e.callbackPriority=0;var v=n.lanes|n.childLanes;if(f1(e,v),e===Ir&&(yr=Ir=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,T_(Dc,function(){return Ss(),null})),v=(n.flags&15990)!==0,n.subtreeFlags&15990||v){v=Di.transition,Di.transition=null;var A=Kn;Kn=1;var N=Un;Un|=4,Up.current=null,bA(e,n),d_(n,e),X1(fh),Pc=!!ch,fh=ch=null,e.current=n,RA(n),n1(),Un=N,Kn=A,Di.transition=v}else e.current=n;if(rc&&(rc=!1,Qo=e,Kc=l),v=e.pendingLanes,v===0&&(na=null),o1(n.stateNode),oi(e,gr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Vc)throw Vc=!1,e=Oh,Oh=null,e;return Kc&1&&e.tag!==0&&Ss(),v=e.pendingLanes,v&1?e===Ph?Iu++:(Iu=0,Ph=e):Iu=0,la(),null}function Ss(){if(Qo!==null){var e=$v(Kc),t=Di.transition,n=Kn;try{if(Di.transition=null,Kn=16>e?16:e,Qo===null)var r=!1;else{if(e=Qo,Qo=null,Kc=0,Un&6)throw Error(nn(331));var l=Un;for(Un|=4,dn=e.current;dn!==null;){var v=dn,A=v.child;if(dn.flags&16){var N=v.deletions;if(N!==null){for(var E=0;E<N.length;E++){var P=N[E];for(dn=P;dn!==null;){var _=dn;switch(_.tag){case 0:case 11:case 15:bu(8,_,v)}var i=_.child;if(i!==null)i.return=_,dn=i;else for(;dn!==null;){_=dn;var o=_.sibling,w=_.return;if(l_(_),_===P){dn=null;break}if(o!==null){o.return=w,dn=o;break}dn=w}}}var T=v.alternate;if(T!==null){var c=T.child;if(c!==null){T.child=null;do{var b=c.sibling;c.sibling=null,c=b}while(c!==null)}}dn=v}}if(v.subtreeFlags&2064&&A!==null)A.return=v,dn=A;else e:for(;dn!==null;){if(v=dn,v.flags&2048)switch(v.tag){case 0:case 11:case 15:bu(9,v,v.return)}var g=v.sibling;if(g!==null){g.return=v.return,dn=g;break e}dn=v.return}}var u=e.current;for(dn=u;dn!==null;){A=dn;var f=A.child;if(A.subtreeFlags&2064&&f!==null)f.return=A,dn=f;else e:for(A=u;dn!==null;){if(N=dn,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:hf(9,N)}}catch(C){dr(N,N.return,C)}if(N===A){dn=null;break e}var h=N.sibling;if(h!==null){h.return=N.return,dn=h;break e}dn=N.return}}if(Un=l,la(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(of,e)}catch{}r=!0}return r}finally{Kn=n,Di.transition=t}}return!1}function Cy(e,t,n){t=qs(n,t),t=$E(e,t,1),e=ta(e,t,1),t=Qr(),e!==null&&(al(e,1,t),oi(e,t))}function dr(e,t,n){if(e.tag===3)Cy(e,e,n);else for(;t!==null;){if(t.tag===3){Cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(na===null||!na.has(r))){e=qs(n,e),e=JE(t,e,1),t=ta(t,e,1),e=Qr(),t!==null&&(al(t,1,e),oi(t,e));break}}t=t.return}}function PA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&n,Ir===e&&(Mr&n)===n&&(Sr===4||Sr===3&&(Mr&130023424)===Mr&&500>gr()-Zp?Pa(e,0):Bp|=n),oi(e,t)}function E_(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var n=Qr();e=So(e,t),e!==null&&(al(e,t,n),oi(e,n))}function MA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),E_(e,n)}function LA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(nn(314))}r!==null&&r.delete(t),E_(e,n)}var __;__=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ri.current)ni=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ni=!1,TA(e,t,n);ni=!!(e.flags&131072)}else ni=!1,ir&&t.flags&1048576&&wE(t,Bc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yc(e,t),e=t.pendingProps;var l=Bs(t,qr.current);Ts(t,n),l=Mp(null,t,r,e,l,n);var v=Lp();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ii(r)?(v=!0,kc(t)):v=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Np(t),l.updater=df,t.stateNode=l,l._reactInternals=t,_h(t,r,e,n),t=Ah(null,t,r,!0,v,n)):(t.tag=0,ir&&v&&Tp(t),Wr(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yc(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=FA(r),e=Ui(r,e),l){case 0:t=Sh(null,t,r,e,n);break e;case 1:t=Ey(null,t,r,e,n);break e;case 11:t=yy(null,t,r,e,n);break e;case 14:t=vy(null,t,r,Ui(r.type,e),n);break e}throw Error(nn(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ui(r,l),Sh(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ui(r,l),Ey(e,t,r,l,n);case 3:e:{if(r_(t),e===null)throw Error(nn(387));r=t.pendingProps,v=t.memoizedState,l=v.element,DE(e,t),Gc(t,r,null,n);var A=t.memoizedState;if(r=A.element,v.isDehydrated)if(v={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){l=qs(Error(nn(423)),t),t=_y(e,t,r,n,l);break e}else if(r!==l){l=qs(Error(nn(424)),t),t=_y(e,t,r,n,l);break e}else for(ci=ea(t.stateNode.containerInfo.firstChild),fi=t,ir=!0,Gi=null,n=NE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===l){t=Ao(e,t,n);break e}Wr(e,t,r,n)}t=t.child}return t;case 5:return OE(t),e===null&&yh(t),r=t.type,l=t.pendingProps,v=e!==null?e.memoizedProps:null,A=l.children,dh(r,l)?A=null:v!==null&&dh(r,v)&&(t.flags|=32),n_(e,t),Wr(e,t,A,n),t.child;case 6:return e===null&&yh(t),null;case 13:return i_(e,t,n);case 4:return Cp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=js(t,null,r,n):Wr(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ui(r,l),yy(e,t,r,l,n);case 7:return Wr(e,t,t.pendingProps,n),t.child;case 8:return Wr(e,t,t.pendingProps.children,n),t.child;case 12:return Wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,v=t.memoizedProps,A=l.value,Jn(Zc,r._currentValue),r._currentValue=A,v!==null)if(Ki(v.value,A)){if(v.children===l.children&&!ri.current){t=Ao(e,t,n);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var N=v.dependencies;if(N!==null){A=v.child;for(var E=N.firstContext;E!==null;){if(E.context===r){if(v.tag===1){E=Eo(-1,n&-n),E.tag=2;var P=v.updateQueue;if(P!==null){P=P.shared;var _=P.pending;_===null?E.next=E:(E.next=_.next,_.next=E),P.pending=E}}v.lanes|=n,E=v.alternate,E!==null&&(E.lanes|=n),vh(v.return,n,t),N.lanes|=n;break}E=E.next}}else if(v.tag===10)A=v.type===t.type?null:v.child;else if(v.tag===18){if(A=v.return,A===null)throw Error(nn(341));A.lanes|=n,N=A.alternate,N!==null&&(N.lanes|=n),vh(A,n,t),A=v.sibling}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===t){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}Wr(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Ts(t,n),l=Oi(l),r=r(l),t.flags|=1,Wr(e,t,r,n),t.child;case 14:return r=t.type,l=Ui(r,t.pendingProps),l=Ui(r.type,l),vy(e,t,r,l,n);case 15:return e_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ui(r,l),yc(e,t),t.tag=1,ii(r)?(e=!0,kc(t)):e=!1,Ts(t,n),XE(t,r,l),_h(t,r,l,n),Ah(null,t,r,!0,e,n);case 19:return o_(e,t,n);case 22:return t_(e,t,n)}throw Error(nn(156,t.tag))};function T_(e,t){return Kv(e,t)}function xA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,n,r){return new xA(e,t,n,r)}function Hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FA(e){if(typeof e=="function")return Hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lp)return 11;if(e===cp)return 14}return 2}function ia(e,t){var n=e.alternate;return n===null?(n=Ci(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,l,v){var A=2;if(r=e,typeof e=="function")Hp(e)&&(A=1);else if(typeof e=="string")A=5;else e:switch(e){case os:return Ma(n.children,l,v,t);case up:A=8,l|=8;break;case Hd:return e=Ci(12,n,t,l|2),e.elementType=Hd,e.lanes=v,e;case zd:return e=Ci(13,n,t,l),e.elementType=zd,e.lanes=v,e;case Yd:return e=Ci(19,n,t,l),e.elementType=Yd,e.lanes=v,e;case Ov:return gf(n,l,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cv:A=10;break e;case Dv:A=9;break e;case lp:A=11;break e;case cp:A=14;break e;case xo:A=16,r=null;break e}throw Error(nn(130,e==null?e:typeof e,""))}return t=Ci(A,n,t,l),t.elementType=e,t.type=r,t.lanes=v,t}function Ma(e,t,n,r){return e=Ci(7,e,r,t),e.lanes=n,e}function gf(e,t,n,r){return e=Ci(22,e,r,t),e.elementType=Ov,e.lanes=n,e.stateNode={isHidden:!1},e}function xd(e,t,n){return e=Ci(6,e,null,t),e.lanes=n,e}function Fd(e,t,n){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kA(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function zp(e,t,n,r,l,v,A,N,E){return e=new kA(e,t,n,N,E),t===1?(t=1,v===!0&&(t|=8)):t=0,v=Ci(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(v),e}function UA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function S_(e){if(!e)return aa;e=e._reactInternals;e:{if(qa(e)!==e||e.tag!==1)throw Error(nn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(nn(171))}if(e.tag===1){var n=e.type;if(ii(n))return SE(e,n,t)}return t}function A_(e,t,n,r,l,v,A,N,E){return e=zp(n,r,!0,e,l,v,A,N,E),e.context=S_(null),n=e.current,r=Qr(),l=ra(n),v=Eo(r,l),v.callback=t??null,ta(n,v,l),e.current.lanes=l,al(e,l,r),oi(e,r),e}function mf(e,t,n,r){var l=t.current,v=Qr(),A=ra(l);return n=S_(n),t.context===null?t.context=n:t.pendingContext=n,t=Eo(v,A),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ta(l,t,A),e!==null&&(Yi(e,l,A,v),pc(e,l,A)),A}function Qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yp(e,t){Dy(e,t),(e=e.alternate)&&Dy(e,t)}function BA(){return null}var w_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vp(e){this._internalRoot=e}yf.prototype.render=Vp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nn(409));mf(e,t,null,null)};yf.prototype.unmount=Vp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ua(function(){mf(null,e,null,null)}),t[To]=null}};function yf(e){this._internalRoot=e}yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=tE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ko.length&&t!==0&&t<ko[n].priority;n++);ko.splice(n,0,e),n===0&&rE(e)}};function Kp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function ZA(e,t,n,r,l){if(l){if(typeof r=="function"){var v=r;r=function(){var P=Qc(A);v.call(P)}}var A=A_(t,r,e,0,null,!1,!1,"",Oy);return e._reactRootContainer=A,e[To]=A.current,Fu(e.nodeType===8?e.parentNode:e),Ua(),A}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var N=r;r=function(){var P=Qc(E);N.call(P)}}var E=zp(e,0,!1,null,null,!1,!1,"",Oy);return e._reactRootContainer=E,e[To]=E.current,Fu(e.nodeType===8?e.parentNode:e),Ua(function(){mf(t,E,n,r)}),E}function Ef(e,t,n,r,l){var v=n._reactRootContainer;if(v){var A=v;if(typeof l=="function"){var N=l;l=function(){var E=Qc(A);N.call(E)}}mf(t,A,e,l)}else A=ZA(n,t,e,l,r);return Qc(A)}Jv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mu(t.pendingLanes);n!==0&&(hp(t,n|1),oi(t,gr()),!(Un&6)&&(Hs=gr()+500,la()))}break;case 13:Ua(function(){var r=So(e,1);if(r!==null){var l=Qr();Yi(r,e,1,l)}}),Yp(e,1)}};pp=function(e){if(e.tag===13){var t=So(e,134217728);if(t!==null){var n=Qr();Yi(t,e,134217728,n)}Yp(e,134217728)}};eE=function(e){if(e.tag===13){var t=ra(e),n=So(e,t);if(n!==null){var r=Qr();Yi(n,e,t,r)}Yp(e,t)}};tE=function(){return Kn};nE=function(e,t){var n=Kn;try{return Kn=e,t()}finally{Kn=n}};nh=function(e,t,n){switch(t){case"input":if(Wd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=lf(r);if(!l)throw Error(nn(90));Mv(r),Wd(r,l)}}}break;case"textarea":xv(e,n);break;case"select":t=n.value,t!=null&&ys(e,!!n.multiple,t,!1)}};Gv=jp;qv=Ua;var jA={usingClientEntryPoint:!1,Events:[ul,ls,lf,Zv,jv,jp]},fu={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yv(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||BA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{of=ic.inject(GA),ao=ic}catch{}}pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(t))throw Error(nn(200));return UA(e,t,null,n)};pi.createRoot=function(e,t){if(!Kp(e))throw Error(nn(299));var n=!1,r="",l=w_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=zp(e,1,!1,null,null,n,!1,r,l),e[To]=t.current,Fu(e.nodeType===8?e.parentNode:e),new Vp(t)};pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nn(188)):(e=Object.keys(e).join(","),Error(nn(268,e)));return e=Yv(t),e=e===null?null:e.stateNode,e};pi.flushSync=function(e){return Ua(e)};pi.hydrate=function(e,t,n){if(!vf(t))throw Error(nn(200));return Ef(null,e,t,!0,n)};pi.hydrateRoot=function(e,t,n){if(!Kp(e))throw Error(nn(405));var r=n!=null&&n.hydratedSources||null,l=!1,v="",A=w_;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(v=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),t=A_(t,null,e,1,n??null,l,!1,v,A),e[To]=t.current,Fu(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new yf(t)};pi.render=function(e,t,n){if(!vf(t))throw Error(nn(200));return Ef(null,e,t,!1,n)};pi.unmountComponentAtNode=function(e){if(!vf(e))throw Error(nn(40));return e._reactRootContainer?(Ua(function(){Ef(null,null,e,!1,function(){e._reactRootContainer=null,e[To]=null})}),!0):!1};pi.unstable_batchedUpdates=jp;pi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vf(n))throw Error(nn(200));if(e==null||e._reactInternals===void 0)throw Error(nn(38));return Ef(e,t,n,!1,r)};pi.version="18.3.1-next-f1338f8080-20240426";function b_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b_)}catch(e){console.error(e)}}b_(),bv.exports=pi;var qA=bv.exports,Py=qA;Gd.createRoot=Py.createRoot,Gd.hydrateRoot=Py.hydrateRoot;var Ks=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ba=typeof window>"u"||"Deno"in globalThis;function Ri(){}function HA(e,t){return typeof e=="function"?e(t):e}function xh(e){return typeof e=="number"&&e>=0&&e!==1/0}function R_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function As(e,t){return typeof e=="function"?e(t):e}function qi(e,t){return typeof e=="function"?e(t):e}function My(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:v,queryKey:A,stale:N}=e;if(A){if(r){if(t.queryHash!==Wp(A,t.options))return!1}else if(!zu(t.queryKey,A))return!1}if(n!=="all"){const E=t.isActive();if(n==="active"&&!E||n==="inactive"&&E)return!1}return!(typeof N=="boolean"&&t.isStale()!==N||l&&l!==t.state.fetchStatus||v&&!v(t))}function Ly(e,t){const{exact:n,status:r,predicate:l,mutationKey:v}=e;if(v){if(!t.options.mutationKey)return!1;if(n){if(Za(t.options.mutationKey)!==Za(v))return!1}else if(!zu(t.options.mutationKey,v))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function Wp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Za)(e)}function Za(e){return JSON.stringify(e,(t,n)=>Fh(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function zu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!zu(e[n],t[n])):!1}function I_(e,t){if(e===t)return e;const n=xy(e)&&xy(t);if(n||Fh(e)&&Fh(t)){const r=n?e:Object.keys(e),l=r.length,v=n?t:Object.keys(t),A=v.length,N=n?[]:{};let E=0;for(let P=0;P<A;P++){const _=n?P:v[P];(!n&&r.includes(_)||n)&&e[_]===void 0&&t[_]===void 0?(N[_]=void 0,E++):(N[_]=I_(e[_],t[_]),N[_]===e[_]&&e[_]!==void 0&&E++)}return l===A&&E===l?e:N}return t}function Xc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function xy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fh(e){if(!Fy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Fy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fy(e){return Object.prototype.toString.call(e)==="[object Object]"}function zA(e){return new Promise(t=>{setTimeout(t,e)})}function kh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?I_(e,t):t}function YA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function VA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Qp=Symbol();function N_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wa,Zo,ws,rv,KA=(rv=class extends Ks{constructor(){super();vn(this,wa,void 0);vn(this,Zo,void 0);vn(this,ws,void 0);cn(this,ws,t=>{if(!Ba&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,Zo)||this.setEventListener(Qe(this,ws))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Zo))==null||t.call(this),cn(this,Zo,void 0))}setEventListener(t){var n;cn(this,ws,t),(n=Qe(this,Zo))==null||n.call(this),cn(this,Zo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Qe(this,wa)!==t&&(cn(this,wa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Qe(this,wa)=="boolean"?Qe(this,wa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wa=new WeakMap,Zo=new WeakMap,ws=new WeakMap,rv),Xp=new KA,bs,jo,Rs,iv,WA=(iv=class extends Ks{constructor(){super();vn(this,bs,!0);vn(this,jo,void 0);vn(this,Rs,void 0);cn(this,Rs,t=>{if(!Ba&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,jo)||this.setEventListener(Qe(this,Rs))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,jo))==null||t.call(this),cn(this,jo,void 0))}setEventListener(t){var n;cn(this,Rs,t),(n=Qe(this,jo))==null||n.call(this),cn(this,jo,t(this.setOnline.bind(this)))}setOnline(t){Qe(this,bs)!==t&&(cn(this,bs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Qe(this,bs)}},bs=new WeakMap,jo=new WeakMap,Rs=new WeakMap,iv),$c=new WA;function Uh(){let e,t;const n=new Promise((l,v)=>{e=l,t=v});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}function QA(e){return Math.min(1e3*2**e,3e4)}function C_(e){return(e??"online")==="online"?$c.isOnline():!0}var D_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kd(e){return e instanceof D_}function O_(e){let t=!1,n=0,r=!1,l;const v=Uh(),A=c=>{var b;r||(o(new D_(c)),(b=e.abort)==null||b.call(e))},N=()=>{t=!0},E=()=>{t=!1},P=()=>Xp.isFocused()&&(e.networkMode==="always"||$c.isOnline())&&e.canRun(),_=()=>C_(e.networkMode)&&e.canRun(),i=c=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,c),l==null||l(),v.resolve(c))},o=c=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,c),l==null||l(),v.reject(c))},w=()=>new Promise(c=>{var b;l=g=>{(r||P())&&c(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var c;l=void 0,r||(c=e.onContinue)==null||c.call(e)}),T=()=>{if(r)return;let c;const b=n===0?e.initialPromise:void 0;try{c=b??e.fn()}catch(g){c=Promise.reject(g)}Promise.resolve(c).then(i).catch(g=>{var B;if(r)return;const u=e.retry??(Ba?0:3),f=e.retryDelay??QA,h=typeof f=="function"?f(n,g):f,C=u===!0||typeof u=="number"&&n<u||typeof u=="function"&&u(n,g);if(t||!C){o(g);return}n++,(B=e.onFail)==null||B.call(e,n,g),zA(h).then(()=>P()?void 0:w()).then(()=>{t?o(g):T()})})};return{promise:v,cancel:A,continue:()=>(l==null||l(),v),cancelRetry:N,continueRetry:E,canStart:_,start:()=>(_()?T():w().then(T),v)}}function XA(){let e=[],t=0,n=N=>{N()},r=N=>{N()},l=N=>setTimeout(N,0);const v=N=>{t?e.push(N):l(()=>{n(N)})},A=()=>{const N=e;e=[],N.length&&l(()=>{r(()=>{N.forEach(E=>{n(E)})})})};return{batch:N=>{let E;t++;try{E=N()}finally{t--,t||A()}return E},batchCalls:N=>(...E)=>{v(()=>{N(...E)})},schedule:v,setNotifyFunction:N=>{n=N},setBatchNotifyFunction:N=>{r=N},setScheduler:N=>{l=N}}}var Tr=XA(),ba,ov,P_=(ov=class{constructor(){vn(this,ba,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xh(this.gcTime)&&cn(this,ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ba?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,ba)&&(clearTimeout(Qe(this,ba)),cn(this,ba,void 0))}},ba=new WeakMap,ov),Is,Ns,bi,Zr,Vu,Ra,Bi,fo,av,$A=(av=class extends P_{constructor(t){super();vn(this,Bi);vn(this,Is,void 0);vn(this,Ns,void 0);vn(this,bi,void 0);vn(this,Zr,void 0);vn(this,Vu,void 0);vn(this,Ra,void 0);cn(this,Ra,!1),cn(this,Vu,t.defaultOptions),this.setOptions(t.options),this.observers=[],cn(this,bi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,cn(this,Is,JA(this.options)),this.state=t.state??Qe(this,Is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Qe(this,Zr))==null?void 0:t.promise}setOptions(t){this.options={...Qe(this,Vu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,bi).remove(this)}setData(t,n){const r=kh(this.state.data,t,this.options);return Dn(this,Bi,fo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Dn(this,Bi,fo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,l;const n=(r=Qe(this,Zr))==null?void 0:r.promise;return(l=Qe(this,Zr))==null||l.cancel(t),n?n.then(Ri).catch(Ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,Is))}isActive(){return this.observers.some(t=>qi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!R_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Zr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Zr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Qe(this,bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Qe(this,Zr)&&(Qe(this,Ra)?Qe(this,Zr).cancel({revert:!0}):Qe(this,Zr).cancelRetry()),this.scheduleGc()),Qe(this,bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dn(this,Bi,fo).call(this,{type:"invalidate"})}fetch(t,n){var E,P,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Zr))return Qe(this,Zr).continueRetry(),Qe(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const i=this.observers.find(o=>o.options.queryFn);i&&this.setOptions(i.options)}const r=new AbortController,l=i=>{Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(cn(this,Ra,!0),r.signal)})},v=()=>{const i=N_(this.options,n),o={queryKey:this.queryKey,meta:this.meta};return l(o),cn(this,Ra,!1),this.options.persister?this.options.persister(i,o,this):i(o)},A={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:v};l(A),(E=this.options.behavior)==null||E.onFetch(A,this),cn(this,Ns,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((P=A.fetchOptions)==null?void 0:P.meta))&&Dn(this,Bi,fo).call(this,{type:"fetch",meta:(_=A.fetchOptions)==null?void 0:_.meta});const N=i=>{var o,w,T,c;kd(i)&&i.silent||Dn(this,Bi,fo).call(this,{type:"error",error:i}),kd(i)||((w=(o=Qe(this,bi).config).onError)==null||w.call(o,i,this),(c=(T=Qe(this,bi).config).onSettled)==null||c.call(T,this.state.data,i,this)),this.scheduleGc()};return cn(this,Zr,O_({initialPromise:n==null?void 0:n.initialPromise,fn:A.fetchFn,abort:r.abort.bind(r),onSuccess:i=>{var o,w,T,c;if(i===void 0){N(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(i)}catch(b){N(b);return}(w=(o=Qe(this,bi).config).onSuccess)==null||w.call(o,i,this),(c=(T=Qe(this,bi).config).onSettled)==null||c.call(T,i,this.state.error,this),this.scheduleGc()},onError:N,onFail:(i,o)=>{Dn(this,Bi,fo).call(this,{type:"failed",failureCount:i,error:o})},onPause:()=>{Dn(this,Bi,fo).call(this,{type:"pause"})},onContinue:()=>{Dn(this,Bi,fo).call(this,{type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode,canRun:()=>!0})),Qe(this,Zr).start()}},Is=new WeakMap,Ns=new WeakMap,bi=new WeakMap,Zr=new WeakMap,Vu=new WeakMap,Ra=new WeakMap,Bi=new WeakSet,fo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...M_(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return kd(l)&&l.revert&&Qe(this,Ns)?{...Qe(this,Ns),fetchStatus:"idle"}:{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,bi).notify({query:this,type:"updated",action:t})})},av);function M_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function JA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ji,sv,ew=(sv=class extends Ks{constructor(t={}){super();vn(this,Ji,void 0);this.config=t,cn(this,Ji,new Map)}build(t,n,r){const l=n.queryKey,v=n.queryHash??Wp(l,n);let A=this.get(v);return A||(A=new $A({cache:this,queryKey:l,queryHash:v,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(A)),A}add(t){Qe(this,Ji).has(t.queryHash)||(Qe(this,Ji).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Qe(this,Ji).get(t.queryHash);n&&(t.destroy(),n===t&&Qe(this,Ji).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Qe(this,Ji).get(t)}getAll(){return[...Qe(this,Ji).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>My(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>My(t,r)):n}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ji=new WeakMap,sv),eo,Vr,Ia,to,Lo,uv,tw=(uv=class extends P_{constructor(t){super();vn(this,to);vn(this,eo,void 0);vn(this,Vr,void 0);vn(this,Ia,void 0);this.mutationId=t.mutationId,cn(this,Vr,t.mutationCache),cn(this,eo,[]),this.state=t.state||L_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Qe(this,eo).includes(t)||(Qe(this,eo).push(t),this.clearGcTimeout(),Qe(this,Vr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){cn(this,eo,Qe(this,eo).filter(n=>n!==t)),this.scheduleGc(),Qe(this,Vr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Qe(this,eo).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,Vr).remove(this))}continue(){var t;return((t=Qe(this,Ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,v,A,N,E,P,_,i,o,w,T,c,b,g,u,f,h,C,B,G;cn(this,Ia,O_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,re)=>{Dn(this,to,Lo).call(this,{type:"failed",failureCount:U,error:re})},onPause:()=>{Dn(this,to,Lo).call(this,{type:"pause"})},onContinue:()=>{Dn(this,to,Lo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,Vr).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,Ia).canStart();try{if(!n){Dn(this,to,Lo).call(this,{type:"pending",variables:t,isPaused:r}),await((v=(l=Qe(this,Vr).config).onMutate)==null?void 0:v.call(l,t,this));const re=await((N=(A=this.options).onMutate)==null?void 0:N.call(A,t));re!==this.state.context&&Dn(this,to,Lo).call(this,{type:"pending",context:re,variables:t,isPaused:r})}const U=await Qe(this,Ia).start();return await((P=(E=Qe(this,Vr).config).onSuccess)==null?void 0:P.call(E,U,t,this.state.context,this)),await((i=(_=this.options).onSuccess)==null?void 0:i.call(_,U,t,this.state.context)),await((w=(o=Qe(this,Vr).config).onSettled)==null?void 0:w.call(o,U,null,this.state.variables,this.state.context,this)),await((c=(T=this.options).onSettled)==null?void 0:c.call(T,U,null,t,this.state.context)),Dn(this,to,Lo).call(this,{type:"success",data:U}),U}catch(U){try{throw await((g=(b=Qe(this,Vr).config).onError)==null?void 0:g.call(b,U,t,this.state.context,this)),await((f=(u=this.options).onError)==null?void 0:f.call(u,U,t,this.state.context)),await((C=(h=Qe(this,Vr).config).onSettled)==null?void 0:C.call(h,void 0,U,this.state.variables,this.state.context,this)),await((G=(B=this.options).onSettled)==null?void 0:G.call(B,void 0,U,t,this.state.context)),U}finally{Dn(this,to,Lo).call(this,{type:"error",error:U})}}finally{Qe(this,Vr).runNext(this)}}},eo=new WeakMap,Vr=new WeakMap,Ia=new WeakMap,to=new WeakSet,Lo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tr.batch(()=>{Qe(this,eo).forEach(r=>{r.onMutationUpdate(t)}),Qe(this,Vr).notify({mutation:this,type:"updated",action:t})})},uv);function L_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var go,Zi,Ku,lv,nw=(lv=class extends Ks{constructor(t={}){super();vn(this,go,void 0);vn(this,Zi,void 0);vn(this,Ku,void 0);this.config=t,cn(this,go,new Set),cn(this,Zi,new Map),cn(this,Ku,0)}build(t,n,r){const l=new tw({mutationCache:this,mutationId:++jl(this,Ku)._,options:t.defaultMutationOptions(n),state:r});return this.add(l),l}add(t){Qe(this,go).add(t);const n=oc(t);if(typeof n=="string"){const r=Qe(this,Zi).get(n);r?r.push(t):Qe(this,Zi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Qe(this,go).delete(t)){const n=oc(t);if(typeof n=="string"){const r=Qe(this,Zi).get(n);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&Qe(this,Zi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=oc(t);if(typeof n=="string"){const r=Qe(this,Zi).get(n),l=r==null?void 0:r.find(v=>v.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const n=oc(t);if(typeof n=="string"){const l=(r=Qe(this,Zi).get(n))==null?void 0:r.find(v=>v!==t&&v.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{Qe(this,go).forEach(t=>{this.notify({type:"removed",mutation:t})}),Qe(this,go).clear(),Qe(this,Zi).clear()})}getAll(){return Array.from(Qe(this,go))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ly(n,r))}findAll(t={}){return this.getAll().filter(n=>Ly(t,n))}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ri))))}},go=new WeakMap,Zi=new WeakMap,Ku=new WeakMap,lv);function oc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ky(e){return{onFetch:(t,n)=>{var _,i,o,w,T;const r=t.options,l=(o=(i=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:i.fetchMore)==null?void 0:o.direction,v=((w=t.state.data)==null?void 0:w.pages)||[],A=((T=t.state.data)==null?void 0:T.pageParams)||[];let N={pages:[],pageParams:[]},E=0;const P=async()=>{let c=!1;const b=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?c=!0:t.signal.addEventListener("abort",()=>{c=!0}),t.signal)})},g=N_(t.options,t.fetchOptions),u=async(f,h,C)=>{if(c)return Promise.reject();if(h==null&&f.pages.length)return Promise.resolve(f);const B={queryKey:t.queryKey,pageParam:h,direction:C?"backward":"forward",meta:t.options.meta};b(B);const G=await g(B),{maxPages:U}=t.options,re=C?VA:YA;return{pages:re(f.pages,G,U),pageParams:re(f.pageParams,h,U)}};if(l&&v.length){const f=l==="backward",h=f?rw:Uy,C={pages:v,pageParams:A},B=h(r,C);N=await u(C,B,f)}else{const f=e??v.length;do{const h=E===0?A[0]??r.initialPageParam:Uy(r,N);if(E>0&&h==null)break;N=await u(N,h),E++}while(E<f)}return N};t.options.persister?t.fetchFn=()=>{var c,b;return(b=(c=t.options).persister)==null?void 0:b.call(c,P,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=P}}}function Uy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function rw(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var fr,Go,qo,Cs,Ds,Ho,Os,Ps,cv,iw=(cv=class{constructor(e={}){vn(this,fr,void 0);vn(this,Go,void 0);vn(this,qo,void 0);vn(this,Cs,void 0);vn(this,Ds,void 0);vn(this,Ho,void 0);vn(this,Os,void 0);vn(this,Ps,void 0);cn(this,fr,e.queryCache||new ew),cn(this,Go,e.mutationCache||new nw),cn(this,qo,e.defaultOptions||{}),cn(this,Cs,new Map),cn(this,Ds,new Map),cn(this,Ho,0)}mount(){jl(this,Ho)._++,Qe(this,Ho)===1&&(cn(this,Os,Xp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,fr).onFocus())})),cn(this,Ps,$c.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,fr).onOnline())})))}unmount(){var e,t;jl(this,Ho)._--,Qe(this,Ho)===0&&((e=Qe(this,Os))==null||e.call(this),cn(this,Os,void 0),(t=Qe(this,Ps))==null||t.call(this),cn(this,Ps,void 0))}isFetching(e){return Qe(this,fr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Qe(this,Go).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,fr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Qe(this,fr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(As(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Qe(this,fr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=Qe(this,fr).get(r.queryHash),v=l==null?void 0:l.state.data,A=HA(t,v);if(A!==void 0)return Qe(this,fr).build(this,r).setData(A,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>Qe(this,fr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,fr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Qe(this,fr);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Qe(this,fr),r={type:"active",...e};return Tr.batch(()=>(n.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tr.batch(()=>Qe(this,fr).findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(Ri).catch(Ri)}invalidateQueries(e,t={}){return Tr.batch(()=>{if(Qe(this,fr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const n={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(n,t)})}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tr.batch(()=>Qe(this,fr).findAll(e).filter(l=>!l.isDisabled()).map(l=>{let v=l.fetch(void 0,n);return n.throwOnError||(v=v.catch(Ri)),l.state.fetchStatus==="paused"?Promise.resolve():v}));return Promise.all(r).then(Ri)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Qe(this,fr).build(this,t);return n.isStaleByTime(As(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ri).catch(Ri)}fetchInfiniteQuery(e){return e.behavior=ky(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ri).catch(Ri)}ensureInfiniteQueryData(e){return e.behavior=ky(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $c.isOnline()?Qe(this,Go).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,fr)}getMutationCache(){return Qe(this,Go)}getDefaultOptions(){return Qe(this,qo)}setDefaultOptions(e){cn(this,qo,e)}setQueryDefaults(e,t){Qe(this,Cs).set(Za(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Qe(this,Cs).values()],n={};return t.forEach(r=>{zu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Qe(this,Ds).set(Za(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Qe(this,Ds).values()];let n={};return t.forEach(r=>{zu(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Qe(this,qo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Qe(this,qo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Qe(this,fr).clear(),Qe(this,Go).clear()}},fr=new WeakMap,Go=new WeakMap,qo=new WeakMap,Cs=new WeakMap,Ds=new WeakMap,Ho=new WeakMap,Os=new WeakMap,Ps=new WeakMap,cv),Jr,Ln,Wu,Kr,Na,Ms,zo,no,Qu,Ls,xs,Ca,Da,Yo,Fs,Oa,vu,Xu,Bh,$u,Zh,Ju,jh,el,Gh,tl,qh,nl,Hh,rl,zh,nf,x_,fv,ow=(fv=class extends Ks{constructor(t,n){super();vn(this,Oa);vn(this,Xu);vn(this,$u);vn(this,Ju);vn(this,el);vn(this,tl);vn(this,nl);vn(this,rl);vn(this,nf);vn(this,Jr,void 0);vn(this,Ln,void 0);vn(this,Wu,void 0);vn(this,Kr,void 0);vn(this,Na,void 0);vn(this,Ms,void 0);vn(this,zo,void 0);vn(this,no,void 0);vn(this,Qu,void 0);vn(this,Ls,void 0);vn(this,xs,void 0);vn(this,Ca,void 0);vn(this,Da,void 0);vn(this,Yo,void 0);vn(this,Fs,new Set);this.options=n,cn(this,Jr,t),cn(this,no,null),cn(this,zo,Uh()),this.options.experimental_prefetchInRender||Qe(this,zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,Ln).addObserver(this),By(Qe(this,Ln),this.options)?Dn(this,Oa,vu).call(this):this.updateResult(),Dn(this,el,Gh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yh(Qe(this,Ln),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yh(Qe(this,Ln),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Dn(this,tl,qh).call(this),Dn(this,nl,Hh).call(this),Qe(this,Ln).removeObserver(this)}setOptions(t,n){const r=this.options,l=Qe(this,Ln);if(this.options=Qe(this,Jr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qi(this.options.enabled,Qe(this,Ln))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Dn(this,rl,zh).call(this),Qe(this,Ln).setOptions(this.options),r._defaulted&&!Xc(this.options,r)&&Qe(this,Jr).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,Ln),observer:this});const v=this.hasListeners();v&&Zy(Qe(this,Ln),l,this.options,r)&&Dn(this,Oa,vu).call(this),this.updateResult(n),v&&(Qe(this,Ln)!==l||qi(this.options.enabled,Qe(this,Ln))!==qi(r.enabled,Qe(this,Ln))||As(this.options.staleTime,Qe(this,Ln))!==As(r.staleTime,Qe(this,Ln)))&&Dn(this,Xu,Bh).call(this);const A=Dn(this,$u,Zh).call(this);v&&(Qe(this,Ln)!==l||qi(this.options.enabled,Qe(this,Ln))!==qi(r.enabled,Qe(this,Ln))||A!==Qe(this,Yo))&&Dn(this,Ju,jh).call(this,A)}getOptimisticResult(t){const n=Qe(this,Jr).getQueryCache().build(Qe(this,Jr),t),r=this.createResult(n,t);return sw(this,r)&&(cn(this,Kr,r),cn(this,Ms,this.options),cn(this,Na,Qe(this,Ln).state)),r}getCurrentResult(){return Qe(this,Kr)}trackResult(t,n){const r={};return Object.keys(t).forEach(l=>{Object.defineProperty(r,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),n==null||n(l),t[l])})}),r}trackProp(t){Qe(this,Fs).add(t)}getCurrentQuery(){return Qe(this,Ln)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Qe(this,Jr).defaultQueryOptions(t),r=Qe(this,Jr).getQueryCache().build(Qe(this,Jr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Dn(this,Oa,vu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,Kr)))}createResult(t,n){var U;const r=Qe(this,Ln),l=this.options,v=Qe(this,Kr),A=Qe(this,Na),N=Qe(this,Ms),P=t!==r?t.state:Qe(this,Wu),{state:_}=t;let i={..._},o=!1,w;if(n._optimisticResults){const re=this.hasListeners(),Z=!re&&By(t,n),te=re&&Zy(t,r,n,l);(Z||te)&&(i={...i,...M_(_.data,t.options)}),n._optimisticResults==="isRestoring"&&(i.fetchStatus="idle")}let{error:T,errorUpdatedAt:c,status:b}=i;if(n.select&&i.data!==void 0)if(v&&i.data===(A==null?void 0:A.data)&&n.select===Qe(this,Qu))w=Qe(this,Ls);else try{cn(this,Qu,n.select),w=n.select(i.data),w=kh(v==null?void 0:v.data,w,n),cn(this,Ls,w),cn(this,no,null)}catch(re){cn(this,no,re)}else w=i.data;if(n.placeholderData!==void 0&&w===void 0&&b==="pending"){let re;if(v!=null&&v.isPlaceholderData&&n.placeholderData===(N==null?void 0:N.placeholderData))re=v.data;else if(re=typeof n.placeholderData=="function"?n.placeholderData((U=Qe(this,xs))==null?void 0:U.state.data,Qe(this,xs)):n.placeholderData,n.select&&re!==void 0)try{re=n.select(re),cn(this,no,null)}catch(Z){cn(this,no,Z)}re!==void 0&&(b="success",w=kh(v==null?void 0:v.data,re,n),o=!0)}Qe(this,no)&&(T=Qe(this,no),w=Qe(this,Ls),c=Date.now(),b="error");const g=i.fetchStatus==="fetching",u=b==="pending",f=b==="error",h=u&&g,C=w!==void 0,G={status:b,fetchStatus:i.fetchStatus,isPending:u,isSuccess:b==="success",isError:f,isInitialLoading:h,isLoading:h,data:w,dataUpdatedAt:i.dataUpdatedAt,error:T,errorUpdatedAt:c,failureCount:i.fetchFailureCount,failureReason:i.fetchFailureReason,errorUpdateCount:i.errorUpdateCount,isFetched:i.dataUpdateCount>0||i.errorUpdateCount>0,isFetchedAfterMount:i.dataUpdateCount>P.dataUpdateCount||i.errorUpdateCount>P.errorUpdateCount,isFetching:g,isRefetching:g&&!u,isLoadingError:f&&!C,isPaused:i.fetchStatus==="paused",isPlaceholderData:o,isRefetchError:f&&C,isStale:$p(t,n),refetch:this.refetch,promise:Qe(this,zo)};if(this.options.experimental_prefetchInRender){const re=de=>{G.status==="error"?de.reject(G.error):G.data!==void 0&&de.resolve(G.data)},Z=()=>{const de=cn(this,zo,G.promise=Uh());re(de)},te=Qe(this,zo);switch(te.status){case"pending":t.queryHash===r.queryHash&&re(te);break;case"fulfilled":(G.status==="error"||G.data!==te.value)&&Z();break;case"rejected":(G.status!=="error"||G.error!==te.reason)&&Z();break}}return G}updateResult(t){const n=Qe(this,Kr),r=this.createResult(Qe(this,Ln),this.options);if(cn(this,Na,Qe(this,Ln).state),cn(this,Ms,this.options),Qe(this,Na).data!==void 0&&cn(this,xs,Qe(this,Ln)),Xc(r,n))return;cn(this,Kr,r);const l={},v=()=>{if(!n)return!0;const{notifyOnChangeProps:A}=this.options,N=typeof A=="function"?A():A;if(N==="all"||!N&&!Qe(this,Fs).size)return!0;const E=new Set(N??Qe(this,Fs));return this.options.throwOnError&&E.add("error"),Object.keys(Qe(this,Kr)).some(P=>{const _=P;return Qe(this,Kr)[_]!==n[_]&&E.has(_)})};(t==null?void 0:t.listeners)!==!1&&v()&&(l.listeners=!0),Dn(this,nf,x_).call(this,{...l,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Dn(this,el,Gh).call(this)}},Jr=new WeakMap,Ln=new WeakMap,Wu=new WeakMap,Kr=new WeakMap,Na=new WeakMap,Ms=new WeakMap,zo=new WeakMap,no=new WeakMap,Qu=new WeakMap,Ls=new WeakMap,xs=new WeakMap,Ca=new WeakMap,Da=new WeakMap,Yo=new WeakMap,Fs=new WeakMap,Oa=new WeakSet,vu=function(t){Dn(this,rl,zh).call(this);let n=Qe(this,Ln).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ri)),n},Xu=new WeakSet,Bh=function(){Dn(this,tl,qh).call(this);const t=As(this.options.staleTime,Qe(this,Ln));if(Ba||Qe(this,Kr).isStale||!xh(t))return;const r=R_(Qe(this,Kr).dataUpdatedAt,t)+1;cn(this,Ca,setTimeout(()=>{Qe(this,Kr).isStale||this.updateResult()},r))},$u=new WeakSet,Zh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,Ln)):this.options.refetchInterval)??!1},Ju=new WeakSet,jh=function(t){Dn(this,nl,Hh).call(this),cn(this,Yo,t),!(Ba||qi(this.options.enabled,Qe(this,Ln))===!1||!xh(Qe(this,Yo))||Qe(this,Yo)===0)&&cn(this,Da,setInterval(()=>{(this.options.refetchIntervalInBackground||Xp.isFocused())&&Dn(this,Oa,vu).call(this)},Qe(this,Yo)))},el=new WeakSet,Gh=function(){Dn(this,Xu,Bh).call(this),Dn(this,Ju,jh).call(this,Dn(this,$u,Zh).call(this))},tl=new WeakSet,qh=function(){Qe(this,Ca)&&(clearTimeout(Qe(this,Ca)),cn(this,Ca,void 0))},nl=new WeakSet,Hh=function(){Qe(this,Da)&&(clearInterval(Qe(this,Da)),cn(this,Da,void 0))},rl=new WeakSet,zh=function(){const t=Qe(this,Jr).getQueryCache().build(Qe(this,Jr),this.options);if(t===Qe(this,Ln))return;const n=Qe(this,Ln);cn(this,Ln,t),cn(this,Wu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},nf=new WeakSet,x_=function(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Qe(this,Kr))}),Qe(this,Jr).getQueryCache().notify({query:Qe(this,Ln),type:"observerResultsUpdated"})})},fv);function aw(e,t){return qi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function By(e,t){return aw(e,t)||e.state.data!==void 0&&Yh(e,t,t.refetchOnMount)}function Yh(e,t,n){if(qi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&$p(e,t)}return!1}function Zy(e,t,n,r){return(e!==t||qi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&$p(e,n)}function $p(e,t){return qi(t.enabled,e)!==!1&&e.isStaleByTime(As(t.staleTime,e))}function sw(e,t){return!Xc(e.getCurrentResult(),t)}var Vo,Ko,ei,mo,ks,Tc,il,Vh,dv,uw=(dv=class extends Ks{constructor(n,r){super();vn(this,ks);vn(this,il);vn(this,Vo,void 0);vn(this,Ko,void 0);vn(this,ei,void 0);vn(this,mo,void 0);cn(this,Vo,n),this.setOptions(r),this.bindMethods(),Dn(this,ks,Tc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=Qe(this,Vo).defaultMutationOptions(n),Xc(this.options,r)||Qe(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,ei),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Za(r.mutationKey)!==Za(this.options.mutationKey)?this.reset():((l=Qe(this,ei))==null?void 0:l.state.status)==="pending"&&Qe(this,ei).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,ei))==null||n.removeObserver(this)}onMutationUpdate(n){Dn(this,ks,Tc).call(this),Dn(this,il,Vh).call(this,n)}getCurrentResult(){return Qe(this,Ko)}reset(){var n;(n=Qe(this,ei))==null||n.removeObserver(this),cn(this,ei,void 0),Dn(this,ks,Tc).call(this),Dn(this,il,Vh).call(this)}mutate(n,r){var l;return cn(this,mo,r),(l=Qe(this,ei))==null||l.removeObserver(this),cn(this,ei,Qe(this,Vo).getMutationCache().build(Qe(this,Vo),this.options)),Qe(this,ei).addObserver(this),Qe(this,ei).execute(n)}},Vo=new WeakMap,Ko=new WeakMap,ei=new WeakMap,mo=new WeakMap,ks=new WeakSet,Tc=function(){var r;const n=((r=Qe(this,ei))==null?void 0:r.state)??L_();cn(this,Ko,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},il=new WeakSet,Vh=function(n){Tr.batch(()=>{var r,l,v,A,N,E,P,_;if(Qe(this,mo)&&this.hasListeners()){const i=Qe(this,Ko).variables,o=Qe(this,Ko).context;(n==null?void 0:n.type)==="success"?((l=(r=Qe(this,mo)).onSuccess)==null||l.call(r,n.data,i,o),(A=(v=Qe(this,mo)).onSettled)==null||A.call(v,n.data,null,i,o)):(n==null?void 0:n.type)==="error"&&((E=(N=Qe(this,mo)).onError)==null||E.call(N,n.error,i,o),(_=(P=Qe(this,mo)).onSettled)==null||_.call(P,void 0,n.error,i,o))}this.listeners.forEach(i=>{i(Qe(this,Ko))})})},dv),F_=Pn.createContext(void 0),_f=e=>{const t=Pn.useContext(F_);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lw=({client:e,children:t})=>(Pn.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Sn.jsx(F_.Provider,{value:e,children:t})),k_=Pn.createContext(!1),cw=()=>Pn.useContext(k_);k_.Provider;function fw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dw=Pn.createContext(fw()),hw=()=>Pn.useContext(dw);function U_(e,t){return typeof e=="function"?e(...t):!!e}function Kh(){}var pw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},gw=e=>{Pn.useEffect(()=>{e.clearReset()},[e])},mw=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&U_(n,[e.error,r]),yw=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},vw=(e,t)=>e.isLoading&&e.isFetching&&!t,Ew=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _w(e,t,n){var i,o,w,T,c;const r=_f(n),l=cw(),v=hw(),A=r.defaultQueryOptions(e);(o=(i=r.getDefaultOptions().queries)==null?void 0:i._experimental_beforeQuery)==null||o.call(i,A),A._optimisticResults=l?"isRestoring":"optimistic",yw(A),pw(A,v),gw(v);const N=!r.getQueryCache().get(A.queryHash),[E]=Pn.useState(()=>new t(r,A)),P=E.getOptimisticResult(A),_=!l&&e.subscribed!==!1;if(Pn.useSyncExternalStore(Pn.useCallback(b=>{const g=_?E.subscribe(Tr.batchCalls(b)):Kh;return E.updateResult(),g},[E,_]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),Pn.useEffect(()=>{E.setOptions(A,{listeners:!1})},[A,E]),Ew(A,P))throw jy(A,E,v);if(mw({result:P,errorResetBoundary:v,throwOnError:A.throwOnError,query:r.getQueryCache().get(A.queryHash)}))throw P.error;if((T=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||T.call(w,A,P),A.experimental_prefetchInRender&&!Ba&&vw(P,l)){const b=N?jy(A,E,v):(c=r.getQueryCache().get(A.queryHash))==null?void 0:c.promise;b==null||b.catch(Kh).finally(()=>{E.updateResult()})}return A.notifyOnChangeProps?P:E.trackResult(P)}function Ha(e,t){return _w(e,ow,t)}function Tw(e,t){const n=_f(t),[r]=Pn.useState(()=>new uw(n,e));Pn.useEffect(()=>{r.setOptions(e)},[r,e]);const l=Pn.useSyncExternalStore(Pn.useCallback(A=>r.subscribe(Tr.batchCalls(A)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),v=Pn.useCallback((A,N)=>{r.mutate(A,N).catch(Kh)},[r]);if(l.error&&U_(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:v,mutateAsync:l.mutate}}function B_(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sw}=Object.prototype,{getPrototypeOf:Jp}=Object,Tf=(e=>t=>{const n=Sw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wi=e=>(e=e.toLowerCase(),t=>Tf(t)===e),Sf=e=>t=>typeof t===e,{isArray:Ws}=Array,Yu=Sf("undefined");function Aw(e){return e!==null&&!Yu(e)&&e.constructor!==null&&!Yu(e.constructor)&&di(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z_=Wi("ArrayBuffer");function ww(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z_(e.buffer),t}const bw=Sf("string"),di=Sf("function"),j_=Sf("number"),Af=e=>e!==null&&typeof e=="object",Rw=e=>e===!0||e===!1,Sc=e=>{if(Tf(e)!=="object")return!1;const t=Jp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Iw=Wi("Date"),Nw=Wi("File"),Cw=Wi("Blob"),Dw=Wi("FileList"),Ow=e=>Af(e)&&di(e.pipe),Pw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||di(e.append)&&((t=Tf(e))==="formdata"||t==="object"&&di(e.toString)&&e.toString()==="[object FormData]"))},Mw=Wi("URLSearchParams"),[Lw,xw,Fw,kw]=["ReadableStream","Request","Response","Headers"].map(Wi),Uw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),Ws(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{const v=n?Object.getOwnPropertyNames(e):Object.keys(e),A=v.length;let N;for(r=0;r<A;r++)N=v[r],t.call(null,e[N],N,e)}}function G_(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Aa=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),q_=e=>!Yu(e)&&e!==Aa;function Wh(){const{caseless:e}=q_(this)&&this||{},t={},n=(r,l)=>{const v=e&&G_(t,l)||l;Sc(t[v])&&Sc(r)?t[v]=Wh(t[v],r):Sc(r)?t[v]=Wh({},r):Ws(r)?t[v]=r.slice():t[v]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&cl(arguments[r],n);return t}const Bw=(e,t,n,{allOwnKeys:r}={})=>(cl(t,(l,v)=>{n&&di(l)?e[v]=B_(l,n):e[v]=l},{allOwnKeys:r}),e),Zw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Gw=(e,t,n,r)=>{let l,v,A;const N={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),v=l.length;v-- >0;)A=l[v],(!r||r(A,e,t))&&!N[A]&&(t[A]=e[A],N[A]=!0);e=n!==!1&&Jp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},qw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Hw=e=>{if(!e)return null;if(Ws(e))return e;let t=e.length;if(!j_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jp(Uint8Array)),Yw=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=r.next())&&!l.done;){const v=l.value;t.call(e,v[0],v[1])}},Vw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Kw=Wi("HTMLFormElement"),Ww=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Gy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Qw=Wi("RegExp"),H_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};cl(n,(l,v)=>{let A;(A=t(l,v,e))!==!1&&(r[v]=A||l)}),Object.defineProperties(e,r)},Xw=e=>{H_(e,(t,n)=>{if(di(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(di(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$w=(e,t)=>{const n={},r=l=>{l.forEach(v=>{n[v]=!0})};return Ws(e)?r(e):r(String(e).split(t)),n},Jw=()=>{},eb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Ud="abcdefghijklmnopqrstuvwxyz",qy="0123456789",z_={DIGIT:qy,ALPHA:Ud,ALPHA_DIGIT:Ud+Ud.toUpperCase()+qy},tb=(e=16,t=z_.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function nb(e){return!!(e&&di(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const rb=e=>{const t=new Array(10),n=(r,l)=>{if(Af(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[l]=r;const v=Ws(r)?[]:{};return cl(r,(A,N)=>{const E=n(A,l+1);!Yu(E)&&(v[N]=E)}),t[l]=void 0,v}}return r};return n(e,0)},ib=Wi("AsyncFunction"),ob=e=>e&&(Af(e)||di(e))&&di(e.then)&&di(e.catch),Y_=((e,t)=>e?setImmediate:t?((n,r)=>(Aa.addEventListener("message",({source:l,data:v})=>{l===Aa&&v===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Aa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",di(Aa.postMessage)),ab=typeof queueMicrotask<"u"?queueMicrotask.bind(Aa):typeof process<"u"&&process.nextTick||Y_,Pt={isArray:Ws,isArrayBuffer:Z_,isBuffer:Aw,isFormData:Pw,isArrayBufferView:ww,isString:bw,isNumber:j_,isBoolean:Rw,isObject:Af,isPlainObject:Sc,isReadableStream:Lw,isRequest:xw,isResponse:Fw,isHeaders:kw,isUndefined:Yu,isDate:Iw,isFile:Nw,isBlob:Cw,isRegExp:Qw,isFunction:di,isStream:Ow,isURLSearchParams:Mw,isTypedArray:zw,isFileList:Dw,forEach:cl,merge:Wh,extend:Bw,trim:Uw,stripBOM:Zw,inherits:jw,toFlatObject:Gw,kindOf:Tf,kindOfTest:Wi,endsWith:qw,toArray:Hw,forEachEntry:Yw,matchAll:Vw,isHTMLForm:Kw,hasOwnProperty:Gy,hasOwnProp:Gy,reduceDescriptors:H_,freezeMethods:Xw,toObjectSet:$w,toCamelCase:Ww,noop:Jw,toFiniteNumber:eb,findKey:G_,global:Aa,isContextDefined:q_,ALPHABET:z_,generateString:tb,isSpecCompliantForm:nb,toJSONObject:rb,isAsyncFn:ib,isThenable:ob,setImmediate:Y_,asap:ab};function Nn(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}Pt.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.status}}});const V_=Nn.prototype,K_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K_[e]={value:e}});Object.defineProperties(Nn,K_);Object.defineProperty(V_,"isAxiosError",{value:!0});Nn.from=(e,t,n,r,l,v)=>{const A=Object.create(V_);return Pt.toFlatObject(e,A,function(E){return E!==Error.prototype},N=>N!=="isAxiosError"),Nn.call(A,e.message,t,n,r,l),A.cause=e,A.name=e.name,v&&Object.assign(A,v),A};const sb=null;function Qh(e){return Pt.isPlainObject(e)||Pt.isArray(e)}function W_(e){return Pt.endsWith(e,"[]")?e.slice(0,-2):e}function Hy(e,t,n){return e?e.concat(t).map(function(l,v){return l=W_(l),!n&&v?"["+l+"]":l}).join(n?".":""):t}function ub(e){return Pt.isArray(e)&&!e.some(Qh)}const lb=Pt.toFlatObject(Pt,{},null,function(t){return/^is[A-Z]/.test(t)});function wf(e,t,n){if(!Pt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Pt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(c,b){return!Pt.isUndefined(b[c])});const r=n.metaTokens,l=n.visitor||_,v=n.dots,A=n.indexes,E=(n.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(t);if(!Pt.isFunction(l))throw new TypeError("visitor must be a function");function P(T){if(T===null)return"";if(Pt.isDate(T))return T.toISOString();if(!E&&Pt.isBlob(T))throw new Nn("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(T)||Pt.isTypedArray(T)?E&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function _(T,c,b){let g=T;if(T&&!b&&typeof T=="object"){if(Pt.endsWith(c,"{}"))c=r?c:c.slice(0,-2),T=JSON.stringify(T);else if(Pt.isArray(T)&&ub(T)||(Pt.isFileList(T)||Pt.endsWith(c,"[]"))&&(g=Pt.toArray(T)))return c=W_(c),g.forEach(function(f,h){!(Pt.isUndefined(f)||f===null)&&t.append(A===!0?Hy([c],h,v):A===null?c:c+"[]",P(f))}),!1}return Qh(T)?!0:(t.append(Hy(b,c,v),P(T)),!1)}const i=[],o=Object.assign(lb,{defaultVisitor:_,convertValue:P,isVisitable:Qh});function w(T,c){if(!Pt.isUndefined(T)){if(i.indexOf(T)!==-1)throw Error("Circular reference detected in "+c.join("."));i.push(T),Pt.forEach(T,function(g,u){(!(Pt.isUndefined(g)||g===null)&&l.call(t,g,Pt.isString(u)?u.trim():u,c,o))===!0&&w(g,c?c.concat(u):[u])}),i.pop()}}if(!Pt.isObject(e))throw new TypeError("data must be an object");return w(e),t}function zy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function eg(e,t){this._pairs=[],e&&wf(e,this,t)}const Q_=eg.prototype;Q_.append=function(t,n){this._pairs.push([t,n])};Q_.toString=function(t){const n=t?function(r){return t.call(this,r,zy)}:zy;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function cb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X_(e,t,n){if(!t)return e;const r=n&&n.encode||cb;Pt.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let v;if(l?v=l(t,n):v=Pt.isURLSearchParams(t)?t.toString():new eg(t,n).toString(r),v){const A=e.indexOf("#");A!==-1&&(e=e.slice(0,A)),e+=(e.indexOf("?")===-1?"?":"&")+v}return e}class fb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Yy=fb,$_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},db=typeof URLSearchParams<"u"?URLSearchParams:eg,hb=typeof FormData<"u"?FormData:null,pb=typeof Blob<"u"?Blob:null,gb={isBrowser:!0,classes:{URLSearchParams:db,FormData:hb,Blob:pb},protocols:["http","https","file","blob","url","data"]},tg=typeof window<"u"&&typeof document<"u",Xh=typeof navigator=="object"&&navigator||void 0,mb=tg&&(!Xh||["ReactNative","NativeScript","NS"].indexOf(Xh.product)<0),yb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vb=tg&&window.location.href||"http://localhost",Eb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tg,hasStandardBrowserEnv:mb,hasStandardBrowserWebWorkerEnv:yb,navigator:Xh,origin:vb},Symbol.toStringTag,{value:"Module"})),Gr={...Eb,...gb};function _b(e,t){return wf(e,new Gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,l,v){return Gr.isNode&&Pt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},t))}function Tb(e){return Pt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sb(e){const t={},n=Object.keys(e);let r;const l=n.length;let v;for(r=0;r<l;r++)v=n[r],t[v]=e[v];return t}function J_(e){function t(n,r,l,v){let A=n[v++];if(A==="__proto__")return!0;const N=Number.isFinite(+A),E=v>=n.length;return A=!A&&Pt.isArray(l)?l.length:A,E?(Pt.hasOwnProp(l,A)?l[A]=[l[A],r]:l[A]=r,!N):((!l[A]||!Pt.isObject(l[A]))&&(l[A]=[]),t(n,r,l[A],v)&&Pt.isArray(l[A])&&(l[A]=Sb(l[A])),!N)}if(Pt.isFormData(e)&&Pt.isFunction(e.entries)){const n={};return Pt.forEachEntry(e,(r,l)=>{t(Tb(r),l,n,0)}),n}return null}function Ab(e,t,n){if(Pt.isString(e))try{return(t||JSON.parse)(e),Pt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ng={transitional:$_,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,v=Pt.isObject(t);if(v&&Pt.isHTMLForm(t)&&(t=new FormData(t)),Pt.isFormData(t))return l?JSON.stringify(J_(t)):t;if(Pt.isArrayBuffer(t)||Pt.isBuffer(t)||Pt.isStream(t)||Pt.isFile(t)||Pt.isBlob(t)||Pt.isReadableStream(t))return t;if(Pt.isArrayBufferView(t))return t.buffer;if(Pt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let N;if(v){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _b(t,this.formSerializer).toString();if((N=Pt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return wf(N?{"files[]":t}:t,E&&new E,this.formSerializer)}}return v||l?(n.setContentType("application/json",!1),Ab(t)):t}],transformResponse:[function(t){const n=this.transitional||ng.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(Pt.isResponse(t)||Pt.isReadableStream(t))return t;if(t&&Pt.isString(t)&&(r&&!this.responseType||l)){const A=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(N){if(A)throw N.name==="SyntaxError"?Nn.from(N,Nn.ERR_BAD_RESPONSE,this,null,this.response):N}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gr.classes.FormData,Blob:Gr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],e=>{ng.headers[e]={}});const rg=ng,wb=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bb=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(A){l=A.indexOf(":"),n=A.substring(0,l).trim().toLowerCase(),r=A.substring(l+1).trim(),!(!n||t[n]&&wb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Vy=Symbol("internals");function du(e){return e&&String(e).trim().toLowerCase()}function Ac(e){return e===!1||e==null?e:Pt.isArray(e)?e.map(Ac):String(e)}function Rb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Ib=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bd(e,t,n,r,l){if(Pt.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!Pt.isString(t)){if(Pt.isString(r))return t.indexOf(r)!==-1;if(Pt.isRegExp(r))return r.test(t)}}function Nb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Cb(e,t){const n=Pt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,v,A){return this[r].call(this,t,l,v,A)},configurable:!0})})}class bf{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function v(N,E,P){const _=du(E);if(!_)throw new Error("header name must be a non-empty string");const i=Pt.findKey(l,_);(!i||l[i]===void 0||P===!0||P===void 0&&l[i]!==!1)&&(l[i||E]=Ac(N))}const A=(N,E)=>Pt.forEach(N,(P,_)=>v(P,_,E));if(Pt.isPlainObject(t)||t instanceof this.constructor)A(t,n);else if(Pt.isString(t)&&(t=t.trim())&&!Ib(t))A(bb(t),n);else if(Pt.isHeaders(t))for(const[N,E]of t.entries())v(E,N,r);else t!=null&&v(n,t,r);return this}get(t,n){if(t=du(t),t){const r=Pt.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return Rb(l);if(Pt.isFunction(n))return n.call(this,l,r);if(Pt.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=du(t),t){const r=Pt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Bd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function v(A){if(A=du(A),A){const N=Pt.findKey(r,A);N&&(!n||Bd(r,r[N],N,n))&&(delete r[N],l=!0)}}return Pt.isArray(t)?t.forEach(v):v(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const v=n[r];(!t||Bd(this,this[v],v,t,!0))&&(delete this[v],l=!0)}return l}normalize(t){const n=this,r={};return Pt.forEach(this,(l,v)=>{const A=Pt.findKey(r,v);if(A){n[A]=Ac(l),delete n[v];return}const N=t?Nb(v):String(v).trim();N!==v&&delete n[v],n[N]=Ac(l),r[N]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Pt.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&Pt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Vy]=this[Vy]={accessors:{}}).accessors,l=this.prototype;function v(A){const N=du(A);r[N]||(Cb(l,A),r[N]=!0)}return Pt.isArray(t)?t.forEach(v):v(t),this}}bf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(bf.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Pt.freezeMethods(bf);const Vi=bf;function Zd(e,t){const n=this||rg,r=t||n,l=Vi.from(r.headers);let v=r.data;return Pt.forEach(e,function(N){v=N.call(n,v,l.normalize(),t?t.status:void 0)}),l.normalize(),v}function e0(e){return!!(e&&e.__CANCEL__)}function Qs(e,t,n){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,t,n),this.name="CanceledError"}Pt.inherits(Qs,Nn,{__CANCEL__:!0});function t0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Nn("Request failed with status code "+n.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Db(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ob(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,v=0,A;return t=t!==void 0?t:1e3,function(E){const P=Date.now(),_=r[v];A||(A=P),n[l]=E,r[l]=P;let i=v,o=0;for(;i!==l;)o+=n[i++],i=i%e;if(l=(l+1)%e,l===v&&(v=(v+1)%e),P-A<t)return;const w=_&&P-_;return w?Math.round(o*1e3/w):void 0}}function Pb(e,t){let n=0,r=1e3/t,l,v;const A=(P,_=Date.now())=>{n=_,l=null,v&&(clearTimeout(v),v=null),e.apply(null,P)};return[(...P)=>{const _=Date.now(),i=_-n;i>=r?A(P,_):(l=P,v||(v=setTimeout(()=>{v=null,A(l)},r-i)))},()=>l&&A(l)]}const Jc=(e,t,n=3)=>{let r=0;const l=Ob(50,250);return Pb(v=>{const A=v.loaded,N=v.lengthComputable?v.total:void 0,E=A-r,P=l(E),_=A<=N;r=A;const i={loaded:A,total:N,progress:N?A/N:void 0,bytes:E,rate:P||void 0,estimated:P&&N&&_?(N-A)/P:void 0,event:v,lengthComputable:N!=null,[t?"download":"upload"]:!0};e(i)},n)},Ky=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Wy=e=>(...t)=>Pt.asap(()=>e(...t)),Mb=Gr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Gr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Gr.origin),Gr.navigator&&/(msie|trident)/i.test(Gr.navigator.userAgent)):()=>!0,Lb=Gr.hasStandardBrowserEnv?{write(e,t,n,r,l,v){const A=[e+"="+encodeURIComponent(t)];Pt.isNumber(n)&&A.push("expires="+new Date(n).toGMTString()),Pt.isString(r)&&A.push("path="+r),Pt.isString(l)&&A.push("domain="+l),v===!0&&A.push("secure"),document.cookie=A.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n0(e,t){return e&&!xb(t)?Fb(e,t):t}const Qy=e=>e instanceof Vi?{...e}:e;function ja(e,t){t=t||{};const n={};function r(P,_,i,o){return Pt.isPlainObject(P)&&Pt.isPlainObject(_)?Pt.merge.call({caseless:o},P,_):Pt.isPlainObject(_)?Pt.merge({},_):Pt.isArray(_)?_.slice():_}function l(P,_,i,o){if(Pt.isUndefined(_)){if(!Pt.isUndefined(P))return r(void 0,P,i,o)}else return r(P,_,i,o)}function v(P,_){if(!Pt.isUndefined(_))return r(void 0,_)}function A(P,_){if(Pt.isUndefined(_)){if(!Pt.isUndefined(P))return r(void 0,P)}else return r(void 0,_)}function N(P,_,i){if(i in t)return r(P,_);if(i in e)return r(void 0,P)}const E={url:v,method:v,data:v,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,withXSRFToken:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:N,headers:(P,_,i)=>l(Qy(P),Qy(_),i,!0)};return Pt.forEach(Object.keys(Object.assign({},e,t)),function(_){const i=E[_]||l,o=i(e[_],t[_],_);Pt.isUndefined(o)&&i!==N||(n[_]=o)}),n}const r0=e=>{const t=ja({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:v,headers:A,auth:N}=t;t.headers=A=Vi.from(A),t.url=X_(n0(t.baseURL,t.url),e.params,e.paramsSerializer),N&&A.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):"")));let E;if(Pt.isFormData(n)){if(Gr.hasStandardBrowserEnv||Gr.hasStandardBrowserWebWorkerEnv)A.setContentType(void 0);else if((E=A.getContentType())!==!1){const[P,..._]=E?E.split(";").map(i=>i.trim()).filter(Boolean):[];A.setContentType([P||"multipart/form-data",..._].join("; "))}}if(Gr.hasStandardBrowserEnv&&(r&&Pt.isFunction(r)&&(r=r(t)),r||r!==!1&&Mb(t.url))){const P=l&&v&&Lb.read(v);P&&A.set(l,P)}return t},kb=typeof XMLHttpRequest<"u",Ub=kb&&function(e){return new Promise(function(n,r){const l=r0(e);let v=l.data;const A=Vi.from(l.headers).normalize();let{responseType:N,onUploadProgress:E,onDownloadProgress:P}=l,_,i,o,w,T;function c(){w&&w(),T&&T(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let b=new XMLHttpRequest;b.open(l.method.toUpperCase(),l.url,!0),b.timeout=l.timeout;function g(){if(!b)return;const f=Vi.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!N||N==="text"||N==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:f,config:e,request:b};t0(function(G){n(G),c()},function(G){r(G),c()},C),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(r(new Nn("Request aborted",Nn.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Nn("Network Error",Nn.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let h=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const C=l.transitional||$_;l.timeoutErrorMessage&&(h=l.timeoutErrorMessage),r(new Nn(h,C.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,b)),b=null},v===void 0&&A.setContentType(null),"setRequestHeader"in b&&Pt.forEach(A.toJSON(),function(h,C){b.setRequestHeader(C,h)}),Pt.isUndefined(l.withCredentials)||(b.withCredentials=!!l.withCredentials),N&&N!=="json"&&(b.responseType=l.responseType),P&&([o,T]=Jc(P,!0),b.addEventListener("progress",o)),E&&b.upload&&([i,w]=Jc(E),b.upload.addEventListener("progress",i),b.upload.addEventListener("loadend",w)),(l.cancelToken||l.signal)&&(_=f=>{b&&(r(!f||f.type?new Qs(null,e,b):f),b.abort(),b=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const u=Db(l.url);if(u&&Gr.protocols.indexOf(u)===-1){r(new Nn("Unsupported protocol "+u+":",Nn.ERR_BAD_REQUEST,e));return}b.send(v||null)})},Bb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const v=function(P){if(!l){l=!0,N();const _=P instanceof Error?P:this.reason;r.abort(_ instanceof Nn?_:new Qs(_ instanceof Error?_.message:_))}};let A=t&&setTimeout(()=>{A=null,v(new Nn(`timeout ${t} of ms exceeded`,Nn.ETIMEDOUT))},t);const N=()=>{e&&(A&&clearTimeout(A),A=null,e.forEach(P=>{P.unsubscribe?P.unsubscribe(v):P.removeEventListener("abort",v)}),e=null)};e.forEach(P=>P.addEventListener("abort",v));const{signal:E}=r;return E.unsubscribe=()=>Pt.asap(N),E}},Zb=Bb,jb=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},Gb=async function*(e,t){for await(const n of qb(e))yield*jb(n,t)},qb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Xy=(e,t,n,r)=>{const l=Gb(e,t);let v=0,A,N=E=>{A||(A=!0,r&&r(E))};return new ReadableStream({async pull(E){try{const{done:P,value:_}=await l.next();if(P){N(),E.close();return}let i=_.byteLength;if(n){let o=v+=i;n(o)}E.enqueue(new Uint8Array(_))}catch(P){throw N(P),P}},cancel(E){return N(E),l.return()}},{highWaterMark:2})},Rf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i0=Rf&&typeof ReadableStream=="function",Hb=Rf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),o0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zb=i0&&o0(()=>{let e=!1;const t=new Request(Gr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$y=64*1024,$h=i0&&o0(()=>Pt.isReadableStream(new Response("").body)),ef={stream:$h&&(e=>e.body)};Rf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ef[t]&&(ef[t]=Pt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Nn(`Response type '${t}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const Yb=async e=>{if(e==null)return 0;if(Pt.isBlob(e))return e.size;if(Pt.isSpecCompliantForm(e))return(await new Request(Gr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Pt.isArrayBufferView(e)||Pt.isArrayBuffer(e))return e.byteLength;if(Pt.isURLSearchParams(e)&&(e=e+""),Pt.isString(e))return(await Hb(e)).byteLength},Vb=async(e,t)=>{const n=Pt.toFiniteNumber(e.getContentLength());return n??Yb(t)},Kb=Rf&&(async e=>{let{url:t,method:n,data:r,signal:l,cancelToken:v,timeout:A,onDownloadProgress:N,onUploadProgress:E,responseType:P,headers:_,withCredentials:i="same-origin",fetchOptions:o}=r0(e);P=P?(P+"").toLowerCase():"text";let w=Zb([l,v&&v.toAbortSignal()],A),T;const c=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let b;try{if(E&&zb&&n!=="get"&&n!=="head"&&(b=await Vb(_,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),B;if(Pt.isFormData(r)&&(B=C.headers.get("content-type"))&&_.setContentType(B),C.body){const[G,U]=Ky(b,Jc(Wy(E)));r=Xy(C.body,$y,G,U)}}Pt.isString(i)||(i=i?"include":"omit");const g="credentials"in Request.prototype;T=new Request(t,{...o,signal:w,method:n.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:g?i:void 0});let u=await fetch(T);const f=$h&&(P==="stream"||P==="response");if($h&&(N||f&&c)){const C={};["status","statusText","headers"].forEach(re=>{C[re]=u[re]});const B=Pt.toFiniteNumber(u.headers.get("content-length")),[G,U]=N&&Ky(B,Jc(Wy(N),!0))||[];u=new Response(Xy(u.body,$y,G,()=>{U&&U(),c&&c()}),C)}P=P||"text";let h=await ef[Pt.findKey(ef,P)||"text"](u,e);return!f&&c&&c(),await new Promise((C,B)=>{t0(C,B,{data:h,headers:Vi.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:T})})}catch(g){throw c&&c(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,T),{cause:g.cause||g}):Nn.from(g,g&&g.code,e,T)}}),Jh={http:sb,xhr:Ub,fetch:Kb};Pt.forEach(Jh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jy=e=>`- ${e}`,Wb=e=>Pt.isFunction(e)||e===null||e===!1,a0={getAdapter:e=>{e=Pt.isArray(e)?e:[e];const{length:t}=e;let n,r;const l={};for(let v=0;v<t;v++){n=e[v];let A;if(r=n,!Wb(n)&&(r=Jh[(A=String(n)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${A}'`);if(r)break;l[A||"#"+v]=r}if(!r){const v=Object.entries(l).map(([N,E])=>`adapter ${N} `+(E===!1?"is not supported by the environment":"is not available in the build"));let A=t?v.length>1?`since :
`+v.map(Jy).join(`
`):" "+Jy(v[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return r},adapters:Jh};function jd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qs(null,e)}function ev(e){return jd(e),e.headers=Vi.from(e.headers),e.data=Zd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a0.getAdapter(e.adapter||rg.adapter)(e).then(function(r){return jd(e),r.data=Zd.call(e,e.transformResponse,r),r.headers=Vi.from(r.headers),r},function(r){return e0(r)||(jd(e),r&&r.response&&(r.response.data=Zd.call(e,e.transformResponse,r.response),r.response.headers=Vi.from(r.response.headers))),Promise.reject(r)})}const s0="1.7.9",If={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{If[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const tv={};If.transitional=function(t,n,r){function l(v,A){return"[Axios v"+s0+"] Transitional option '"+v+"'"+A+(r?". "+r:"")}return(v,A,N)=>{if(t===!1)throw new Nn(l(A," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!tv[A]&&(tv[A]=!0,console.warn(l(A," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(v,A,N):!0}};If.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Qb(e,t,n){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const v=r[l],A=t[v];if(A){const N=e[v],E=N===void 0||A(N,v,e);if(E!==!0)throw new Nn("option "+v+" must be "+E,Nn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nn("Unknown option "+v,Nn.ERR_BAD_OPTION)}}const wc={assertOptions:Qb,validators:If},Xi=wc.validators;class tf{constructor(t){this.defaults=t,this.interceptors={request:new Yy,response:new Yy}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const v=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?v&&!String(r.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+v):r.stack=v}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ja(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:v}=n;r!==void 0&&wc.assertOptions(r,{silentJSONParsing:Xi.transitional(Xi.boolean),forcedJSONParsing:Xi.transitional(Xi.boolean),clarifyTimeoutError:Xi.transitional(Xi.boolean)},!1),l!=null&&(Pt.isFunction(l)?n.paramsSerializer={serialize:l}:wc.assertOptions(l,{encode:Xi.function,serialize:Xi.function},!0)),wc.assertOptions(n,{baseUrl:Xi.spelling("baseURL"),withXsrfToken:Xi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let A=v&&Pt.merge(v.common,v[n.method]);v&&Pt.forEach(["delete","get","head","post","put","patch","common"],T=>{delete v[T]}),n.headers=Vi.concat(A,v);const N=[];let E=!0;this.interceptors.request.forEach(function(c){typeof c.runWhen=="function"&&c.runWhen(n)===!1||(E=E&&c.synchronous,N.unshift(c.fulfilled,c.rejected))});const P=[];this.interceptors.response.forEach(function(c){P.push(c.fulfilled,c.rejected)});let _,i=0,o;if(!E){const T=[ev.bind(this),void 0];for(T.unshift.apply(T,N),T.push.apply(T,P),o=T.length,_=Promise.resolve(n);i<o;)_=_.then(T[i++],T[i++]);return _}o=N.length;let w=n;for(i=0;i<o;){const T=N[i++],c=N[i++];try{w=T(w)}catch(b){c.call(this,b);break}}try{_=ev.call(this,w)}catch(T){return Promise.reject(T)}for(i=0,o=P.length;i<o;)_=_.then(P[i++],P[i++]);return _}getUri(t){t=ja(this.defaults,t);const n=n0(t.baseURL,t.url);return X_(n,t.params,t.paramsSerializer)}}Pt.forEach(["delete","get","head","options"],function(t){tf.prototype[t]=function(n,r){return this.request(ja(r||{},{method:t,url:n,data:(r||{}).data}))}});Pt.forEach(["post","put","patch"],function(t){function n(r){return function(v,A,N){return this.request(ja(N||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:v,data:A}))}}tf.prototype[t]=n(),tf.prototype[t+"Form"]=n(!0)});const bc=tf;class ig{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(v){n=v});const r=this;this.promise.then(l=>{if(!r._listeners)return;let v=r._listeners.length;for(;v-- >0;)r._listeners[v](l);r._listeners=null}),this.promise.then=l=>{let v;const A=new Promise(N=>{r.subscribe(N),v=N}).then(l);return A.cancel=function(){r.unsubscribe(v)},A},t(function(v,A,N){r.reason||(r.reason=new Qs(v,A,N),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ig(function(l){t=l}),cancel:t}}}const Xb=ig;function $b(e){return function(n){return e.apply(null,n)}}function Jb(e){return Pt.isObject(e)&&e.isAxiosError===!0}const ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ep).forEach(([e,t])=>{ep[t]=e});const eR=ep;function u0(e){const t=new bc(e),n=B_(bc.prototype.request,t);return Pt.extend(n,bc.prototype,t,{allOwnKeys:!0}),Pt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return u0(ja(e,l))},n}const vr=u0(rg);vr.Axios=bc;vr.CanceledError=Qs;vr.CancelToken=Xb;vr.isCancel=e0;vr.VERSION=s0;vr.toFormData=wf;vr.AxiosError=Nn;vr.Cancel=vr.CanceledError;vr.all=function(t){return Promise.all(t)};vr.spread=$b;vr.isAxiosError=Jb;vr.mergeConfig=ja;vr.AxiosHeaders=Vi;vr.formToJSON=e=>J_(Pt.isHTMLForm(e)?new FormData(e):e);vr.getAdapter=a0.getAdapter;vr.HttpStatusCode=eR;vr.default=vr;const tR=vr,Po="http://127.0.0.1:8000/sse",l0="http://127.0.0.1:8000",Xs=tR.create({baseURL:l0,timeout:1e4,headers:{"Content-Type":"application/json"}});Xs.interceptors.request.use(e=>e,e=>Promise.reject(e));Xs.interceptors.response.use(e=>e,e=>Promise.reject(e));var ms=(e=>(e.QueueChangeEvent="QueueUpdated",e.KeyChange="KeyChange",e.TogglePlayback="TogglePlayback",e.RestartSong="RestartSong",e))(ms||{});const li={playNextSong:["playNextSong"],ip:["ip"],key:["key"],playback:["playback"],restart:["restart"],queue:["sse",ms.QueueChangeEvent]},c0=e=>{const n=e.name.replace("./assets/","").replaceAll("_"," ");return{...e,formattedName:n}};async function nR(){const{data:e}=await Xs.get("/song_list",{headers:{"Content-Type":"application/json",Accept:"*"}});return e.map(c0)}function f0(){return Ha({queryFn:nR,queryKey:li.queue})}function og(){const{data:e}=f0();return e==null?void 0:e.at(0)}const hu=new Map,rR=()=>{const e=_f(),t=f0(),n=Ha({gcTime:0,staleTime:1/0,queryKey:["sse",Po],queryFn:()=>new Promise(r=>{if(hu.has(Po))r(null);else{const l=new EventSource(new URL(Po));hu.set(Po,l),t.refetch(),l.onmessage=v=>{try{const A=JSON.parse(v.data);switch(A.type){case ms.QueueChangeEvent:e.setQueryData(li.queue,A.queue.map(c0));break;case ms.KeyChange:e.setQueryData(li.key,A.current_key);break;case ms.TogglePlayback:{const N=e.getQueryData(li.playback);e.setQueryData(li.playback,!N);break}case ms.RestartSong:{const N=e.getQueryData(li.restart);e.setQueryData(li.restart,!N);break}default:console.warn("invalid event type",A);return}}catch(A){console.error("failed to parse sse data bestie:",A)}},l.onerror=()=>{hu.delete(Po),l.close()},l.onopen=()=>r(null)}}),enabled:!0});return Pn.useEffect(()=>()=>{var r,l;((r=e.getQueryCache().find({queryKey:["sse",Po]}))==null?void 0:r.getObserversCount())===1&&((l=hu.get(Po))==null||l.close(),hu.delete(Po))},[e]),{...n,isConnected:!n.isLoading}},d0="/goldie/assets/rubbo-c7b6d472.jpg",iR=({message:e="oops! something went wrong"})=>{const[t,n]=Pn.useState(5);return Pn.useEffect(()=>{const r=setInterval(()=>{n(l=>l-1)},1e3);return()=>clearInterval(r)},[]),t===0&&window.location.reload(),Sn.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 text-center",children:[Sn.jsx("div",{className:"animate-bounce-slow flex flex-row items-center mb-4",children:Sn.jsx("img",{src:d0,alt:"Splash screen",className:"max-h-[200px] h-auto rounded-2xl"})}),Sn.jsx("h2",{className:"text-2xl text-white font-medium mb-6",children:e}),Sn.jsxs("p",{className:"text-white text-lg",children:["refreshing in ",t," seconds"]})]})};var Nf={},h0={exports:{}},oR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aR=oR,sR=aR;function p0(){}function g0(){}g0.resetWarningCache=p0;var uR=function(){function e(r,l,v,A,N,E){if(E!==sR){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:g0,resetWarningCache:p0};return n.PropTypes=n,n};h0.exports=uR();var m0=h0.exports,y0={L:1,M:0,Q:3,H:2},v0={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},lR=v0;function E0(e){this.mode=lR.MODE_8BIT_BYTE,this.data=e}E0.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var cR=E0,ac=y0;function io(e,t){this.totalCount=e,this.dataCount=t}io.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];io.getRSBlocks=function(e,t){var n=io.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,l=new Array,v=0;v<r;v++)for(var A=n[v*3+0],N=n[v*3+1],E=n[v*3+2],P=0;P<A;P++)l.push(new io(N,E));return l};io.getRsBlockTable=function(e,t){switch(t){case ac.L:return io.RS_BLOCK_TABLE[(e-1)*4+0];case ac.M:return io.RS_BLOCK_TABLE[(e-1)*4+1];case ac.Q:return io.RS_BLOCK_TABLE[(e-1)*4+2];case ac.H:return io.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var fR=io;function _0(){this.buffer=new Array,this.length=0}_0.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var dR=_0,Hi={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Hi.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Hi.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Pr=0;Pr<8;Pr++)Hi.EXP_TABLE[Pr]=1<<Pr;for(var Pr=8;Pr<256;Pr++)Hi.EXP_TABLE[Pr]=Hi.EXP_TABLE[Pr-4]^Hi.EXP_TABLE[Pr-5]^Hi.EXP_TABLE[Pr-6]^Hi.EXP_TABLE[Pr-8];for(var Pr=0;Pr<255;Pr++)Hi.LOG_TABLE[Hi.EXP_TABLE[Pr]]=Pr;var T0=Hi,ya=T0;function Rc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}Rc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=ya.gexp(ya.glog(this.get(n))+ya.glog(e.get(r)));return new Rc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ya.glog(this.get(0))-ya.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=ya.gexp(ya.glog(e.get(r))+t);return new Rc(n,0).mod(e)}};var S0=Rc,Ai=v0,nv=S0,hR=T0,Mo={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Dr={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Dr.getBCHDigit(t)-Dr.getBCHDigit(Dr.G15)>=0;)t^=Dr.G15<<Dr.getBCHDigit(t)-Dr.getBCHDigit(Dr.G15);return(e<<10|t)^Dr.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Dr.getBCHDigit(t)-Dr.getBCHDigit(Dr.G18)>=0;)t^=Dr.G18<<Dr.getBCHDigit(t)-Dr.getBCHDigit(Dr.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Dr.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Mo.PATTERN000:return(t+n)%2==0;case Mo.PATTERN001:return t%2==0;case Mo.PATTERN010:return n%3==0;case Mo.PATTERN011:return(t+n)%3==0;case Mo.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Mo.PATTERN101:return t*n%2+t*n%3==0;case Mo.PATTERN110:return(t*n%2+t*n%3)%2==0;case Mo.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new nv([1],0),n=0;n<e;n++)t=t.multiply(new nv([1,hR.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ai.MODE_NUMBER:return 10;case Ai.MODE_ALPHA_NUM:return 9;case Ai.MODE_8BIT_BYTE:return 8;case Ai.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ai.MODE_NUMBER:return 12;case Ai.MODE_ALPHA_NUM:return 11;case Ai.MODE_8BIT_BYTE:return 16;case Ai.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ai.MODE_NUMBER:return 14;case Ai.MODE_ALPHA_NUM:return 13;case Ai.MODE_8BIT_BYTE:return 16;case Ai.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var l=0;l<t;l++){for(var v=0,A=e.isDark(r,l),N=-1;N<=1;N++)if(!(r+N<0||t<=r+N))for(var E=-1;E<=1;E++)l+E<0||t<=l+E||N==0&&E==0||A==e.isDark(r+N,l+E)&&v++;v>5&&(n+=3+v-5)}for(var r=0;r<t-1;r++)for(var l=0;l<t-1;l++){var P=0;e.isDark(r,l)&&P++,e.isDark(r+1,l)&&P++,e.isDark(r,l+1)&&P++,e.isDark(r+1,l+1)&&P++,(P==0||P==4)&&(n+=3)}for(var r=0;r<t;r++)for(var l=0;l<t-6;l++)e.isDark(r,l)&&!e.isDark(r,l+1)&&e.isDark(r,l+2)&&e.isDark(r,l+3)&&e.isDark(r,l+4)&&!e.isDark(r,l+5)&&e.isDark(r,l+6)&&(n+=40);for(var l=0;l<t;l++)for(var r=0;r<t-6;r++)e.isDark(r,l)&&!e.isDark(r+1,l)&&e.isDark(r+2,l)&&e.isDark(r+3,l)&&e.isDark(r+4,l)&&!e.isDark(r+5,l)&&e.isDark(r+6,l)&&(n+=40);for(var _=0,l=0;l<t;l++)for(var r=0;r<t;r++)e.isDark(r,l)&&_++;var i=Math.abs(100*_/t/t-50)/5;return n+=i*10,n}},pR=Dr,gR=cR,A0=fR,w0=dR,ca=pR,mR=S0;function oo(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var mi=oo.prototype;mi.addData=function(e){var t=new gR(e);this.dataList.push(t),this.dataCache=null};mi.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};mi.getModuleCount=function(){return this.moduleCount};mi.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=A0.getRSBlocks(e,this.errorCorrectLevel),n=new w0,r=0,l=0;l<t.length;l++)r+=t[l].dataCount;for(var l=0;l<this.dataList.length;l++){var v=this.dataList[l];n.put(v.mode,4),n.put(v.getLength(),ca.getLengthInBits(v.mode,e)),v.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};mi.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=oo.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};mi.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};mi.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=ca.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};mi.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),l=1;this.make();for(var v=0;v<this.modules.length;v++)for(var A=v*l,N=0;N<this.modules[v].length;N++){var E=N*l,P=this.modules[v][N];P&&(r.beginFill(0,100),r.moveTo(E,A),r.lineTo(E+l,A),r.lineTo(E+l,A+l),r.lineTo(E,A+l),r.endFill())}return r};mi.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};mi.setupPositionAdjustPattern=function(){for(var e=ca.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],l=e[n];if(this.modules[r][l]==null)for(var v=-2;v<=2;v++)for(var A=-2;A<=2;A++)v==-2||v==2||A==-2||A==2||v==0&&A==0?this.modules[r+v][l+A]=!0:this.modules[r+v][l+A]=!1}};mi.setupTypeNumber=function(e){for(var t=ca.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};mi.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=ca.getBCHTypeInfo(n),l=0;l<15;l++){var v=!e&&(r>>l&1)==1;l<6?this.modules[l][8]=v:l<8?this.modules[l+1][8]=v:this.modules[this.moduleCount-15+l][8]=v}for(var l=0;l<15;l++){var v=!e&&(r>>l&1)==1;l<8?this.modules[8][this.moduleCount-l-1]=v:l<9?this.modules[8][15-l-1+1]=v:this.modules[8][15-l-1]=v}this.modules[this.moduleCount-8][8]=!e};mi.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,l=7,v=0,A=this.moduleCount-1;A>0;A-=2)for(A==6&&A--;;){for(var N=0;N<2;N++)if(this.modules[r][A-N]==null){var E=!1;v<e.length&&(E=(e[v]>>>l&1)==1);var P=ca.getMask(t,r,A-N);P&&(E=!E),this.modules[r][A-N]=E,l--,l==-1&&(v++,l=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};oo.PAD0=236;oo.PAD1=17;oo.createData=function(e,t,n){for(var r=A0.getRSBlocks(e,t),l=new w0,v=0;v<n.length;v++){var A=n[v];l.put(A.mode,4),l.put(A.getLength(),ca.getLengthInBits(A.mode,e)),A.write(l)}for(var N=0,v=0;v<r.length;v++)N+=r[v].dataCount;if(l.getLengthInBits()>N*8)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+N*8+")");for(l.getLengthInBits()+4<=N*8&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=N*8||(l.put(oo.PAD0,8),l.getLengthInBits()>=N*8));)l.put(oo.PAD1,8);return oo.createBytes(l,r)};oo.createBytes=function(e,t){for(var n=0,r=0,l=0,v=new Array(t.length),A=new Array(t.length),N=0;N<t.length;N++){var E=t[N].dataCount,P=t[N].totalCount-E;r=Math.max(r,E),l=Math.max(l,P),v[N]=new Array(E);for(var _=0;_<v[N].length;_++)v[N][_]=255&e.buffer[_+n];n+=E;var i=ca.getErrorCorrectPolynomial(P),o=new mR(v[N],i.getLength()-1),w=o.mod(i);A[N]=new Array(i.getLength()-1);for(var _=0;_<A[N].length;_++){var T=_+w.getLength()-A[N].length;A[N][_]=T>=0?w.get(T):0}}for(var c=0,_=0;_<t.length;_++)c+=t[_].totalCount;for(var b=new Array(c),g=0,_=0;_<r;_++)for(var N=0;N<t.length;N++)_<v[N].length&&(b[g++]=v[N][_]);for(var _=0;_<l;_++)for(var N=0;N<t.length;N++)_<A[N].length&&(b[g++]=A[N][_]);return b};var yR=oo,ag={};Object.defineProperty(ag,"__esModule",{value:!0});var vR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ER=m0,wi=R0(ER),b0=Pn,sc=R0(b0);function R0(e){return e&&e.__esModule?e:{default:e}}function _R(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var TR={bgColor:wi.default.oneOfType([wi.default.object,wi.default.string]).isRequired,bgD:wi.default.string.isRequired,fgColor:wi.default.oneOfType([wi.default.object,wi.default.string]).isRequired,fgD:wi.default.string.isRequired,size:wi.default.number.isRequired,title:wi.default.string,viewBoxSize:wi.default.number.isRequired,xmlns:wi.default.string},sg=(0,b0.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,l=e.fgD,v=e.fgColor,A=e.size,N=e.title,E=e.viewBoxSize,P=e.xmlns,_=P===void 0?"http://www.w3.org/2000/svg":P,i=_R(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return sc.default.createElement("svg",vR({},i,{height:A,ref:t,viewBox:"0 0 "+E+" "+E,width:A,xmlns:_}),N?sc.default.createElement("title",null,N):null,sc.default.createElement("path",{d:r,fill:n}),sc.default.createElement("path",{d:l,fill:v}))});sg.displayName="QRCodeSvg";sg.propTypes=TR;ag.default=sg;Object.defineProperty(Nf,"__esModule",{value:!0});Nf.QRCode=void 0;var SR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AR=m0,co=fl(AR),wR=y0,bR=fl(wR),RR=yR,IR=fl(RR),I0=Pn,NR=fl(I0),CR=ag,DR=fl(CR);function fl(e){return e&&e.__esModule?e:{default:e}}function OR(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var PR={bgColor:co.default.oneOfType([co.default.object,co.default.string]),fgColor:co.default.oneOfType([co.default.object,co.default.string]),level:co.default.string,size:co.default.number,value:co.default.string.isRequired},Cf=(0,I0.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,l=e.fgColor,v=l===void 0?"#000000":l,A=e.level,N=A===void 0?"L":A,E=e.size,P=E===void 0?256:E,_=e.value,i=OR(e,["bgColor","fgColor","level","size","value"]),o=new IR.default(-1,bR.default[N]);o.addData(_),o.make();var w=o.modules;return NR.default.createElement(DR.default,SR({},i,{bgColor:r,bgD:w.map(function(T,c){return T.map(function(b,g){return b?"":"M "+g+" "+c+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:v,fgD:w.map(function(T,c){return T.map(function(b,g){return b?"M "+g+" "+c+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:P,viewBoxSize:w.length}))});Nf.QRCode=Cf;Cf.displayName="QRCode";Cf.propTypes=PR;var MR=Nf.default=Cf;async function LR(){const{data:e}=await Xs.get("/server_ip",{headers:{"Content-Type":"application/json",Accept:"*"}});return e.ip}function xR(){return Ha({queryFn:LR,queryKey:li.ip})}function FR(){const{data:e}=xR();return Sn.jsx("div",{className:"absolute bottom-4 left-4",children:Sn.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl flex flex-col items-center",children:Sn.jsx(MR,{value:`http://${e??""}:5174`,size:128})})})}const kR=()=>{const{data:e}=Ha({queryKey:li.queue,enabled:!0});return e||[]};var Bo=(e=>(e.Success="Success",e.InProgress="InProgress",e.Failed="Failed",e.Ready="Ready",e))(Bo||{});const UR=()=>{const e=kR(),t=og(),n=(e==null?void 0:e.slice(1,3))||[];return Sn.jsxs("div",{className:"absolute bottom-4 right-4 w-64 bg-white rounded-lg shadow-xl overflow-hidden",children:[!!t&&Sn.jsx("div",{className:"px-3 py-2 bg-purple-50 border-b border-purple-100",children:Sn.jsxs("div",{className:"flex items-center gap-3",children:[t.status===Bo.InProgress?Sn.jsx("div",{className:"w-4 h-4 border-2 border-purple-200 border-t-purple-500 rounded-full animate-spin"}):Sn.jsx("div",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-purple-200",children:Sn.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 animate-pulse"})}),Sn.jsx("p",{className:"text-purple-900 text-xs font-medium truncate",children:t==null?void 0:t.formattedName})]})}),Sn.jsx("div",{className:"p-3 bg-purple-900",children:Sn.jsx("h3",{className:"text-white text-sm font-medium uppercase tracking-wider",children:"up next"})}),Sn.jsx("div",{children:n.length>0?n.map(r=>Sn.jsx("div",{className:"p-3 border-gray-100 hover:bg-purple-50 transition-colors",children:Sn.jsxs("div",{className:"flex items-center gap-3",children:[r.status===Bo.InProgress?Sn.jsx("div",{className:"w-4 h-4 border-2 border-purple-200 border-t-purple-500 rounded-full animate-spin"}):Sn.jsx("div",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-purple-200",children:Sn.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 animate-pulse"})}),Sn.jsx("div",{className:"flex-1 min-w-0",children:Sn.jsx("p",{className:"text-gray-900 text-sm truncate",children:r.formattedName})})]})},r.uuid)):Sn.jsx("div",{className:"p-3 border-gray-100",children:Sn.jsx("div",{className:"flex items-center gap-3",children:Sn.jsx("div",{className:"flex-1 min-w-0",children:Sn.jsx("p",{className:"text-gray-500 text-sm",children:"None"})})})})})]})},BR=({message:e="waiting for next song..."})=>Sn.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 text-center",children:[Sn.jsxs("div",{className:"animate-bounce-slow flex flex-row items-center mb-4",children:[Sn.jsx("img",{src:d0,alt:"Splash screen",className:"max-h-[200px] h-auto rounded-2xl"}),Sn.jsx("h1",{className:"text-8xl text-white font-bold p-4 leading-loose mb-4",children:"pi-tch perfect"})]}),Sn.jsx("h2",{className:"text-4xl text-white font-bold mb-4 animate-pulse",children:e}),Sn.jsx("p",{className:"text-purple-200 text-lg animate-fade-in",children:"queue songs from your phone"})]});var N0={exports:{}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r()})(self,function(){return function(){var n={4593:function(A,N){var E,P,_,i,o,w=function(b){for(var g=[],u=0;u<b.length;++u){var f=b.charCodeAt(u);f<128?g.push(f):f<2048?(g.push(192|f>>6),g.push(128|63&f)):f<65536?(g.push(224|f>>12),g.push(128|63&f>>6),g.push(128|63&f)):(g.push(240|f>>18),g.push(128|63&f>>12),g.push(128|63&f>>6),g.push(128|63&f))}return g},T=function(b){for(var g=[],u=0;u<b.length;){var f=b[u++];f<128||(f<224?(f=(31&f)<<6,f|=63&b[u++]):f<240?(f=(15&f)<<12,f|=(63&b[u++])<<6,f|=63&b[u++]):(f=(7&f)<<18,f|=(63&b[u++])<<12,f|=(63&b[u++])<<6,f|=63&b[u++])),g.push(String.fromCharCode(f))}return g.join("")},c={};E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=function(b){for(var g=0,u=[],f=0|b.length/3;0<f--;){var h=(b[g]<<16)+(b[g+1]<<8)+b[g+2];g+=3,u.push(E.charAt(63&h>>18)),u.push(E.charAt(63&h>>12)),u.push(E.charAt(63&h>>6)),u.push(E.charAt(63&h))}return b.length-g==2?(h=(b[g]<<16)+(b[g+1]<<8),u.push(E.charAt(63&h>>18)),u.push(E.charAt(63&h>>12)),u.push(E.charAt(63&h>>6)),u.push("=")):b.length-g==1&&(h=b[g]<<16,u.push(E.charAt(63&h>>18)),u.push(E.charAt(63&h>>12)),u.push("==")),u.join("")},_=function(){for(var b=[],g=0;g<E.length;++g)b[E.charCodeAt(g)]=g;return b["=".charCodeAt(0)]=0,b}(),i=function(b){for(var g=0,u=[],f=0|b.length/4;0<f--;){var h=(_[b.charCodeAt(g)]<<18)+(_[b.charCodeAt(g+1)]<<12)+(_[b.charCodeAt(g+2)]<<6)+_[b.charCodeAt(g+3)];u.push(255&h>>16),u.push(255&h>>8),u.push(255&h),g+=4}return u&&(b.charAt(g-2)=="="?(u.pop(),u.pop()):b.charAt(g-1)=="="&&u.pop()),u},o={encode:function(b){for(var g=[],u=0;u<b.length;++u)g.push(b.charCodeAt(u));return g},decode:function(b){for(var g=0;g<s.length;++g)a[g]=String.fromCharCode(a[g]);return a.join("")}},c.decodeArray=function(b){var g=i(b);return new Uint8Array(g)},c.encodeASCII=function(b){var g=o.encode(b);return P(g)},c.decodeASCII=function(b){var g=i(b);return o.decode(g)},c.encode=function(b){var g=w(b);return P(g)},c.decode=function(b){var g=i(b);return T(g)},N.decode=c.decode,N.decodeArray=c.decodeArray,N.encode=c.encode,N.encodeASCII=c.encodeASCII},452:function(A,N){(function(E){var P={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},_=function(Z){var te=Z;return P.hasOwnProperty(Z)&&(te=P[Z]),String.fromCharCode(te)},i=15,o=32,w={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},T={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},b={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(Z){this.time=Z},log:function(Z,te){var de=this.verboseFilter[Z];this.verboseLevel>=de&&console.log(this.time+" ["+Z+"] "+te)}},f=function(Z){for(var te=[],de=0;de<Z.length;de++)te.push(Z[de].toString(16));return te},h=function(Z,te,de,J,le){this.foreground=Z||"white",this.underline=te||!1,this.italics=de||!1,this.background=J||"black",this.flash=le||!1};h.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(Z){for(var te=["foreground","underline","italics","background","flash"],de=0;de<te.length;de++){var J=te[de];Z.hasOwnProperty(J)&&(this[J]=Z[J])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(Z){return this.foreground===Z.foreground&&this.underline===Z.underline&&this.italics===Z.italics&&this.background===Z.background&&this.flash===Z.flash},copy:function(Z){this.foreground=Z.foreground,this.underline=Z.underline,this.italics=Z.italics,this.background=Z.background,this.flash=Z.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var C=function(Z,te,de,J,le,ge){this.uchar=Z||" ",this.penState=new h(te,de,J,le,ge)};C.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(Z,te){this.uchar=Z,this.penState.copy(te)},setPenState:function(Z){this.penState.copy(Z)},equals:function(Z){return this.uchar===Z.uchar&&this.penState.equals(Z.penState)},copy:function(Z){this.uchar=Z.uchar,this.penState.copy(Z.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var B=function(){this.chars=[];for(var Z=0;Z<o;Z++)this.chars.push(new C);this.pos=0,this.currPenState=new h};B.prototype={equals:function(Z){for(var te=!0,de=0;de<o;de++)if(!this.chars[de].equals(Z.chars[de])){te=!1;break}return te},copy:function(Z){for(var te=0;te<o;te++)this.chars[te].copy(Z.chars[te])},isEmpty:function(){for(var Z=!0,te=0;te<o;te++)if(!this.chars[te].isEmpty()){Z=!1;break}return Z},setCursor:function(Z){this.pos!==Z&&(this.pos=Z),this.pos<0?(u.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>o&&(u.log("ERROR","Too large cursor position "+this.pos),this.pos=o)},moveCursor:function(Z){var te=this.pos+Z;if(Z>1)for(var de=this.pos+1;de<te+1;de++)this.chars[de].setPenState(this.currPenState);this.setCursor(te)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(Z){Z>=144&&this.backSpace();var te=_(Z);this.pos>=o?u.log("ERROR","Cannot insert "+Z.toString(16)+" ("+te+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(te,this.currPenState),this.moveCursor(1))},clearFromPos:function(Z){var te;for(te=Z;te<o;te++)this.chars[te].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var Z=[],te=!0,de=0;de<o;de++){var J=this.chars[de].uchar;J!==" "&&(te=!1),Z.push(J)}return te?"":Z.join("")},setPenStyles:function(Z){this.currPenState.setStyles(Z),this.chars[this.pos].setPenState(this.currPenState)}};var G=function(){this.rows=[];for(var Z=0;Z<i;Z++)this.rows.push(new B);this.currRow=14,this.nrRollUpRows=null,this.reset()};G.prototype={reset:function(){for(var Z=0;Z<i;Z++)this.rows[Z].clear();this.currRow=14},equals:function(Z){for(var te=!0,de=0;de<i;de++)if(!this.rows[de].equals(Z.rows[de])){te=!1;break}return te},copy:function(Z){for(var te=0;te<i;te++)this.rows[te].copy(Z.rows[te])},isEmpty:function(){for(var Z=!0,te=0;te<i;te++)if(!this.rows[te].isEmpty()){Z=!1;break}return Z},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(Z){this.rows[this.currRow].insertChar(Z)},setPen:function(Z){this.rows[this.currRow].setPenStyles(Z)},moveCursor:function(Z){this.rows[this.currRow].moveCursor(Z)},setCursor:function(Z){u.log("INFO","setCursor: "+Z),this.rows[this.currRow].setCursor(Z)},setPAC:function(Z){u.log("INFO","pacData = "+JSON.stringify(Z));var te=Z.row-1;this.nrRollUpRows&&te<this.nrRollUpRows-1&&(te=this.nrRollUpRows-1),this.currRow=te;var de=this.rows[this.currRow];if(Z.indent!==null){var J=Z.indent,le=Math.max(J-1,0);de.setCursor(Z.indent),Z.color=de.chars[le].penState.foreground}var ge={foreground:Z.color,underline:Z.underline,italics:Z.italics,background:"black",flash:!1};this.setPen(ge)},setBkgData:function(Z){u.log("INFO","bkgData = "+JSON.stringify(Z)),this.backSpace(),this.setPen(Z),this.insertChar(32)},setRollUpRows:function(Z){this.nrRollUpRows=Z},rollUp:function(){if(this.nrRollUpRows!==null){u.log("TEXT",this.getDisplayText());var Z=this.currRow+1-this.nrRollUpRows,te=this.rows.splice(Z,1)[0];te.clear(),this.rows.splice(this.currRow,0,te),u.log("INFO","Rolling up")}else u.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(Z){Z=Z||!1;for(var te=[],de="",J=-1,le=0;le<i;le++){var ge=this.rows[le].getTextString();ge&&(J=le+1,Z?te.push("Row "+J+': "'+ge+'"'):te.push(ge.trim()))}return te.length>0&&(de=Z?"["+te.join(" | ")+"]":te.join(`
`)),de},getTextAndFormat:function(){return this.rows}};var U=function(Z,te){this.chNr=Z,this.outputFilter=te,this.mode=null,this.verbose=0,this.displayedMemory=new G,this.nonDisplayedMemory=new G,this.lastOutputScreen=new G,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};U.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(Z){this.outputFilter=Z},setPAC:function(Z){this.writeScreen.setPAC(Z)},setBkgData:function(Z){this.writeScreen.setBkgData(Z)},setMode:function(Z){Z!==this.mode&&(this.mode=Z,u.log("INFO","MODE="+Z),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=Z)},insertChars:function(Z){for(var te=0;te<Z.length;te++)this.writeScreen.insertChar(Z[te]);var de=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";u.log("INFO",de+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(u.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){u.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){u.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){u.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(Z){u.log("INFO","RU("+Z+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(Z)},cc_FON:function(){u.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){u.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){u.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){u.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){u.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){u.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){u.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(u.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var Z=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=Z,this.writeScreen=this.nonDisplayedMemory,u.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(Z){u.log("INFO","TO("+Z+") - Tab Offset"),this.writeScreen.moveCursor(Z)},cc_MIDROW:function(Z){var te={flash:!1};if(te.underline=Z%2==1,te.italics=Z>=46,te.italics)te.foreground="white";else{var de=Math.floor(Z/2)-16;te.foreground=["white","green","blue","cyan","red","yellow","magenta"][de]}u.log("INFO","MIDROW: "+JSON.stringify(te)),this.writeScreen.setPen(te)},outputDataUpdate:function(){var Z=u.time;Z!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(Z,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:Z):this.cueStartTime=Z,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(Z){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.displayedMemory),this.cueStartTime=Z))}};var re=function(Z,te,de){this.field=Z||1,this.outputs=[te,de],this.channels=[new U(1,te),new U(2,de)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};re.prototype={getHandler:function(Z){return this.channels[Z].getHandler()},setHandler:function(Z,te){this.channels[Z].setHandler(te)},addData:function(Z,te){var de,J,le,ge=!1;this.lastTime=Z,u.setTime(Z);for(var Ce=0;Ce<te.length;Ce+=2)J=127&te[Ce],le=127&te[Ce+1],J>=16&&J<=31&&J===this.lastCmdA&&le===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,u.log("DEBUG","Repeated command ("+f([J,le])+") is dropped")):J!==0||le!==0?(u.log("DATA","["+f([te[Ce],te[Ce+1]])+"] -> ("+f([J,le])+")"),(de=this.parseCmd(J,le))||(de=this.parseMidrow(J,le)),de||(de=this.parsePAC(J,le)),de||(de=this.parseBackgroundAttributes(J,le)),de||(ge=this.parseChars(J,le))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(ge):u.log("WARNING","No channel found yet. TEXT-MODE?")),de?this.dataCounters.cmd+=2:ge?this.dataCounters.char+=2:(this.dataCounters.other+=2,u.log("WARNING","Couldn't parse cleaned data "+f([J,le])+" orig: "+f([te[Ce],te[Ce+1]])))):this.dataCounters.padding+=2},parseCmd:function(Z,te){var de;if(!((Z===20||Z===21||Z===28||Z===29)&&32<=te&&te<=47||(Z===23||Z===31)&&33<=te&&te<=35))return!1;de=Z===20||Z===21||Z===23?1:2;var J=this.channels[de-1];return Z===20||Z===21||Z===28||Z===29?te===32?J.cc_RCL():te===33?J.cc_BS():te===34?J.cc_AOF():te===35?J.cc_AON():te===36?J.cc_DER():te===37?J.cc_RU(2):te===38?J.cc_RU(3):te===39?J.cc_RU(4):te===40?J.cc_FON():te===41?J.cc_RDC():te===42?J.cc_TR():te===43?J.cc_RTD():te===44?J.cc_EDM():te===45?J.cc_CR():te===46?J.cc_ENM():te===47&&J.cc_EOC():J.cc_TO(te-32),this.lastCmdA=Z,this.lastCmdB=te,this.currChNr=de,!0},parseMidrow:function(Z,te){var de=null;if((Z===17||Z===25)&&32<=te&&te<=47){if((de=Z===17?1:2)!==this.currChNr)return u.log("ERROR","Mismatch channel in midrow parsing"),!1;var J=this.channels[de-1];return J.insertChars([32]),J.cc_MIDROW(te),u.log("DEBUG","MIDROW ("+f([Z,te])+")"),this.lastCmdA=Z,this.lastCmdB=te,!0}return!1},parsePAC:function(Z,te){var de,J;if(!((17<=Z&&Z<=23||25<=Z&&Z<=31)&&64<=te&&te<=127||(Z===16||Z===24)&&64<=te&&te<=95))return!1;de=Z<=23?1:2,J=64<=te&&te<=95?de===1?w[Z]:c[Z]:de===1?T[Z]:b[Z];var le=this.interpretPAC(J,te);return this.channels[de-1].setPAC(le),this.lastCmdA=Z,this.lastCmdB=te,this.currChNr=de,!0},interpretPAC:function(Z,te){var de,J={color:null,italics:!1,indent:null,underline:!1,row:Z};return de=te>95?te-96:te-64,J.underline=(1&de)==1,de<=13?J.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(de/2)]:de<=15?(J.italics=!0,J.color="white"):J.indent=4*Math.floor((de-16)/2),J},parseChars:function(Z,te){var de=null,J=null,le=null;if(Z>=25?(de=2,le=Z-8):(de=1,le=Z),17<=le&&le<=19){var ge;ge=le===17?te+80:le===18?te+112:te+144,u.log("INFO","Special char '"+_(ge)+"' in channel "+de),J=[ge],this.lastCmdA=Z,this.lastCmdB=te}else 32<=Z&&Z<=127&&(J=te===0?[Z]:[Z,te],this.lastCmdA=null,this.lastCmdB=null);if(J){var Ce=f(J);u.log("DEBUG","Char codes =  "+Ce.join(","))}return J},parseBackgroundAttributes:function(Z,te){var de,J,le;return((Z===16||Z===24)&&32<=te&&te<=47||(Z===23||Z===31)&&45<=te&&te<=47)&&(de={},Z===16||Z===24?(J=Math.floor((te-32)/2),de.background=g[J],te%2==1&&(de.background=de.background+"_semi")):te===45?de.background="transparent":(de.foreground="black",te===47&&(de.underline=!0)),le=Z<24?1:2,this.channels[le-1].setBkgData(de),this.lastCmdA=Z,this.lastCmdB=te,!0)},reset:function(){for(var Z=0;Z<this.channels.length;Z++)this.channels[Z]&&this.channels[Z].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(Z){for(var te=0;te<this.channels.length;te++)this.channels[te]&&this.channels[te].cueSplitAtTime(Z)}},E.logger=u,E.PenState=h,E.CaptionScreen=G,E.Cea608Parser=re,E.findCea608Nalus=function(Z,te,de){for(var J=0,le=te,ge=[],Ce=function(Re,xe,$e,it){if(Re!==4||xe<8)return null;var Ie=$e.getUint8(it),ke=$e.getUint16(it+1),wt=$e.getUint32(it+3),Et=$e.getUint8(it+7);return Ie==181&&ke==49&&wt==1195456820&&Et==3};le<te+de;){if(J=Z.getUint32(le),(31&Z.getUint8(le+4))==6)for(var ae=le+5,we=-1;ae<le+4+J-1;){we=0;for(var Pe=255;Pe===255;)we+=Pe=Z.getUint8(ae),ae++;var Ge=0;for(Pe=255;Pe===255;)Ge+=Pe=Z.getUint8(ae),ae++;Ce(we,Ge,Z,ae)&&ge.push([ae,Ge]),ae+=Ge}le+=J+4}return ge},E.extractCea608DataFromRange=function(Z,te){var de=te[0],J=[[],[]];de+=8;var le=31&Z.getUint8(de);de+=2;for(var ge=0;ge<le;ge++){var Ce=Z.getUint8(de),ae=4&Ce,we=3&Ce;de++;var Pe=Z.getUint8(de);de++;var Ge=Z.getUint8(de);de++,ae&&(127&Pe)+(127&Ge)!=0&&(we===0?(J[0].push(Pe),J[0].push(Ge)):we===1&&(J[1].push(Pe),J[1].push(Ge)))}return J}})(N)},8416:function(A,N,E){var P=E(1139),_=E(5448),i=E(6398),o=E(2032),w=(E(5530),typeof window<"u"&&window||E.g),T=w.dashjs;T||(T=w.dashjs={}),T.MediaPlayer=P.Z,T.FactoryMaker=_.Z,T.Debug=i.Z,T.Version=(0,o.e)()},6398:function(A,N,E){var P=E(5595),_=E(8512),i=E(5448),o=1,w=2,T=3,c=4,b=5;function g(f){f=f||{};var h,C,B,G,U=this.context,re=(0,P.Z)(U).getInstance(),Z=f.settings,te=[];function de(Pe){return Pe&&Pe.bind?Pe.bind(window.console):window.console.log.bind(window.console)}function J(){for(var Pe=arguments.length,Ge=new Array(Pe),Re=0;Re<Pe;Re++)Ge[Re]=arguments[Re];we.apply(void 0,[o,this].concat(Ge))}function le(){for(var Pe=arguments.length,Ge=new Array(Pe),Re=0;Re<Pe;Re++)Ge[Re]=arguments[Re];we.apply(void 0,[w,this].concat(Ge))}function ge(){for(var Pe=arguments.length,Ge=new Array(Pe),Re=0;Re<Pe;Re++)Ge[Re]=arguments[Re];we.apply(void 0,[T,this].concat(Ge))}function Ce(){for(var Pe=arguments.length,Ge=new Array(Pe),Re=0;Re<Pe;Re++)Ge[Re]=arguments[Re];we.apply(void 0,[c,this].concat(Ge))}function ae(){for(var Pe=arguments.length,Ge=new Array(Pe),Re=0;Re<Pe;Re++)Ge[Re]=arguments[Re];we.apply(void 0,[b,this].concat(Ge))}function we(Pe,Ge){var Re="",xe=null;C&&(xe=new Date().getTime(),Re+="["+(xe-G)+"]"),B&&Ge&&Ge.getClassName&&(Re+="["+Ge.getClassName()+"]",Ge.getType&&(Re+="["+Ge.getType()+"]")),Re.length>0&&(Re+=" ");for(var $e=arguments.length,it=new Array($e>2?$e-2:0),Ie=2;Ie<$e;Ie++)it[Ie-2]=arguments[Ie];Array.apply(null,it).forEach(function(ke){Re+=ke+" "}),te[Pe]&&Z&&Z.get().debug.logLevel>=Pe&&te[Pe](Re),Z&&Z.get().debug.dispatchEvent&&re.trigger(_.Z.LOG,{message:Re,level:Pe})}return h={getLogger:function(Pe){return{fatal:J.bind(Pe),error:le.bind(Pe),warn:ge.bind(Pe),info:Ce.bind(Pe),debug:ae.bind(Pe)}},setLogTimestampVisible:function(Pe){C=Pe},setCalleeNameVisible:function(Pe){B=Pe}},C=!0,B=!0,G=new Date().getTime(),typeof window<"u"&&window.console&&(te[o]=de(window.console.error),te[w]=de(window.console.error),te[T]=de(window.console.warn),te[c]=de(window.console.info),te[b]=de(window.console.debug)),h}g.__dashjs_factory_name="Debug";var u=i.Z.getSingletonFactory(g);u.LOG_LEVEL_NONE=0,u.LOG_LEVEL_FATAL=o,u.LOG_LEVEL_ERROR=w,u.LOG_LEVEL_WARNING=T,u.LOG_LEVEL_INFO=c,u.LOG_LEVEL_DEBUG=b,i.Z.updateSingletonFactory(g.__dashjs_factory_name,u),N.Z=u},5595:function(A,N,E){var P=E(5448),_=E(8825);function i(){var w={};function T(b,g,u){var f=-1;return w[b]&&w[b].some(function(h,C){if(h&&h.callback===g&&(!u||u===h.scope))return f=C,!0}),f}var c={on:function(b,g,u){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!b)throw new Error("event type cannot be null or undefined");if(!g||typeof g!="function")throw new Error("listener must be a function: "+g);var h=f.priority||0;if(!(T(b,g,u)>=0)){w[b]=w[b]||[];var C={callback:g,scope:u,priority:h};u&&u.getStreamId&&(C.streamId=u.getStreamId()),u&&u.getType&&(C.mediaType=u.getType()),f&&f.mode&&(C.mode=f.mode);var B=w[b].some(function(G,U){if(G&&h>G.priority)return w[b].splice(U,0,C),!0});B||w[b].push(C)}},off:function(b,g,u){if(b&&g&&w[b]){var f=T(b,g,u);f<0||(w[b][f]=null)}},trigger:function(b){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(b&&w[b]){if((g=g||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");g.type=b,u.streamId&&(g.streamId=u.streamId),u.mediaType&&(g.mediaType=u.mediaType),w[b].filter(function(f){return!(!f||u.streamId&&f.streamId&&f.streamId!==u.streamId||u.mediaType&&f.mediaType&&f.mediaType!==u.mediaType||u.mode&&f.mode&&f.mode!==u.mode||!f.mode&&u.mode&&u.mode===_.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(f){return f&&f.callback.call(f.scope,g)})}},reset:function(){w={}}};return c}i.__dashjs_factory_name="EventBus";var o=P.Z.getSingletonFactory(i);o.EVENT_PRIORITY_LOW=0,o.EVENT_PRIORITY_HIGH=5e3,P.Z.updateSingletonFactory(i.__dashjs_factory_name,o),N.Z=o},5448:function(A,N){var E=function(){var P,_=[],i={},o={};function w(g,u){for(var f in _){var h=_[f];if(h.context===g&&h.name===u)return h.instance}return null}function T(g,u){return u[g]}function c(g,u,f){g in f&&(f[g]=u)}function b(g,u,f){var h,C=g.__dashjs_factory_name,B=u[C];if(B){var G=B.instance;if(!B.override)return G.apply({context:u,factory:P},f);for(var U in h=g.apply({context:u},f),G=G.apply({context:u,factory:P,parent:h},f))h.hasOwnProperty(U)&&(h[U]=G[U])}else h=g.apply({context:u},f);return h.getClassName=function(){return C},h}return P={extend:function(g,u,f,h){!h[g]&&u&&(h[g]={instance:u,override:f})},getSingletonInstance:w,setSingletonInstance:function(g,u,f){for(var h in _){var C=_[h];if(C.context===g&&C.name===u)return void(_[h].instance=f)}_.push({name:u,context:g,instance:f})},deleteSingletonInstances:function(g){_=_.filter(function(u){return u.context!==g})},getSingletonFactory:function(g){var u=T(g.__dashjs_factory_name,i);return u||(u=function(f){var h;return f===void 0&&(f={}),{getInstance:function(){return h||(h=w(f,g.__dashjs_factory_name)),h||(h=b(g,f,arguments),_.push({name:g.__dashjs_factory_name,context:f,instance:h})),h}}},i[g.__dashjs_factory_name]=u),u},getSingletonFactoryByName:function(g){return T(g,i)},updateSingletonFactory:function(g,u){c(g,u,i)},getClassFactory:function(g){var u=T(g.__dashjs_factory_name,o);return u||(u=function(f){return f===void 0&&(f={}),{create:function(){return b(g,f,arguments)}}},o[g.__dashjs_factory_name]=u),u},getClassFactoryByName:function(g){return T(g,o)},updateClassFactory:function(g,u){c(g,u,o)}},P}();N.Z=E},1264:function(A,N,E){var P=E(5448),_=E(703),i=E(6398),o=E(3393),w=E(7855),T=E(5595),c=E(8512);function b(h){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},b(h)}function g(h,C,B){return C in h?Object.defineProperty(h,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):h[C]=B,h}function u(){var h,C,B=this.context,G=(0,T.Z)(B).getInstance(),U={"streaming.delay.liveDelay":c.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":c.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":c.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":c.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":c.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},re={debug:{logLevel:i.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:o.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:o.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:o.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:o.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(h={},g(h,w.w.MPD_TYPE,500),g(h,w.w.XLINK_EXPANSION_TYPE,500),g(h,w.w.MEDIA_SEGMENT_TYPE,1e3),g(h,w.w.INIT_SEGMENT_TYPE,1e3),g(h,w.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),g(h,w.w.INDEX_SEGMENT_TYPE,1e3),g(h,w.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),g(h,w.w.LICENSE,1e3),g(h,w.w.OTHER_TYPE,1e3),g(h,"lowLatencyReductionFactor",10),h),retryAttempts:(C={},g(C,w.w.MPD_TYPE,3),g(C,w.w.XLINK_EXPANSION_TYPE,1),g(C,w.w.MEDIA_SEGMENT_TYPE,3),g(C,w.w.INIT_SEGMENT_TYPE,3),g(C,w.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),g(C,w.w.INDEX_SEGMENT_TYPE,3),g(C,w.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),g(C,w.w.LICENSE,3),g(C,w.w.OTHER_TYPE,3),g(C,"lowLatencyMultiplyFactor",5),C),abr:{movingAverageMethod:o.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:o.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:o.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},Z=_.Z.clone(re);function te(de,J,le){for(var ge in de)de.hasOwnProperty(ge)&&(J.hasOwnProperty(ge)?b(de[ge])!=="object"||de[ge]instanceof Array||de[ge]===null?(J[ge]=_.Z.clone(de[ge]),U[le+ge]&&G.trigger(U[le+ge])):te(de[ge],J[ge],le.slice()+ge+"."):console.error("Settings parameter "+le+ge+" is not supported"))}return{get:function(){return Z},update:function(de){b(de)==="object"&&te(de,Z,"")},reset:function(){Z=_.Z.clone(re)}}}u.__dashjs_factory_name="Settings";var f=P.Z.getSingletonFactory(u);N.Z=f},703:function(A,N,E){var P=E(3875),_=E.n(P),i=E(1067);function o(c){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o(c)}function w(c,b){for(var g=0;g<b.length;g++){var u=b[g];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}var T=function(){function c(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c)}var b,g;return b=c,g=[{key:"mixin",value:function(u,f,h){var C,B={};if(u)for(var G in f)f.hasOwnProperty(G)&&(C=f[G],G in u&&(u[G]===C||G in B&&B[G]===C)||(o(u[G])==="object"&&u[G]!==null?u[G]=c.mixin(u[G],C,h):u[G]=h(C)));return u}},{key:"clone",value:function(u){if(!u||o(u)!=="object")return u;var f;if(u instanceof Array){f=[];for(var h=0,C=u.length;h<C;++h)h in u&&f.push(c.clone(u[h]))}else f={};return c.mixin(f,u,c.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(u,f){try{if(!f||f.length===0)return u;var h=new URL(u);return f.forEach(function(C){C.key&&C.value&&h.searchParams.set(C.key,C.value)}),h.href}catch{return u}}},{key:"parseHttpHeaders",value:function(u){var f={};if(!u)return f;for(var h=u.trim().split(`\r
`),C=0,B=h.length;C<B;C++){var G=h[C],U=G.indexOf(": ");U>0&&(f[G.substring(0,U)]=G.substring(U+2))}return f}},{key:"generateUuid",value:function(){var u=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var h=(u+16*Math.random())%16|0;return u=Math.floor(u/16),(f=="x"?h:3&h|8).toString(16)})}},{key:"generateHashCode",value:function(u){var f=0;if(u.length===0)return f;for(var h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return f}},{key:"getRelativeUrl",value:function(u,f){try{var h=new URL(u),C=new URL(f);if(h.protocol=C.protocol,h.origin!==C.origin)return f;var B=_().relative(h.pathname.substr(0,h.pathname.lastIndexOf("/")),C.pathname.substr(0,C.pathname.lastIndexOf("/"))),G=B.length===0?1:0;return B+=C.pathname.substr(C.pathname.lastIndexOf("/")+G,C.pathname.length-1),C.pathname.length<B.length?C.pathname:B}catch{return f}}},{key:"parseUserAgent",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var f=u===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,i.UAParser)(f)}catch{return{}}}},{key:"stringHasProtocol",value:function(u){return/(http(s?)):\/\//i.test(u)}}],g&&w(b,g),c}();N.Z=T},2032:function(A,N,E){function P(){return"4.7.4"}E.d(N,{e:function(){return P}})},2230:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=function(){function _(){(function(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")})(this,_)}var i,o;return i=_,(o=[{key:"extend",value:function(w,T){if(w){var c=!!T&&T.override,b=!!T&&T.publicOnly;for(var g in w)!w.hasOwnProperty(g)||this[g]&&!c||b&&w[g].indexOf("public_")===-1||(this[g]=w[g])}}}])&&E(i.prototype,o),_}();N.Z=P},4351:function(A,N,E){function P(T){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},P(T)}function _(T,c){return _=Object.setPrototypeOf||function(b,g){return b.__proto__=g,b},_(T,c)}function i(T,c){return!c||P(c)!=="object"&&typeof c!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(T):c}function o(T){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},o(T)}var w=function(T){(function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),h&&_(f,h)})(u,T);var c,b,g=(c=u,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,h=o(c);if(b){var C=o(this).constructor;f=Reflect.construct(h,arguments,C)}else f=h.apply(this,arguments);return i(this,f)});function u(){var f;return function(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}(this,u),(f=g.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",f.BUFFERING_COMPLETED="bufferingCompleted",f.BUFFER_CLEARED="bufferCleared",f.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",f.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",f.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",f.CMSD_STATIC_HEADER="cmsdStaticHeader",f.CURRENT_TRACK_CHANGED="currentTrackChanged",f.DATA_UPDATE_COMPLETED="dataUpdateCompleted",f.INBAND_EVENTS="inbandEvents",f.INITIAL_STREAM_SWITCH="initialStreamSwitch",f.INIT_FRAGMENT_LOADED="initFragmentLoaded",f.INIT_FRAGMENT_NEEDED="initFragmentNeeded",f.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",f.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",f.LOADING_COMPLETED="loadingCompleted",f.LOADING_PROGRESS="loadingProgress",f.LOADING_DATA_PROGRESS="loadingDataProgress",f.LOADING_ABANDONED="loadingAborted",f.MANIFEST_UPDATED="manifestUpdated",f.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",f.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",f.QUOTA_EXCEEDED="quotaExceeded",f.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",f.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",f.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",f.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",f.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",f.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",f.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",f.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",f.SOURCE_BUFFER_ERROR="sourceBufferError",f.STREAMS_COMPOSED="streamsComposed",f.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",f.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",f.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",f.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",f.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",f.URL_RESOLUTION_FAILED="urlResolutionFailed",f.VIDEO_CHUNK_RECEIVED="videoChunkReceived",f.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",f.XLINK_ELEMENT_LOADED="xlinkElementLoaded",f.XLINK_READY="xlinkReady",f.SEEK_TARGET="seekTarget",f.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",f.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",f.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",f.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",f.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",f}return u}(E(8342).Z);N.Z=w},8512:function(A,N,E){function P(b){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},P(b)}function _(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function i(b,g){return i=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u},i(b,g)}function o(b,g){return!g||P(g)!=="object"&&typeof g!="function"?function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(b):g}function w(b){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},w(b)}var T=function(b){(function(C,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(B&&B.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),B&&i(C,B)})(h,b);var g,u,f=(g=h,u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var C,B=w(g);if(u){var G=w(this).constructor;C=Reflect.construct(B,arguments,G)}else C=B.apply(this,arguments);return o(this,C)});function h(){return _(this,h),f.apply(this,arguments)}return h}(E(4351).Z),c=new T;N.Z=c},8342:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=function(){function _(){(function(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")})(this,_)}var i,o;return i=_,(o=[{key:"extend",value:function(w,T){if(w){var c=!!T&&T.override,b=!!T&&T.publicOnly;for(var g in w)!w.hasOwnProperty(g)||this[g]&&!c||b&&w[g].indexOf("public_")===-1||(this[g]=w[g])}}}])&&E(i.prototype,o),_}();N.Z=P},9326:function(A,N,E){var P=E(3186),_=E(7855),i=E(5448),o=E(8825),w=E(7387),T=E(1553);function c(b){var g,u,f,h,C,B=(b=b||{}).eventBus,G=b.debug,U=b.urlUtils,re=b.type,Z=b.streamInfo,te=b.segmentsController,de=b.timelineConverter,J=b.baseURLController;function le(){return re}function ge(){f=null}function Ce(Re,xe,$e){var it,Ie,ke=J.resolve($e.path),wt={};return ke&&xe!==ke.url&&U.isRelative(xe)?(it=ke.url,Ie=ke.serviceLocation,wt=ke.queryParams,xe&&(it=U.resolve(xe,it))):it=xe,!U.isRelative(it)&&(Re.url=it,Re.serviceLocation=Ie,Re.queryParams=wt,!0)}function ae(Re,xe){if(xe==null)return null;var $e=new P.Z,it=xe.representation,Ie=it.adaptation.period.mpd.manifest.Period_asArray[it.adaptation.period.index].AdaptationSet_asArray[it.adaptation.index].Representation_asArray[it.index].bandwidth,ke=xe.media;return ke=(0,w.vi)(ke,"Number",xe.replacementNumber),ke=(0,w.vi)(ke,"Time",xe.replacementTime),ke=(0,w.vi)(ke,"Bandwidth",Ie),ke=(0,w.Aj)(ke,it.id),ke=(0,w.eR)(ke),$e.mediaType=le(),$e.type=_.w.MEDIA_SEGMENT_TYPE,$e.range=xe.mediaRange,$e.startTime=xe.presentationStartTime,$e.mediaStartTime=xe.mediaStartTime,$e.duration=xe.duration,$e.timescale=it.timescale,$e.availabilityStartTime=xe.availabilityStartTime,$e.availabilityEndTime=xe.availabilityEndTime,$e.availabilityTimeComplete=it.availabilityTimeComplete,$e.wallStartTime=xe.wallStartTime,$e.quality=it.index,$e.index=xe.index,$e.mediaInfo=Re,$e.adaptationIndex=it.adaptation.index,$e.representationId=it.id,Ce($e,ke,it)?$e:void 0}function we(Re,xe,$e){var it=null;if(!xe||!xe.segmentInfoType)return it;var Ie=te.getSegmentByTime(xe,$e);return Ie&&(f=Ie,u.debug("Index for time "+$e+" is "+Ie.index),it=ae(Re,Ie)),it}function Pe(Re,xe,$e){var it=null,Ie=te.getSegmentByIndex(xe,$e,f?f.mediaStartTime:-1);if(Ie)it=ae(Re,Ie),f=Ie;else{if(h&&!C)return u.debug(le()+" No segment found at index: "+$e+". Wait for next loop"),null;C=!0}return it}function Ge(){u.debug("Dynamic stream complete"),C=!0}return g={getCurrentIndex:function(){return f?f.index:-1},getInitRequest:function(Re,xe){return xe?function($e,it,Ie){var ke=new P.Z,wt=it.adaptation.period,Et=wt.start;if(ke.mediaType=Ie,ke.type=_.w.INIT_SEGMENT_TYPE,ke.range=it.range,ke.availabilityStartTime=de.calcAvailabilityStartTimeFromPresentationTime(Et,it,h),ke.availabilityEndTime=de.calcAvailabilityEndTimeFromPresentationTime(Et+wt.duration,it,h),ke.quality=it.index,ke.mediaInfo=$e,ke.representationId=it.id,Ce(ke,it.initialization,it))return ke.url=(0,w.vi)(ke.url,"Bandwidth",it.bandwidth),ke}(Re,xe,le()):null},getNextSegmentRequest:function(Re,xe){return xe&&xe.segmentInfoType?Pe(Re,xe,f?f.index+1:0):null},getNextSegmentRequestIdempotent:function(Re,xe){var $e=f?f.index+1:0,it=te.getSegmentByIndex(xe,$e,f?f.mediaStartTime:-1);return it?ae(Re,it):null},getSegmentRequestForTime:we,getStreamId:function(){return Z.id},getStreamInfo:function(){return Z},getType:le,getValidTimeAheadOfTargetTime:function(Re,xe,$e,it){try{if(isNaN(Re)||!xe||!$e)return NaN;if(Re<0&&(Re=0),isNaN(it)&&(it=.5),we(xe,$e,Re))return Re;if($e.adaptation.period.start+$e.adaptation.period.duration<Re)return NaN;for(var Ie=isFinite($e.adaptation.period.duration)?$e.adaptation.period.start+$e.adaptation.period.duration:Re+30,ke=Math.min(Re+it,Ie),wt=NaN,Et=null;ke<=Ie;){var ze=null;if(ke<=Ie&&(ze=we(xe,$e,ke)),ze){wt=ke,Et=ze;break}ke+=it}if(Et){var st=Et.startTime+Et.duration;return Re>Et.startTime&&st-Re>it?Re:!isNaN(Et.startTime)&&Re<Et.startTime&&wt>Et.startTime?Et.startTime+.001:Math.min(st-it,wt)}return wt}catch{return NaN}},initialize:function(Re){h=Re,C=!1,te.initialize(Re)},isLastSegmentRequested:function(Re,xe){return!Re||!f?!1:C?!0:!isFinite(Re.adaptation.period.duration)||f.presentationStartTime+f.duration>xe?!1:Re.mediaFinishedInformation&&!isNaN(Re.mediaFinishedInformation.numberOfSegments)&&!isNaN(f.index)&&f.index>=Re.mediaFinishedInformation.numberOfSegments-1&&(!h||Re.segmentInfoType===T.Z.SEGMENT_TEMPLATE||h&&Re.segmentInfoType===T.Z.SEGMENT_LIST&&Re.adaptation.period.nextPeriodId)?!0:!!(h&&Re.adaptation.period.nextPeriodId&&Re.segmentInfoType===T.Z.SEGMENT_TIMELINE&&Re.mediaFinishedInformation&&!isNaN(Re.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&f&&!isNaN(f.mediaStartTime)&&!isNaN(f.duration)&&f.mediaStartTime+f.duration>=Re.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(Re,xe){return xe&&xe.segmentInfoType?Pe(Re,xe,f?f.index:0):null},reset:function(){ge(),B.off(o.Z.DYNAMIC_TO_STATIC,Ge,g)}},u=G.getLogger(g),ge(),B.on(o.Z.DYNAMIC_TO_STATIC,Ge,g),g}c.__dashjs_factory_name="DashHandler",N.Z=i.Z.getClassFactory(c)},1553:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=new(function(){function _(){(function(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")})(this,_),this.init()}var i,o;return i=_,(o=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.ESSENTIAL_PROPERTY_ASARRAY="EssentialProperty_asArray",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.DVB_URL="dvb:url",this.DVB_MIMETYPE="dvb:mimeType",this.DVB_FONTFAMILY="dvb:fontFamily",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&E(i.prototype,o),_}());N.Z=P},7802:function(A,N,E){var P=E(5448),_=E(1724),i=E(3636),o=E(1736),w=E(5246);function T(b){b=b||{};var g,u,f=this.context,h=b.dashConstants,C=b.type,B=b.segmentBaseController;function G(U){return U?U.segments?u[h.SEGMENT_BASE]:u[U.segmentInfoType]:null}return g={initialize:function(U){u[h.SEGMENT_TIMELINE]=(0,_.Z)(f).create(b,U),u[h.SEGMENT_TEMPLATE]=(0,i.Z)(f).create(b,U),u[h.SEGMENT_LIST]=(0,o.Z)(f).create(b,U),u[h.SEGMENT_BASE]=(0,w.Z)(f).create(b,U)},updateInitData:function(U,re){return re?Promise.resolve():B.getSegmentBaseInitSegment({representation:U,mediaType:C})},updateSegmentData:function(U,re){return re?Promise.resolve():B.getSegmentList({mimeType:U.mimeType,representation:U,mediaType:C})},getSegmentByIndex:function(U,re,Z){var te=G(U);return te?te.getSegmentByIndex(U,re,Z):null},getSegmentByTime:function(U,re){var Z=G(U);return Z?Z.getSegmentByTime(U,re):null},getMediaFinishedInformation:function(U){var re=G(U);return re?re.getMediaFinishedInformation(U):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},u={},g}T.__dashjs_factory_name="SegmentsController";var c=P.Z.getClassFactory(T);N.Z=c},1736:function(A,N,E){var P=E(5448),_=E(3393),i=E(7387);function o(T,c){var b=(T=T||{}).timelineConverter;function g(){if(!b||!b.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(_.Z.MISSING_CONFIG_ERROR)}function u(f,h){if(g(),!f)return null;var C=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentList,B=C.SegmentURL_asArray.length,G=f&&!isNaN(f.startNumber)?f.startNumber:1,U=Math.max(G-1,0),re=Math.max(h-U,0),Z=null;if(re<B){var te=C.SegmentURL_asArray[re];(Z=(0,i.NF)(b,c,f,h))&&(Z.replacementTime=(G+h-1)*f.segmentDuration,Z.media=te.media?te.media:"",Z.mediaRange=te.mediaRange,Z.indexRange=te.indexRange)}return Z}return{getSegmentByIndex:u,getSegmentByTime:function(f,h){if(g(),!f)return null;var C=f.segmentDuration;if(isNaN(C))return null;var B=b.calcPeriodRelativeTimeFromMpdRelativeTime(f,h);return u(f,Math.floor(B/C))},getMediaFinishedInformation:function(f){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!f)return h;var C=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentList,B=f&&!isNaN(f.startNumber)?f.startNumber:1,G=Math.max(B-1,0);return h.numberOfSegments=G+C.SegmentURL_asArray.length,h}}}o.__dashjs_factory_name="ListSegmentsGetter";var w=P.Z.getClassFactory(o);N.Z=w},5246:function(A,N,E){var P=E(5448),_=E(3393);function i(w){var T=(w=w||{}).timelineConverter;function c(){if(!T||!T.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(_.Z.MISSING_CONFIG_ERROR)}function b(g,u){if(c(),!g)return null;var f,h=g.segments?g.segments.length:-1;if(u<h&&(f=g.segments[u])&&f.index===u)return f;for(var C=0;C<h;C++)if((f=g.segments[C])&&f.index===u)return f;return null}return{getSegmentByIndex:b,getSegmentByTime:function(g,u){c();var f=function(h,C){if(!h)return-1;var B,G,U,re,Z,te=h.segments,de=te?te.length:null,J=-1;if(te&&de>0){for(Z=0;Z<de;Z++)if(U=(G=te[Z]).presentationStartTime,C+(B=(re=G.duration)/2)>=U&&C-B<U+re){J=G.index;break}}return J}(g,u);return b(g,f)},getMediaFinishedInformation:function(g){var u={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return g&&g.segments&&(u.numberOfSegments=g.segments.length),u}}}i.__dashjs_factory_name="SegmentBaseGetter";var o=P.Z.getClassFactory(i);N.Z=o},7387:function(A,N,E){E.d(N,{Aj:function(){return o},NF:function(){return b},TJ:function(){return g},eR:function(){return i},vi:function(){return w}});var P=E(2011);function _(u,f){for(;u.length<f;)u="0"+u;return u}function i(u){return u&&u.split("$$").join("$")}function o(u,f){if(!f||!u||u.indexOf("$RepresentationID$")===-1)return u;var h=f.toString();return u.split("$RepresentationID$").join(h)}function w(u,f,h){var C,B,G,U,re,Z,te=f.length,de=2;if(!u)return u;for(;;){if((C=u.indexOf("$"+f))<0||(B=u.indexOf("$",C+te))<0)return u;if((G=u.indexOf("%0",C+te))>C&&G<B)switch(U=u.charAt(B-1),re=parseInt(u.substring(G+de,B-1),10),U){case"d":case"i":case"u":Z=_(h.toString(),re);break;case"x":Z=_(h.toString(16),re);break;case"X":Z=_(h.toString(16),re).toUpperCase();break;case"o":Z=_(h.toString(8),re);break;default:return u}else Z=h;u=u.substring(0,C)+Z+u.substring(B+1)}}function T(u,f,h,C,B,G,U,re){var Z,te=new P.Z;return te.representation=u,te.duration=f,te.presentationStartTime=h,te.mediaStartTime=C,te.availabilityStartTime=B.calcAvailabilityStartTimeFromPresentationTime(G,u,U),te.availabilityEndTime=B.calcAvailabilityEndTimeFromPresentationTime(G+f,u,U),te.wallStartTime=B.calcWallTimeForSegment(te,U),te.replacementNumber=(Z=re,te.representation.startNumber+Z),te.index=re,te}function c(u,f,h,C){var B=f.adaptation.period;if(isFinite(B.duration)&&B.start+B.duration<=h.presentationStartTime)return!1;if(C){if(f.availabilityTimeOffset==="INF")return!0;var G=u.getClientReferenceTime();return h.availabilityStartTime.getTime()<=G&&(!isFinite(h.availabilityEndTime)||h.availabilityEndTime.getTime()>=G)}return!0}function b(u,f,h,C){var B,G,U;B=h.segmentDuration,isNaN(B)&&(B=h.adaptation.period.duration),G=parseFloat((h.adaptation.period.start+C*B).toFixed(5)),U=parseFloat((G+B).toFixed(5));var re=T(h,B,G,u.calcMediaTimeFromPresentationTime(G,h),u,U,f,C);return c(u,h,re,f)?re:null}function g(u,f,h,C,B,G,U,re,Z,te){var de,J,le=C/G,ge=B/G;return de=u.calcPresentationTimeFromMediaTime(le,h),c(u,h,J=T(h,ge,de,le,u,de+ge,f,Z),f)?(J.replacementTime=te||C,U=w(U,"Number",J.replacementNumber),U=w(U,"Time",J.replacementTime),J.media=U,J.mediaRange=re,J):null}},3636:function(A,N,E){var P=E(5448),_=E(3393),i=E(7387);function o(T,c){var b=(T=T||{}).timelineConverter;function g(){if(!b||!b.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(_.Z.MISSING_CONFIG_ERROR)}function u(f,h){if(g(),!f)return null;var C=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentTemplate;h=Math.max(h,0);var B=(0,i.NF)(b,c,f,h);if(B){B.replacementTime=Math.round((h-1)*f.segmentDuration*f.timescale,10);var G=C.media;G=(0,i.vi)(G,"Number",B.replacementNumber),G=(0,i.vi)(G,"Time",B.replacementTime),B.media=G}return B}return{getSegmentByIndex:u,getSegmentByTime:function(f,h){if(g(),!f)return null;var C=f.segmentDuration;if(isNaN(C))return null;var B=b.calcPeriodRelativeTimeFromMpdRelativeTime(f,h);return u(f,Math.floor(B/C))},getMediaFinishedInformation:function(f){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!f)return h;var C=f.segmentDuration;return isNaN(C)?h.numberOfSegments=1:h.numberOfSegments=Math.ceil(f.adaptation.period.duration/C),h}}}o.__dashjs_factory_name="TemplateSegmentsGetter";var w=P.Z.getClassFactory(o);N.Z=w},1724:function(A,N,E){var P=E(5448),_=E(3393),i=E(7387);function o(T,c){var b=(T=T||{}).timelineConverter,g=T.dashMetrics;function u(){if(!b)throw new Error(_.Z.MISSING_CONFIG_ERROR)}function f(C,B){var G,U,re,Z,te,de,J,le=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList,ge=le.SegmentTimeline,Ce=le.SegmentURL_asArray,ae=0,we=-1;J=C.timescale;var Pe=!1;for(re=0,Z=(G=ge.S_asArray).length;re<Z&&!Pe;re++)for(de=0,(U=G[re]).hasOwnProperty("r")&&(de=U.r),U.hasOwnProperty("t")&&(ae=U.t),de<0&&(de=h(C,G[re+1],U,J,ae/J)),te=0;te<=de&&!Pe;te++)(Pe=B(ae,le,Ce,U,J,++we,re))&&(C.segmentDuration=U.d/J),ae+=U.d}function h(C,B,G,U,re){var Z;if(B&&B.hasOwnProperty("t"))Z=B.t/U;else try{var te=0;if(isNaN(C.adaptation.period.start)||isNaN(C.adaptation.period.duration)||!isFinite(C.adaptation.period.duration)){var de=g.getCurrentDVRInfo();te=isNaN(de.end)?0:de.end}else te=C.adaptation.period.start+C.adaptation.period.duration;Z=b.calcMediaTimeFromPresentationTime(te,C),C.segmentDuration=G.d/U}catch{Z=0}return Math.max(Math.ceil((Z-re)/(G.d/U))-1,0)}return{getSegmentByIndex:function(C,B,G){if(u(),!C)return null;var U=null,re=!1;return f(C,function(Z,te,de,J,le,ge,Ce){if(re||G<0){var ae=te.media,we=J.mediaRange;return de&&(ae=de[Ce].media||"",we=de[Ce].mediaRange),U=(0,i.TJ)(b,c,C,Z,J.d,le,ae,we,ge,J.tManifest),!0}return Z>=G*le-.5*J.d&&(re=!0),!1}),U},getSegmentByTime:function(C,B){if(u(),!C)return null;B===void 0&&(B=null);var G=null,U=b.calcMediaTimeFromPresentationTime(B,C);return f(C,function(re,Z,te,de,J,le,ge){var Ce=parseFloat((U*J).toPrecision(15));if(Ce<re+de.d&&Ce>=re){var ae=Z.media,we=de.mediaRange;return te&&(ae=te[ge].media||"",we=te[ge].mediaRange),G=(0,i.TJ)(b,c,C,re,de.d,J,ae,we,le,de.tManifest),!0}return!1}),G},getMediaFinishedInformation:function(C){if(!C)return 0;var B,G,U,re,Z,te,de,J=(C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList).SegmentTimeline,le=0,ge=0,Ce=0;for(de=C.timescale,re=(B=J.S_asArray).length,U=0;U<re;U++)for(te=0,(G=B[U]).hasOwnProperty("r")&&(te=G.r),G.hasOwnProperty("t")&&(ge=(le=G.t)/de),te<0&&(te=h(C,B[U+1],G,de,ge)),Z=0;Z<=te;Z++)Ce++,ge=(le+=G.d)/de;return{numberOfSegments:Ce,mediaTimeOfLastSignaledSegment:ge}}}}o.__dashjs_factory_name="TimelineSegmentsGetter";var w=P.Z.getClassFactory(o);N.Z=w},2011:function(A,N){N.Z=function E(){(function(P,_){if(!(P instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(A,N){N.Z=function E(){(function(P,_){if(!(P instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E),this.schemeIdUri="",this.value=""}},1139:function(A,N,E){E.d(N,{Z:function(){return mS}});var P=E(452),_=E.n(P),i=E(3393),o=E(1553),w=E(3860),T=E(5595),c=E(8512),b=E(5448),g=E(6398),u=E(8825);function f(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye,R,z,q,H=this.context,L=(0,T.Z)(H).getInstance();function fe(){V(),K=!1,$=0,Q=0,me=0,R=!1,_e=!0,X=!1,z=!1,he=NaN,ce=NaN,I&&(L.off(c.Z.DATA_UPDATE_COMPLETED,Xe,p),L.off(c.Z.LOADING_PROGRESS,zt,p),L.off(c.Z.MANIFEST_UPDATED,ft,p),L.off(c.Z.STREAMS_COMPOSED,Ee,p),L.off(u.Z.PLAYBACK_ENDED,gt,p),L.off(u.Z.STREAM_INITIALIZING,We,p),L.off(u.Z.REPRESENTATION_SWITCH,Fe,p),L.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,pt,p),mt(),I.removeEventListener("canplay",Tt),I.removeEventListener("canplaythrough",_t),I.removeEventListener("play",Qt),I.removeEventListener("waiting",Wt),I.removeEventListener("playing",mn),I.removeEventListener("pause",_n),I.removeEventListener("error",Ut),I.removeEventListener("seeking",Ke),I.removeEventListener("seeked",vt),I.removeEventListener("timeupdate",ut),I.removeEventListener("progress",It),I.removeEventListener("ratechange",xt),I.removeEventListener("loadedmetadata",Jt),I.removeEventListener("loadeddata",Xt),I.removeEventListener("stalled",$t),I.removeEventListener("ended",tn),I.removeEventListener("volumechange",un)),Y=null,I=null,j=null,W=null}function ie(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((pe(be)-De()).toFixed(5))}function pe(be){var et=be||j;return et.start+et.duration}function se(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0];j&&I&&I.getElement()?(be&&W&&Ue(De()),I.play()):K=!0}function V(){j&&I&&I.pause()}function ue(be){var et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ct=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ft=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(j&&I&&I.getElement()){var Tn=isNaN(he)?I.getTime():he;be!==Tn&&((ee=Ct===!0)||(he=be),d.info("Requesting seek to time: "+be+(ee?" (internal)":"")),W&&Ft&&Ue(be),I.setCurrentTime(be,et))}}function Se(){if(j&&I&&W){var be=y&&y.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,et=F.getCurrentDVRInfo(be);return et&&et.range?et.range.end:0}}function Ue(be){var et=new Date(k.getClientReferenceTime()),Ct=x.getRegularPeriods()[0],Ft=k.calcPresentationTimeFromWallTime(et,Ct);$=Ft-be}function De(){return j&&I?I.getTime():null}function Be(){return j&&I?I.isPaused():null}function Le(){return j&&I?I.isSeeking():null}function lt(){return j&&I?I.isStalled():null}function ct(){return j&&I?I.getPlaybackRate():null}function rt(){return j&&I?I.getEnded():null}function ot(){return W}function Zt(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!Be()&&W&&I.getReadyState()!==0&&!Le()&&!R){be||(be=y.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO);var et=De(),Ct=Ne(et,be),Ft=!isNaN(Ct)&&Ct!==et;Ft&&!Le()&&(lt()||ye||I.getReadyState()===1)&&(d.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ct," from currentTime: ").concat(et)),ue(Ct,!1,!1))}}function Ne(be,et){var Ct=F.getCurrentDVRInfo(et),Ft=Ct?Ct.range:null;return Ft?be>Ft.end?Math.max(Ft.end-$,Ft.start):be>0&&be+.25<Ft.start&&Math.abs(be-Ft.start)<31536e4?X?Math.max(Ft.end-$,Ft.start):Ft.start:be:NaN}function qe(){Y===null&&(Y=setInterval(function(){(function(){if(L.trigger(c.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:W,time:new Date}),ot()){var be=Date.now();(isNaN(ce)||be>ce+q.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(y.addDVRMetric(),Be()?function(){var et=Date.now();(!ve||et>ve+500)&&(ve=et,ut())}():Zt(),ce=be)}})()},q.get().streaming.wallclockTimeUpdateInterval))}function mt(){clearInterval(Y),Y=null}function Xe(be){var et=x.convertRepresentationToRepresentationInfo(be.currentRepresentation),Ct=et?et.mediaInfo.streamInfo:null;Ct!==null&&j.id===Ct.id&&(j=Ct)}function Tt(){L.trigger(c.Z.CAN_PLAY)}function _t(){L.trigger(c.Z.CAN_PLAY_THROUGH)}function pt(be){be.streamId===y.getActiveStreamInfo().id&&(ye=be.state===w.Z.BUFFER_EMPTY,q.get().streaming.buffer.setStallState&&I.setStallState(be.mediaType,be.state===w.Z.BUFFER_EMPTY))}function Qt(){d.info("Native video element event: play"),Zt(),qe(),L.trigger(c.Z.PLAYBACK_STARTED,{startTime:De()})}function Wt(){d.info("Native video element event: waiting"),L.trigger(c.Z.PLAYBACK_WAITING,{playingTime:De()})}function mn(){d.info("Native video element event: playing"),ee=!1,L.trigger(c.Z.PLAYBACK_PLAYING,{playingTime:De()})}function _n(){d.info("Native video element event: pause"),L.trigger(c.Z.PLAYBACK_PAUSED,{ended:rt()})}function Ke(){if(!ee){var be=De();isNaN(he)||he===be||(be=he),he=NaN,d.info("Seeking to: "+be),qe(),L.trigger(c.Z.PLAYBACK_SEEKING,{seekTime:be,streamId:j.id})}}function vt(){d.info("Native video element event: seeked"),ee=!1,L.trigger(c.Z.PLAYBACK_SEEKED)}function ut(){j&&L.trigger(c.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ie(),time:De(),streamId:j.id})}function It(){L.trigger(c.Z.PLAYBACK_PROGRESS,{streamId:j.id})}function xt(){var be=ct();d.info("Native video element event: ratechange: ",be),L.trigger(c.Z.PLAYBACK_RATE_CHANGED,{playbackRate:be})}function Jt(){d.info("Native video element event: loadedmetadata"),L.trigger(c.Z.PLAYBACK_METADATA_LOADED),qe()}function Xt(){d.info("Native video element event: loadeddata"),L.trigger(c.Z.PLAYBACK_LOADED_DATA)}function tn(){d.info("Native video element event: ended"),V(),mt();var be=y?y.getActiveStreamInfo():null;be&&L.trigger(c.Z.PLAYBACK_ENDED,{isLast:be.isLast})}function un(){L.trigger(c.Z.PLAYBACK_VOLUME_CHANGED)}function gt(be){if(Y&&be.isLast){d.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var et=be.seekTime?be.seekTime:pe();I.setCurrentTime(et),V(),mt()}}function Ut(be){var et=be.target||be.srcElement;L.trigger(c.Z.PLAYBACK_ERROR,{error:et.error})}function Ht(){W=!1}function zt(be){if(be.stream===!1&&X&&!isNaN(be.request.duration)){var et=1.2*be.request.duration;et>$&&(d.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",et.toFixed(2)),$=et,Q=et)}}function $t(be){L.trigger(c.Z.PLAYBACK_STALLED,{e:be})}function We(be){var et;(et=be.mediaInfo)&&et.supplementalProperties&&et.supplementalProperties[i.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&et.supplementalProperties[i.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME].value==="true"&&(d.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),X=!0)}function Fe(be){var et=y.getActiveStreamInfo();be&&et&&be.currentRepresentation&&be.streamId&&be.streamId===et.id&&be.mediaType&&(be.mediaType===i.Z.VIDEO||be.mediaType===i.Z.AUDIO)&&(_e=be.currentRepresentation.availabilityTimeComplete,(X=!_e)&&!z&&(z=!0))}function ft(){R=!0}function Ee(){R=!1}return p={initialize:function(be,et){j=be,et!==!0&&(I.addEventListener("canplay",Tt),I.addEventListener("canplaythrough",_t),I.addEventListener("play",Qt),I.addEventListener("waiting",Wt),I.addEventListener("playing",mn),I.addEventListener("pause",_n),I.addEventListener("error",Ut),I.addEventListener("seeking",Ke),I.addEventListener("seeked",vt),I.addEventListener("timeupdate",ut),I.addEventListener("progress",It),I.addEventListener("ratechange",xt),I.addEventListener("loadedmetadata",Jt),I.addEventListener("loadeddata",Xt),I.addEventListener("stalled",$t),I.addEventListener("ended",tn),I.addEventListener("volumechange",un),W=j.manifestInfo.isDynamic,ye=!1,ee=!1,L.on(c.Z.DATA_UPDATE_COMPLETED,Xe,p),L.on(c.Z.LOADING_PROGRESS,zt,p),L.on(c.Z.MANIFEST_UPDATED,ft,p),L.on(c.Z.STREAMS_COMPOSED,Ee,p),L.on(u.Z.PLAYBACK_ENDED,gt,p,{priority:T.Z.EVENT_PRIORITY_HIGH}),L.on(u.Z.STREAM_INITIALIZING,We,p),L.on(u.Z.REPRESENTATION_SWITCH,Fe,p),L.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,pt,p),L.on(u.Z.DYNAMIC_TO_STATIC,Ht,p),K&&(K=!1,se()))},setConfig:function(be){be&&(be.streamController&&(y=be.streamController),be.serviceDescriptionController&&(D=be.serviceDescriptionController),be.dashMetrics&&(F=be.dashMetrics),be.adapter&&(x=be.adapter),be.videoModel&&(I=be.videoModel),be.timelineConverter&&(k=be.timelineConverter),be.settings&&(q=be.settings))},getTimeToStreamEnd:ie,getBufferLevel:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,et=null;return y.getActiveStreamProcessors().forEach(function(Ct){if(!be||be.length===0||be.indexOf(Ct.getType())===-1){var Ft=Ct.getBufferLevel();et=et===null?Ft:Math.min(et,Ft)}}),et},getPlaybackStalled:function(){return ye},getTime:De,getLowLatencyModeEnabled:function(){return X},getInitialCatchupModeActivated:function(){return z},getIsManifestUpdateInProgress:function(){return R},getPlaybackRate:ct,getPlayedRanges:function(){return j&&I?I.getPlayedRanges():null},getEnded:rt,getIsDynamic:ot,getStreamController:function(){return y},computeAndSetLiveDelay:function(be,et){var Ct,Ft,Tn,Gn=!isNaN(be)&&isFinite(be)?be:NaN,cr=x.getSuggestedPresentationDelay(),jn=D.getServiceDescriptionSettings();return Ct=isNaN(q.get().streaming.delay.liveDelay)?q.get().streaming.delay.liveDelayFragmentCount===null||isNaN(q.get().streaming.delay.liveDelayFragmentCount)||isNaN(Gn)?jn&&!isNaN(jn.liveDelay)&&jn.liveDelay>0?jn.liveDelay:q.get().streaming.delay.useSuggestedPresentationDelay===!0&&cr!==null&&!isNaN(cr)&&cr>0?cr:isNaN(Gn)?et&&!isNaN(et.minBufferTime)?4*et.minBufferTime:4*j.manifestInfo.minBufferTime:4*Gn:Gn*q.get().streaming.delay.liveDelayFragmentCount:q.get().streaming.delay.liveDelay,(Tn=x.getAvailabilityStartTime())!==null&&(me=Tn),Ft=et&&et.dvrWindowSize>0?Math.min(Ct,et.dvrWindowSize):Ct,$=Ft,Q=Ft,Ft},getLiveDelay:function(){return $},getOriginalLiveDelay:function(){return Q},getCurrentLiveLatency:function(){if(!W||isNaN(me))return NaN;var be=De();if(isNaN(be)||be===0)return 0;var et=new Date().getTime()+1e3*k.getClientTimeOffset();return Math.max(((et-me-1e3*be)/1e3).toFixed(3),0)},play:se,isPaused:Be,isStalled:lt,pause:V,isSeeking:Le,getStreamEndTime:pe,seek:ue,seekToOriginalLive:function(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0],et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ct=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ft=Se();if(Ft!==0){var Tn=Ft-($=Q);ue(Tn,be,et,Ct)}},seekToCurrentLive:function(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0],et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ct=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ft=Se();if(Ft!==0){var Tn=Ft-$;ue(Tn,be,et,Ct)}},reset:fe,updateCurrentTime:Zt,getAvailabilityStartTime:function(){return me}},d=(0,g.Z)(H).getInstance().getLogger(p),fe(),p}f.__dashjs_factory_name="PlaybackController";var h=b.Z.getSingletonFactory(f),C=E(3186),B="loading",G="executed",U="failed";function re(p){var d,y,D,F,x=(p=p||{}).eventBus,I=p.events,k=p.dashMetrics,Y=p.fragmentLoader,$=p.debug,Q=p.streamInfo,j=p.type;function W(R){var z;return!!R&&(z=!1,D.some(function(q){if(H=R,L=q,!isNaN(H.index)&&H.startTime===L.startTime&&H.adaptationIndex===L.adaptationIndex&&H.type===L.type||function(fe,ie){return isNaN(fe.index)&&isNaN(ie.index)&&fe.quality===ie.quality}(R,q)||function(fe,ie){return fe.action===C.Z.ACTION_COMPLETE&&fe.action===ie.action}(R,q))return z=!0;var H,L}),z)}function K(R){return isNaN(R.duration)?.25:Math.min(R.duration/8,.5)}function ve(R){D=D.filter(function(z){var q=K(z);return isNaN(z.startTime)||R!==void 0&&z.startTime>=R-q})}function ce(R,z){z<=R+.5||(D=D.filter(function(q){var H=K(q);return isNaN(q.startTime)||q.startTime>=z-H||isNaN(q.duration)||q.startTime+q.duration<=R+H}))}function me(R,z,q){for(var H=R.length-1;H>=0;H--){var L=R[H],fe=L.startTime,ie=fe+L.duration;if(q=isNaN(q)?K(L):q,!isNaN(fe)&&!isNaN(ie)&&z+q>=fe&&z-q<ie||isNaN(fe)&&isNaN(z))return L}return null}function _e(R,z){k.addSchedulingInfo(R,z),k.addRequestsQueue(R.mediaType,F,D)}function X(R){R.sender===Y&&(F.splice(F.indexOf(R.request),1),R.response&&!R.error&&D.push(R.request),_e(R.request,R.error?U:G),x.trigger(I.FRAGMENT_LOADING_COMPLETED,{request:R.request,response:R.response,error:R.error,sender:this},{streamId:Q.id,mediaType:j}))}function he(R){R.sender===Y&&x.trigger(I.FRAGMENT_LOADING_PROGRESS,{request:R.request,response:R.response,error:R.error,sender:this},{streamId:Q.id,mediaType:j})}function ee(R){R.sender===Y&&x.trigger(I.FRAGMENT_LOADING_ABANDONED,{request:R.request},{streamId:Q.id,mediaType:j})}function ye(){D=[],F=[]}return d={getStreamId:function(){return Q.id},getType:function(){return j},getRequests:function(R){var z=R?R.state instanceof Array?R.state:[R.state]:[],q=[];return z.forEach(function(H){var L=function(fe){var ie;switch(fe){case B:ie=F;break;case G:ie=D;break;default:ie=[]}return ie}(H);q=q.concat(function(fe,ie){return ie.hasOwnProperty("time")?[me(fe,ie.time,ie.threshold)]:fe.filter(function(pe){for(var se in ie)if(se!=="state"&&ie.hasOwnProperty(se)&&pe[se]!=ie[se])return!1;return!0})}(L,R))}),q},isFragmentLoaded:W,isFragmentLoadedOrPending:function(R){var z,q=!1,H=0;if(!(q=W(R)))for(H=0;H<F.length;H++)z=F[H],R.url===z.url&&R.startTime===z.startTime&&(q=!0);return q},removeExecutedRequestsBeforeTime:ve,removeExecutedRequestsAfterTime:function(R){D=D.filter(function(z){return isNaN(z.startTime)||R!==void 0&&z.startTime<R})},syncExecutedRequestsWithBufferedRange:function(R,z){if(R&&R.length!==0){for(var q=0,H=0,L=R.length;H<L;H++)ce(q,R.start(H)),q=R.end(H);z>0&&ce(q,z)}else ve()},abortRequests:function(){y.debug("abort requests"),Y.abort(),F=[]},executeRequest:function(R){R.action===C.Z.ACTION_DOWNLOAD?(_e(R,B),F.push(R),function(z){x.trigger(I.FRAGMENT_LOADING_STARTED,{request:z},{streamId:Q.id,mediaType:j}),Y.load(z)}(R)):y.warn("Unknown request action.")},reset:function(){x.off(I.LOADING_COMPLETED,X,this),x.off(I.LOADING_DATA_PROGRESS,he,this),x.off(I.LOADING_ABANDONED,ee,this),Y&&Y.reset(),ye()},resetInitialSettings:ye,addExecutedRequest:function(R){D.push(R)}},y=$.getLogger(d),ye(),x.on(I.LOADING_COMPLETED,X,d),x.on(I.LOADING_DATA_PROGRESS,he,d),x.on(I.LOADING_ABANDONED,ee,d),d}re.__dashjs_factory_name="FragmentModel";var Z=b.Z.getClassFactory(re);Z.FRAGMENT_MODEL_LOADING=B,Z.FRAGMENT_MODEL_EXECUTED=G,Z.FRAGMENT_MODEL_CANCELED="canceled",Z.FRAGMENT_MODEL_FAILED=U,b.Z.updateClassFactory(re.__dashjs_factory_name,Z);var te=Z,de=E(5459);function J(p){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},J(p)}function le(p,d){return le=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},le(p,d)}function ge(p,d){return!d||J(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Ce(p){return Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Ce(p)}var ae=new(function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&le(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Ce(d);if(y){var k=Ce(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return ge(this,x)});function F(){var x;return function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}(this,F),(x=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,x.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,x.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,x.SEGMENT_BASE_LOADER_ERROR_CODE=15,x.TIME_SYNC_FAILED_ERROR_CODE=16,x.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,x.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,x.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,x.APPEND_ERROR_CODE=20,x.REMOVE_ERROR_CODE=21,x.DATA_UPDATE_FAILED_ERROR_CODE=22,x.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,x.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,x.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,x.DOWNLOAD_ERROR_ID_SIDX_CODE=26,x.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,x.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,x.DOWNLOAD_ERROR_ID_XLINK_CODE=29,x.MANIFEST_ERROR_ID_PARSE_CODE=31,x.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,x.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,x.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,x.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,x.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",x.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",x.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",x.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",x.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",x.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",x.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",x.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",x.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",x.APPEND_ERROR_MESSAGE="chunk is not defined",x.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",x.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",x.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",x.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",x.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",x.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",x}return F}(E(2230).Z)),we=E(1264),Pe=E(7855);function Ge(p){var d,y,D,F,x,I,k=this.context,Y=(0,we.Z)(k).getInstance(),$=p.textController,Q=p.eventBus,j=[],W=[],K=!1,ve=p.mediaSource,ce=null;function me(L){return new Promise(function(fe){H(function(){F.changeType&&F.changeType(L),fe()})})}function _e(L){return F=$.getTextSourceBuffer(L),Promise.resolve()}function X(){if(typeof F.addEventListener=="function")try{F.addEventListener("updateend",z,!1),F.addEventListener("error",q,!1),F.addEventListener("abort",q,!1)}catch{I=setInterval(z,50)}else I=setInterval(z,50)}function he(L){return new Promise(function(fe){F&&Y.get().streaming.buffer.useAppendWindow?H(function(){try{if(!F)return void fe();var ie=ve.duration,pe=0;L&&!isNaN(L.start)&&!isNaN(L.duration)&&isFinite(L.duration)&&(ie=L.start+L.duration),L&&!isNaN(L.start)&&(pe=L.start),F.appendWindowEnd===ie&&F.appendWindowStart===pe||(F.appendWindowStart=0,F.appendWindowEnd=ie+.01,F.appendWindowStart=Math.max(pe-.1,0),D.debug("Updated append window for ".concat(x.type,". Set start to ").concat(F.appendWindowStart," and end to ").concat(F.appendWindowEnd))),fe()}catch{D.warn("Failed to set append window"),fe()}}):fe()})}function ee(L){return new Promise(function(fe){F?H(function(){try{F.timestampOffset===L||isNaN(L)||(F.timestampOffset=L,D.debug("Set MSE timestamp offset to ".concat(L))),fe()}catch{fe()}}):fe()})}function ye(){if(!K&&W.length>0){K=!0;var L=W[0];W.splice(0,1);var fe=function(){K=!1,W.length>0&&ye.call(this),L&&L.data&&L.data.segmentType&&L.data.segmentType!==Pe.w.INIT_SEGMENT_TYPE&&delete L.data.bytes,L.promise.resolve({chunk:L.data})};try{ce=L.request,L.data.bytes.byteLength===0?fe.call(this):(F.appendBuffer?F.appendBuffer(L.data.bytes):F.append(L.data.bytes,L.data),H(fe.bind(this)))}catch(ie){D.fatal('SourceBuffer append failed "'+ie+'"'),W.length>0?ye():K=!1,delete L.data.bytes,L.promise.reject({chunk:L.data,error:new de.Z(ie.code,ie.message)})}}}function R(){j.length>0&&(F.updating||(j.shift()(),R()))}function z(){F.updating||R()}function q(L){var fe,ie,pe=L.target||{};fe=c.Z.SOURCE_BUFFER_ERROR,ie={error:pe,lastRequestAppended:ce},Q.trigger(fe,ie,{streamId:x.streamInfo.id,mediaType:y})}function H(L){j.push(L),F.updating||R()}return d={getType:function(){return y},getAllBufferRanges:function(){try{return F.buffered}catch(L){return D.error("getAllBufferRanges exception: "+L.message),null}},getBuffer:function(){return F},append:function(L){var fe=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(pe,se){L?(W.push({data:L,promise:{resolve:pe,reject:se},request:ie}),H(ye.bind(fe))):se({chunk:L,error:new de.Z(ae.APPEND_ERROR_CODE,ae.APPEND_ERROR_MESSAGE)})})},remove:function(L){return new Promise(function(fe,ie){var pe=L.start,se=L.end;pe>=0&&se>pe?H(function(){try{F.remove(pe,se),H(function(){fe({from:pe,to:se,unintended:!1}),L.resolve&&L.resolve()})}catch(V){ie({from:pe,to:se,unintended:!1,error:new de.Z(ae.REMOVE_ERROR_CODE,ae.REMOVE_ERROR_MESSAGE)}),L.reject&&L.reject(V)}}):fe()})},abort:function(){return new Promise(function(L){try{W=[],ve.readyState==="open"?H(function(){try{F&&F.abort(),L()}catch{L()}}):(F&&F.setTextTrack&&ve.readyState==="ended"&&F.abort(),L())}catch{L()}})},reset:function(){if(F){try{j=[],function(){try{typeof F.removeEventListener=="function"&&(F.removeEventListener("updateend",z,!1),F.removeEventListener("error",q,!1),F.removeEventListener("abort",q,!1)),clearInterval(I)}catch(L){D.error(L)}}(),K=!1,W=[],F.getClassName&&F.getClassName()==="TextSourceBuffer"||(D.debug("Removing sourcebuffer from media source"),ve.removeSourceBuffer(F))}catch{}F=null}ce=null},updateTimestampOffset:ee,initializeForStreamSwitch:function(L,fe,ie){y=(x=L).type;var pe=x.codec;(function(V){F=V.getBuffer()})(ie),X();var se=[];return se.push(new Promise(function(V){H(function(){var ue=F.appendWindowStart,Se=F.appendWindowEnd;F&&(F.abort(),F.appendWindowStart=ue,F.appendWindowEnd=Se),V()})})),se.push(he(x.streamInfo)),Y.get().streaming.buffer.useChangeTypeForTrackSwitch&&se.push(me(pe)),fe&&fe.MSETimeOffset!==void 0&&se.push(ee(fe.MSETimeOffset)),Promise.all(se)},initializeForFirstUse:function(L,fe,ie){y=(x=fe).type;var pe=x.codec;try{if(pe.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return _e(L);F=ve.addSourceBuffer(pe),X();var se=[];return se.push(he(x.streamInfo)),ie&&ie.MSETimeOffset!==void 0&&se.push(ee(ie.MSETimeOffset)),Promise.all(se)}catch(V){return x.type==i.Z.TEXT&&!x.isFragmented||pe.indexOf('codecs="stpp')!==-1||pe.indexOf('codecs="vtt')!==-1||pe.indexOf("text/vtt")!==-1?_e(L):Promise.reject(V)}},updateAppendWindow:he,changeType:me},D=(0,g.Z)(k).getInstance().getLogger(d),d}Ge.__dashjs_factory_name="SourceBufferSink";var Re=b.Z.getClassFactory(Ge);function xe(p){var d,y,D,F=this.context,x=[],I=p;function k(Y,$){return x=x.filter(function(Q){return!((isNaN($)||Q.start<$)&&(isNaN(Y)||Q.end>Y))}),Promise.resolve()}return d={getAllBufferRanges:function(){for(var Y=[],$=0;$<x.length;$++){var Q=x[$];Y.length===0||Q.start>Y[Y.length-1].end?Y.push({start:Q.start,end:Q.end}):Y[Y.length-1].end=Q.end}var j={start:function(W){return Y[W].start},end:function(W){return Y[W].end}};return Object.defineProperty(j,"length",{get:function(){return Y.length}}),j},append:function(Y){return Y.segmentType!=="InitializationSegment"?(x.push(Y),x.sort(function($,Q){return $.start-Q.start}),D=null):D=Y,y.debug("PreBufferSink appended chunk s: "+Y.start+"; e: "+Y.end),I&&I({chunk:Y}),Promise.resolve()},remove:k,abort:function(){return Promise.resolve()},discharge:function(Y,$){var Q=function(j,W){return x.filter(function(K){return(isNaN(W)||K.start<W)&&(isNaN(j)||K.end>j)})}(Y,$);return D&&(Q.push(D),D=null),k(Y,$),Q},reset:function(){x=[],D=null,I=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(Y){Y()},getBuffer:function(){return this}},y=(0,g.Z)(F).getInstance().getLogger(d),d}xe.__dashjs_factory_name="PreBufferSink";var $e=b.Z.getClassFactory(xe);function it(){var p={};return{save:function(d){var y=d.streamId,D=d.representationId;p[y]=p[y]||{},p[y][D]=d},extract:function(d,y){return p&&p[d]&&p[d][y]?p[d][y]:null},reset:function(){p={}}}}it.__dashjs_factory_name="InitCache";var Ie=b.Z.getSingletonFactory(it),ke=.01,wt="BufferController";function Et(p){p=p||{};var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye,R=this.context,z=(0,T.Z)(R).getInstance(),q=p.errHandler,H=p.fragmentModel,L=p.representationController,fe=p.adapter,ie=p.textController,pe=p.abrController,se=p.playbackController,V=p.streamInfo,ue=p.type,Se=p.settings;function Ue(Fe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(Ee,be){I=Fe,$&&ft&&typeof $.discharge=="function"?(Q=$,Be(ft).then(function(){Ee()}).catch(function(et){be(et)})):Ee()})}function De(Fe){return fe.convertRepresentationToRepresentationInfo(L.getRepresentationForQuality(Fe))}function Be(Fe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(Ee,be){X&&Fe?I?(j=!1,lt(Fe,ft).then(function(et){Ee(et)}).catch(function(et){be(et)})):(j=!0,Le().then(function(et){Ee(et)}).catch(function(et){be(et)})):Ee(null)})}function Le(){var Fe=this;return new Promise(function(ft,Ee){var be=pe.getQualityFor(ue,V.id);$=$e(R).create(Ne.bind(Fe)),Jt(De(be)).then(function(){ft($)}).catch(function(){Ee()})})}function lt(Fe,ft){return new Promise(function(Ee,be){var et=pe.getQualityFor(ue,V.id);$=Re(R).create({mediaSource:I,textController:ie,eventBus:z}),function(Ct,Ft,Tn){var Gn=De(Tn);return Ft&&Ft[ue]&&(ue===i.Z.VIDEO||ue===i.Z.AUDIO)?$.initializeForStreamSwitch(Ct,Gn,Ft[ue]):$.initializeForFirstUse(V,Ct,Gn)}(Fe,ft,et).then(function(){return Jt(De(et))}).then(function(){Ee($)}).catch(function(Ct){y.fatal("Caught error on create SourceBuffer: "+Ct),q.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+ue)),be(Ct)})})}function ct(Fe){Se.get().streaming.cacheInitSegments&&(y.info("Init fragment finished loading saving to",ue+"'s init cache"),X.save(Fe.chunk)),y.debug("Append Init fragment",ue," with representationId:",Fe.chunk.representationId," and quality:",Fe.chunk.quality,", data size:",Fe.chunk.bytes.byteLength),ot(Fe.chunk)}function rt(Fe){ot(Fe.chunk,Fe.request)}function ot(Fe){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$&&($.append(Fe,ft).then(function(Ee){Ne(Ee)}).catch(function(Ee){Ne(Ee)}),Fe.mediaInfo.type===i.Z.VIDEO&&$t(c.Z.VIDEO_CHUNK_RECEIVED,{chunk:Fe}))}function Zt(Fe){if(Fe&&Fe.length>0)for(var ft=0,Ee=Fe.length;ft<Ee;ft++)y.debug("Buffered range: "+Fe.start(ft)+" - "+Fe.end(ft)+", currentTime = ",se.getTime())}function Ne(Fe){if(Fe.error)return Fe.error.code===22&&function(){if(_e=!0,x=.8*Ut(),y.warn("Quota exceeded, Critical Buffer: "+x),x>0){var be=Math.max(.2*x,1),et=x-be,Ct=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*et),Ft=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*et),Tn={streaming:{buffer:{bufferToKeep:parseFloat(be.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Ct.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Ft.toFixed(5))}}};Se.update(Tn)}}(),void(Fe.error.code!==22&&zt()||(y.warn("Clearing playback buffer to overcome quota exceed situation"),$t(c.Z.QUOTA_EXCEEDED,{criticalBufferLevel:x,quotaExceededTime:Fe.chunk.start}),ut(vt())));if($&&(Qt(),_e=!1,(ve=Fe.chunk)&&ve.endFragment)){ve&&!isNaN(ve.index)&&(k=Math.max(ve.index,k),Wt());var ft=$.getAllBufferRanges();ve.segmentType===Pe.w.MEDIA_SEGMENT_TYPE&&(Zt(ft),Xe(),function(){if(!isNaN(ye)&&!j)if(ue===i.Z.AUDIO||ue===i.Z.VIDEO){var be=se.getTime(),et=pt(be,0),Ct=pt(ye,0);if(et&&Ct&&et.start===Ct.start)ye=NaN;else{var Ft=L.getCurrentRepresentation().segmentDuration,Tn=pt(ye,Ft);Tn&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(be-ye)>Ft?ye<=Tn.end&&se.seek(Math.max(ye,Tn.start),!1,!0):be<Tn.start&&se.seek(Tn.start,!1,!0))}}else ye=NaN}());var Ee=!1;W&&(W.indexOf(ve)>0&&(Ee=!0),W=null),ve&&!Ee&&$t(c.Z.BYTES_APPENDED_END_FRAGMENT,{quality:ve.quality,startTime:ve.start,index:ve.index,bufferedRanges:ft,segmentType:ve.segmentType,mediaType:ue})}}function qe(){return new Promise(function(Fe,ft){var Ee=mt();if(!Ee||Ee.length===0)return Xe(),void Fe();ut(Ee).then(function(){Fe()}).catch(function(be){ft(be)})})}function mt(Fe){var ft=[],Ee=$.getAllBufferRanges();if(!Ee||Ee.length===0)return ft;if(!Fe&&Fe!==0||isNaN(Fe))ft.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var be=function(Ct,Ft){var Tn=Se.get().streaming.buffer.bufferToKeep,Gn=Ft.start(0);if(Ct-Gn>Tn){var cr=Math.max(0,Ct-Tn),jn=H.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Ct,threshold:ke})[0];if(jn&&(cr=Math.min(jn.startTime,cr)),cr>0)return{start:Gn,end:cr}}return null}(Fe,Ee),et=function(Ct,Ft){var Tn=Ft.end(Ft.length-1)+.5,Gn=Ht(Ct),cr=V.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,jn=isNaN(Gn)?Ct:Math.min(Gn,Ct+cr);if(jn>=Ft.end(Ft.length-1))return null;var zr=H.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Ct,threshold:ke})[0];if(zr&&(jn=Math.max(zr.startTime+zr.duration,jn)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var mr=0;mr<Ft.length;mr++)if(Ft.start(mr)<=Ct&&Ct<=Ft.end(mr)&&Ft.start(mr)<=jn&&jn<=Ft.end(mr)){var No=jn;jn=mr+1<Ft.length?Ft.start(mr+1):Ft.end(mr)+1,y.debug("Buffered range ["+Ft.start(mr)+", "+Ft.end(mr)+"] overlaps with targetTime "+Ct+" and range to be pruned ["+No+", "+Tn+"], using ["+jn+", "+Tn+"] instead"+(jn<Tn?"":" (no actual pruning)"));break}}return jn<Ft.end(Ft.length-1)?{start:jn,end:Tn}:null}(Fe,Ee);be&&ft.push(be),et&&ft.push(et)}return ft}function Xe(){(!ee||ue===i.Z.TEXT&&ie.isTextEnabled())&&Qt()}function Tt(){mn()}function _t(){mn(),ye=NaN}function pt(Fe,ft){if(!$)return null;var Ee,be,et=$.getAllBufferRanges(),Ct=0,Ft=0,Tn=null,Gn=null,cr=0,jn=isNaN(ft)?.15:ft;if(et!=null){for(be=0,Ee=et.length;be<Ee;be++)if(Ct=et.start(be),Ft=et.end(be),Tn===null)cr=Math.abs(Ct-Fe),(Fe>=Ct&&Fe<Ft||cr<=jn)&&(Tn=Ct,Gn=Ft);else{if(!((cr=Ct-Gn)<=jn))break;Gn=Ft}if(Tn!==null)return{start:Tn,end:Gn}}return null}function Qt(){if(se){var Fe=se.getTime()||0;j&&(Fe=isNaN(ye)?0:ye);var ft=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;F=Math.max(function(Ee,be){var et;return Se.get().streaming.gaps.jumpGaps&&(be=Se.get().streaming.gaps.smallGapLimit),(et=pt(Ee,be))===null?0:et.end-Ee}(Fe,ft),0),$t(c.Z.BUFFER_LEVEL_UPDATED,{mediaType:ue,bufferLevel:F}),mn()}}function Wt(){var Fe=k>=Y-1,ft=se.getTimeToStreamEnd(V)-F<1e-5;!Fe&&!ft||D||(gt(!0),y.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(V.id," and type ").concat(ue)))}function mn(){ue!==i.Z.AUDIO&&ue!==i.Z.VIDEO||((!se.getLowLatencyModeEnabled()&&F<Se.get().streaming.buffer.stallThreshold||F===0)&&!D?_n(w.Z.BUFFER_EMPTY):(D||F>=Se.get().streaming.buffer.stallThreshold||se.getLowLatencyModeEnabled()&&F>0)&&_n(w.Z.BUFFER_LOADED))}function _n(Fe){K===Fe||Fe===w.Z.BUFFER_EMPTY&&se.getTime()===0||ue===i.Z.TEXT&&!ie.isTextEnabled()||(K=Fe,$t(c.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Fe}),$t(Fe===w.Z.BUFFER_LOADED?c.Z.BUFFER_LOADED:c.Z.BUFFER_EMPTY),y.debug(Fe===w.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Ke(){$&&ue!==i.Z.TEXT&&(D||ut(vt()))}function vt(){var Fe=[],ft=$.getAllBufferRanges();if(!ft||ft.length===0)return Fe;var Ee=se.getTime(),be=Math.max(0,Ee-Se.get().streaming.buffer.bufferToKeep),et=H.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:ke})[0];if(et)be=Math.min(et.startTime,be);else if(Ee===0&&se.getIsDynamic())return[];if(ft.start(0)<=be){for(var Ct={start:0,end:be},Ft=0;Ft<ft.length&&ft.end(Ft)<=be;Ft++)Ct.end=ft.end(Ft);Ct.start<Ct.end&&Fe.push(Ct)}return Fe}function ut(Fe){return new Promise(function(ft,Ee){if(Fe&&$&&Fe.length!==0){var be=[];Fe.forEach(function(et){be.push(function(Ct){return new Promise(function(Ft,Tn){Ct.resolve=Ft,Ct.reject=Tn,he.push(Ct)})}(et))}),me||It(),Promise.all(be).then(function(){ft()}).catch(function(et){Ee(et)})}else ft()})}function It(){try{if(he.length===0||!$)return y.debug("Nothing to prune, halt pruning"),he=[],void(me=!1);var Fe=$.getBuffer();if(!Fe||!Fe.buffered||Fe.buffered.length===0)return y.debug("SourceBuffer is empty (or does not exist), halt pruning"),he=[],void(me=!1);var ft=he.shift();y.debug("".concat(ue,": Removing buffer from: ").concat(ft.start," to ").concat(ft.end)),me=!0,se.getTime()<ft.end&&gt(!1),$.remove(ft).then(function(Ee){xt(Ee)}).catch(function(Ee){xt(Ee)})}catch{me=!1}}function xt(Fe){y.debug("onRemoved buffer from:",Fe.from,"to",Fe.to),$&&(Zt($.getAllBufferRanges()),he.length===0&&(me=!1,Qt()),Fe.unintended&&(y.warn("Detected unintended removal from:",Fe.from,"to",Fe.to,"setting streamprocessor time to",Fe.from),$t(c.Z.SEEK_TARGET,{time:Fe.from})),me?It():(ee?ee=!1:Qt(),$t(c.Z.BUFFER_CLEARED,{from:Fe.from,to:Fe.to,unintended:Fe.unintended,hasEnoughSpaceToAppend:zt(),quotaExceeded:_e})))}function Jt(Fe){return new Promise(function(ft){Fe&&Fe.MSETimeOffset!==void 0&&$&&$.updateTimestampOffset?$.updateTimestampOffset(Fe.MSETimeOffset).then(function(){ft()}).catch(function(){ft()}):ft()})}function Xt(){return $&&!D?$.updateAppendWindow(V):Promise.resolve()}function tn(){++ce*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(ce=0,Ke())}function un(){mn()}function gt(Fe){(D=Fe)?$t(c.Z.BUFFERING_COMPLETED):Y=Number.POSITIVE_INFINITY}function Ut(){try{var Fe,ft,Ee=$.getAllBufferRanges(),be=0;if(!Ee)return be;for(ft=0,Fe=Ee.length;ft<Fe;ft++)be+=Ee.end(ft)-Ee.start(ft);return be}catch{return 0}}function Ht(Fe){try{var ft=Fe,Ee=$.getAllBufferRanges();if(!Ee||Ee.length===0)return NaN;for(var be=0;ft===Fe&&be<Ee.length;){var et=Ee.start(be),Ct=Ee.end(be);ft>=et&&ft<=Ct&&(ft=Ct),be+=1}return ft===Fe?NaN:ft}catch{}}function zt(){var Fe=Ut();return isNaN(Fe)||Fe<x}function $t(Fe,ft){var Ee=ft||{};z.trigger(Fe,Ee,{streamId:V.id,mediaType:ue})}function We(Fe,ft){if(x=Number.POSITIVE_INFINITY,K=void 0,Y=Number.POSITIVE_INFINITY,k=0,ve=null,D=!1,me=!1,_e=!1,F=0,ce=0,he=[],ye=NaN,j=!1,$){var Ee=$;$=null,Fe||ft||Ee.abort().then(function(){Ee.reset(ft),Ee=null})}ee=!1}return d={initialize:function(Fe){Ue(Fe),z.on(c.Z.INIT_FRAGMENT_LOADED,ct,d),z.on(c.Z.MEDIA_FRAGMENT_LOADED,rt,d),z.on(c.Z.WALLCLOCK_TIME_UPDATED,tn,d),z.on(u.Z.PLAYBACK_PLAYING,_t,d),z.on(u.Z.PLAYBACK_PROGRESS,Xe,d),z.on(u.Z.PLAYBACK_TIME_UPDATED,Xe,d),z.on(u.Z.PLAYBACK_RATE_CHANGED,un,d),z.on(u.Z.PLAYBACK_STALLED,Tt,d)},getStreamId:function(){return V.id},getType:function(){return ue},getBufferControllerType:function(){return wt},createBufferSink:Be,dischargePreBuffer:function(){if($&&Q&&typeof Q.discharge=="function"){var Fe=Q.getAllBufferRanges();if(Fe.length>0){for(var ft="Beginning "+ue+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<Fe.length;Ee++)ft+=" start: "+Fe.start(Ee)+", end: "+Fe.end(Ee)+";";y.debug(ft)}else y.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");W=[];for(var be=Q.discharge(),et=null,Ct=0;Ct<be.length;Ct++){var Ft=be[Ct];if(Ft.segmentType!==Pe.w.INIT_SEGMENT_TYPE){var Tn=X.extract(Ft.streamId,Ft.representationId);Tn&&et!==Tn&&(W.push(Tn),$.append(Tn),et=Tn)}W.push(Ft),$.append(Ft)}Q.reset(),Q=null}},getBuffer:function(){return $},getBufferLevel:function(){return F},getRangeAt:pt,hasBufferAtTime:function(Fe){try{var ft=$.getAllBufferRanges();if(!ft||ft.length===0)return!1;for(var Ee=0;Ee<ft.length;){var be=ft.start(Ee),et=ft.end(Ee);if(Fe>=be&&Fe<=et)return!0;Ee+=1}return!1}catch(Ct){return y.error(Ct),!1}},pruneBuffer:Ke,setMediaSource:Ue,getMediaSource:function(){return I},appendInitSegmentFromCache:function(Fe){var ft=X.extract(V.id,Fe);return!!ft&&(y.info("Append Init fragment",ue," with representationId:",ft.representationId," and quality:",ft.quality,", data size:",ft.bytes.byteLength),ot(ft),!0)},getIsBufferingCompleted:function(){return D},setIsBufferingCompleted:gt,getIsPruningInProgress:function(){return me},reset:function(Fe,ft){z.off(c.Z.INIT_FRAGMENT_LOADED,ct,this),z.off(c.Z.MEDIA_FRAGMENT_LOADED,rt,this),z.off(c.Z.WALLCLOCK_TIME_UPDATED,tn,this),z.off(u.Z.PLAYBACK_PLAYING,_t,this),z.off(u.Z.PLAYBACK_PROGRESS,Xe,this),z.off(u.Z.PLAYBACK_TIME_UPDATED,Xe,this),z.off(u.Z.PLAYBACK_RATE_CHANGED,un,this),z.off(u.Z.PLAYBACK_STALLED,Tt,this),We(Fe,ft)},prepareForPlaybackSeek:function(){return D&&gt(!1),$.abort()},prepareForReplacementTrackSwitch:function(Fe){return new Promise(function(ft,Ee){$.abort().then(function(){return Xt()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?$.changeType(Fe):Promise.resolve()}).then(function(){return qe()}).then(function(){gt(!1),ft()}).catch(function(be){Ee(be)})})},prepareForNonReplacementTrackSwitch:function(Fe){return new Promise(function(ft,Ee){Xt().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?$.changeType(Fe):Promise.resolve()}).then(function(){ft()}).catch(function(be){Ee(be)})})},prepareForForceReplacementQualitySwitch:function(Fe){return new Promise(function(ft,Ee){$.abort().then(function(){return Xt()}).then(function(){return qe()}).then(function(){return Jt(Fe)}).then(function(){gt(!1),ft()}).catch(function(be){Ee(be)})})},updateAppendWindow:Xt,getAllRangesWithSafetyFactor:mt,getContinuousBufferTimeForTargetTime:Ht,clearBuffers:ut,pruneAllSafely:qe,updateBufferTimestampOffset:Jt,setSeekTarget:function(Fe){ye=Fe},segmentRequestingCompleted:function(Fe){isNaN(Fe)||(Y=Fe,Wt())}},y=(0,g.Z)(R).getInstance().getLogger(d),X=Ie(R).getInstance(),We(),d}Et.__dashjs_factory_name=wt;var ze=b.Z.getClassFactory(Et),st="NotFragmentedTextBufferController";function Te(p){p=p||{};var d,y,D,F,x,I,k=this.context,Y=(0,T.Z)(k).getInstance(),$=p.textController,Q=p.errHandler,j=p.streamInfo,W=p.type;function K(me){F=me}function ve(me){var _e,X;y!==me&&(y=me)&&(_e=c.Z.BUFFERING_COMPLETED,X={},Y.trigger(_e,X,{streamId:j.id,mediaType:W}))}function ce(me){me.chunk.bytes&&!y&&(I.save(me.chunk),x.append(me.chunk),ve(!0))}return d={initialize:function(me){K(me)},getStreamId:function(){return j.id},getType:function(){return W},getBufferControllerType:function(){return st},createBufferSink:function(me){return new Promise(function(_e,X){try{(x=Re(k).create({mediaSource:F,textController:$,eventBus:Y})).initializeForFirstUse(j,me),D||(x.getBuffer()&&typeof x.getBuffer().initialize=="function"&&x.getBuffer().initialize(),D=!0),_e(x)}catch(he){Q.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+W)),X(he)}})},dischargePreBuffer:function(){},getBuffer:function(){return x},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function(){return F},appendInitSegmentFromCache:function(me){return I.extract(j.id,me)!==null},getIsBufferingCompleted:function(){return y},setIsBufferingCompleted:ve,getIsPruningInProgress:function(){return!1},reset:function(me){Y.off(c.Z.INIT_FRAGMENT_LOADED,ce,d),!me&&x&&(x.abort(),x.reset(),x=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return y=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},D=!1,F=null,y=!1,I=Ie(k).getInstance(),Y.on(c.Z.INIT_FRAGMENT_LOADED,ce,d),d}Te.__dashjs_factory_name=st;var Ae=b.Z.getClassFactory(Te);function Ve(p){p=p||{};var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve=this.context,ce=(0,T.Z)(ve).getInstance(),me=p.dashMetrics,_e=p.mediaPlayerModel,X=p.fragmentModel,he=p.abrController,ee=p.playbackController,ye=p.textController,R=p.type,z=p.bufferController,q=p.representationController,H=p.settings;function L(){W=!0}function fe(){W=!1}function ie(lt){if(!z.getIsBufferingCompleted()){pe();var ct=isNaN(lt)?0:lt;x=setTimeout(se,ct)}}function pe(){x&&(clearTimeout(x),x=null)}function se(){try{if(function(){try{return R===i.Z.TEXT&&!ye.isTextEnabled()||ee.isPaused()&&(!ee.getStreamController().getInitialPlayback()||!ee.getStreamController().getAutoPlay())&&!H.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void pe();if(function(){try{return!!W&&q.getCurrentRepresentationInfo()&&(isNaN($)||Q||(rt=y.id,ot=he.getMaxAllowedIndexFor(R,rt),!(!isNaN(Y)&&Y==ot||(D.info("Top quality "+R+" index has changed from "+Y+" to "+ot),Y=ot,0)))||function(){var Zt=q.getCurrentRepresentationInfo();return!R||!Zt||me.getCurrentBufferLevel(R)<V()}())}catch{return!1}var rt,ot}()){var lt=!1;K&&(lt=he.checkPlaybackQuality(R,y.id)),lt||(ct=q.getCurrentRepresentationInfo(),j||ct.quality!==$||Q?(Q?(D.debug("Switch track for "+R+", representation id = "+ct.id),Q=!1):D.debug("Quality has changed, get init request for representationid = "+ct.id),ce.trigger(c.Z.INIT_FRAGMENT_NEEDED,{representationId:ct.id,sender:d},{streamId:y.id,mediaType:R}),K=!1,j=!1):(D.debug("Media segment needed for ".concat(R," and stream id ").concat(y.id)),ce.trigger(c.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:y.id,mediaType:R}),K=!0))}else ie(ee.getLowLatencyModeEnabled()?H.get().streaming.scheduling.lowLatencyTimeout:H.get().streaming.scheduling.defaultTimeout)}catch{ie(ee.getLowLatencyModeEnabled()?H.get().streaming.scheduling.lowLatencyTimeout:H.get().streaming.scheduling.defaultTimeout)}var ct}function V(){var lt=NaN,ct=q.getCurrentRepresentationInfo();return R&&ct&&(lt=R===i.Z.TEXT?function(){try{if(ye.isTextEnabled()){var rt=q.getCurrentRepresentationInfo();if(isNaN(rt.fragmentDuration)){var ot=me.getCurrentSchedulingInfo(w.Z.SCHEDULING_INFO);return ot?ot.duration:0}return rt.fragmentDuration}return 0}catch{return 0}}():R===i.Z.AUDIO&&I?function(){try{var rt=me.getCurrentBufferLevel(i.Z.VIDEO),ot=q.getCurrentRepresentationInfo();return isNaN(ot.fragmentDuration)?rt+1:Math.max(rt+1,ot.fragmentDuration)}catch{return 0}}():function(){try{var rt=q.getCurrentRepresentationInfo().mediaInfo.streamInfo;return he.isPlayingAtTopQuality(rt)?rt.manifestInfo.duration>=H.get().streaming.buffer.longFormContentDurationThreshold?H.get().streaming.buffer.bufferTimeAtTopQualityLongForm:H.get().streaming.buffer.bufferTimeAtTopQuality:_e.getStableBufferTime()}catch{return _e.getStableBufferTime()}}()),lt}function ue(){Se(!0)}function Se(lt){if(ee&&X){var ct=X.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:ee.getTime(),threshold:0})[0];ct&&ee.getTime()>=ct.startTime&&((!k.mediaInfo||ct.mediaInfo.type===k.mediaInfo.type&&ct.mediaInfo.index!==k.mediaInfo.index)&&lt&&ce.trigger(c.Z.TRACK_CHANGE_RENDERED,{mediaType:R,oldMediaInfo:k.mediaInfo,newMediaInfo:ct.mediaInfo,streamId:y.id}),ct.quality===k.quality&&ct.adaptationIndex===k.adaptationIndex||!lt||(D.debug("Quality change rendered for streamId ".concat(y.id," and type ").concat(R)),ce.trigger(c.Z.QUALITY_CHANGE_RENDERED,{mediaType:R,oldQuality:k.quality,newQuality:ct.quality,streamId:y.id})),k={mediaInfo:ct.mediaInfo,quality:ct.quality,adaptationIndex:ct.adaptationIndex})}}function Ue(){X.abortRequests(),pe()}function De(){H.get().streaming.scheduling.scheduleWhilePaused||ie()}function Be(lt){me.updatePlayListTraceMetrics({playbackspeed:lt.playbackRate.toString()})}function Le(){K=!0,F=0,$=NaN,k={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},Y=NaN,Q=!1,j=!1,W=!0}return d={initialize:function(lt){I=lt,ce.on(c.Z.URL_RESOLUTION_FAILED,Ue,d),ce.on(u.Z.PLAYBACK_STARTED,De,d),ce.on(u.Z.PLAYBACK_RATE_CHANGED,Be,d),ce.on(u.Z.PLAYBACK_TIME_UPDATED,ue,d),ce.on(u.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,L,d),ce.on(u.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,fe,d)},getType:function(){return R},getStreamId:function(){return y.id},setTimeToLoadDelay:function(lt){F=lt},getTimeToLoadDelay:function(){return F},setSwitchTrack:function(lt){Q=lt},getSwitchTrack:function(){return Q},startScheduleTimer:ie,clearScheduleTimer:pe,reset:function(){ce.off(c.Z.URL_RESOLUTION_FAILED,Ue,d),ce.off(u.Z.PLAYBACK_STARTED,De,d),ce.off(u.Z.PLAYBACK_RATE_CHANGED,Be,d),ce.off(u.Z.PLAYBACK_TIME_UPDATED,ue,d),ce.off(u.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,L,d),ce.off(u.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,fe,d),pe(),Se(!1),Le(),y=null},getBufferTarget:V,getPlaybackController:function(){return ee},setCheckPlaybackQuality:function(lt){K=lt},setInitSegmentRequired:function(lt){j=lt},setLastInitializedQuality:function(lt){$=lt}},D=(0,g.Z)(ve).getInstance().getLogger(d),Le(),y=p.streamInfo,d}Ve.__dashjs_factory_name="ScheduleController";var S=b.Z.getClassFactory(Ve),m=E(7387);function O(p){var d,y,D,F,x,I,k=(p=p||{}).eventBus,Y=p.events,$=p.abrController,Q=p.dashMetrics,j=p.playbackController,W=p.timelineConverter,K=p.type,ve=p.streamInfo,ce=p.dashConstants,me=p.segmentsController,_e=p.isDynamic,X=p.adapter;function he(){return K}function ee(){return D}function ye(){return I}function R(){y=null,D=!0,F=[],x=null}function z(pe){return new Promise(function(se,V){var ue=pe.hasInitialization(),Se=pe.hasSegments(),Ue=[];Ue.push(me.updateInitData(pe,ue)),Ue.push(me.updateSegmentData(pe,Se)),Promise.all(Ue).then(function(De){var Be;De[0]&&!De[0].error&&(pe=function(Le,lt){return lt&&!lt.error&&lt.representation?lt.representation:Le}(pe,De[0])),De[1]&&!De[1].error&&(pe=function(Le,lt){if(lt&&!lt.error){var ct,rt,ot,Zt,Ne=lt.segments,qe=[],mt=0;for(ct=0,rt=Ne?Ne.length:0;ct<rt;ct++)ot=Ne[ct],(Zt=(0,m.TJ)(W,_e,Le,ot.startTime,ot.duration,ot.timescale,ot.media,ot.mediaRange,mt))&&(qe.push(Zt),Zt=null,mt++);return qe.length>0&&(Le.segments=qe),Le}}(pe,De[1])),(Be=pe).mediaFinishedInformation=me.getMediaFinishedInformation(Be),function(Le){if(ee()){var lt,ct,rt=Q.getCurrentManifestUpdate(),ot=!1;if(rt){for(var Zt=0;Zt<rt.representationInfo.length;Zt++)if((lt=rt.representationInfo[Zt]).index===Le.index&&lt.mediaType===he()){ot=!0;break}ot||Q.addManifestUpdateRepresentationInfo(Le,he())}if(function(){for(var qe=0,mt=F.length;qe<mt;qe++){var Xe=F[qe].segmentInfoType;if(!F[qe].hasInitialization()||(Xe===ce.SEGMENT_BASE||Xe===ce.BASE_URL)&&!F[qe].segments)return!1}return!0}()){$.setPlaybackQuality(K,ve,(ct=I,F.indexOf(ct)));var Ne=Q.getCurrentDVRInfo(K);Ne&&Q.updateManifestUpdateInfo({latency:Ne.range.end-j.getTime()}),Q.getCurrentRepresentationSwitch(ye().adaptation.type)||q(),L()}}}(pe),se()}).catch(function(De){V(De)})})}function q(){(function(){if(!($&&Q&&j&&W))throw new Error(i.Z.MISSING_CONFIG_ERROR)})();var pe=new Date,se=ye(),V=1e3*j.getTime();se&&Q.addRepresentationSwitch(se.adaptation.type,pe,V,se.id),k.trigger(u.Z.REPRESENTATION_SWITCH,{mediaType:K,streamId:ve.id,currentRepresentation:se,numberOfRepresentations:F.length},{streamId:ve.id,mediaType:K})}function H(pe){return pe==null||pe>=F.length?null:F[pe]}function L(pe){D=!1,k.trigger(Y.DATA_UPDATE_COMPLETED,{data:y,currentRepresentation:I,error:pe},{streamId:ve.id,mediaType:K})}function fe(pe){I=pe,x=X.convertRepresentationToRepresentationInfo(I)}function ie(pe){if(pe.newDuration){var se=ye();se&&se.adaptation.period&&(se.adaptation.period.duration=pe.newDuration)}}return d={getStreamId:function(){return ve.id},getType:he,getData:function(){return y},isUpdating:ee,updateData:function(pe,se,V,ue,Se){return new Promise(function(Ue,De){if(D=!0,F=se,y=pe,fe(H(Se)),V!==i.Z.VIDEO&&V!==i.Z.AUDIO&&(V!==i.Z.TEXT||!ue))return L(),void Ue();for(var Be=[],Le=0,lt=F.length;Le<lt;Le++){var ct=F[Le];Be.push(z(ct))}Promise.all(Be).then(function(){fe(H(Se)),Ue()}).catch(function(rt){De(rt)})})},getCurrentRepresentation:ye,getCurrentRepresentationInfo:function(){return x},getRepresentationForQuality:H,prepareQualityChange:function(pe){fe(H(pe)),q()},reset:function(){k.off(u.Z.MANIFEST_VALIDITY_CHANGED,ie,d),R()}},R(),k.on(u.Z.MANIFEST_VALIDITY_CHANGED,ie,d),d}O.__dashjs_factory_name="RepresentationController";var M=b.Z.getClassFactory(O),oe=E(3106),ne=E(9326),Oe=E(7473),nt=E(2594);function je(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}var Ze=function p(){je(this,p),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Ze.INITIAL_PLAYOUT_START_REASON="initial_playout",Ze.SEEK_START_REASON="seek",Ze.RESUME_FROM_PAUSE_START_REASON="resume",Ze.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Me=function p(){je(this,p),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Me.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Me.REBUFFERING_REASON="rebuffering",Me.USER_REQUEST_STOP_REASON="user_request",Me.END_OF_PERIOD_STOP_REASON="end_of_period",Me.END_OF_CONTENT_STOP_REASON="end_of_content",Me.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Me.FAILURE_STOP_REASON="failure";var He=E(7802);function at(){return{ntpToUTC:function(p){var d=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(d.getTime()+p).getTime()}}}at.__dashjs_factory_name="TimeUtils";var St=b.Z.getSingletonFactory(at);function dt(p){p=p||{};var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me=this.context,_e=(0,T.Z)(me).getInstance(),X=p.streamInfo,he=p.type,ee=p.errHandler,ye=p.mimeType,R=p.timelineConverter,z=p.adapter,q=p.manifestModel,H=p.mediaPlayerModel,L=p.fragmentModel,fe=p.abrController,ie=p.playbackController,pe=p.mediaController,se=p.textController,V=p.dashMetrics,ue=p.settings,Se=p.boxParser,Ue=p.segmentBlacklistController;function De(){return X.id}function Be(){return he}function Le(){return z.getIsTextTrack(Y.getData())}function lt(){x=[],F=null,ve=0,$=!1,Q=!1,j=!1,ce=null}function ct(We){return!isNaN(We)&&!isNaN(X.duration)&&isFinite(X.duration)&&We>=X.start+X.duration}function rt(We){var Fe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(We.sender){if(ie.getIsManifestUpdateInProgress())mt();else if((!Le()||se.isTextEnabled())&&I&&We.representationId&&!I.appendInitSegmentFromCache(We.representationId)){var ft=Y.getCurrentRepresentation();if(ft.range===0)return void ot();var Ee=W?W.getInitRequest(F,ft):null;Ee?L.executeRequest(Ee):Fe&&(k.setInitSegmentRequired(!0),mt())}}}function ot(We){var Fe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ie.getIsManifestUpdateInProgress()||I.getIsPruningInProgress())mt();else{var ft=qe();ft?($=!1,Q=!1,Zt(ft)):Ne(Fe)}}function Zt(We){isNaN(We.startTime+We.duration)||(ve=We.startTime+We.duration),We.delayLoadingTime=new Date().getTime()+k.getTimeToLoadDelay(),k.setTimeToLoadDelay(0),function(Fe){var ft=Fe.url;return Fe.range&&(ft=ft.concat("_",Fe.range)),Ue.contains(ft)}(We)?(y.warn("Fragment request url ".concat(We.url," for stream id ").concat(X.id," and media type ").concat(he," is on the ignore list and will be skipped")),mt()):(y.debug("Next fragment request url for stream id ".concat(X.id," and media type ").concat(he," is ").concat(We.url)),L.executeRequest(We))}function Ne(We){var Fe,ft=Y.getCurrentRepresentation();if(!ue.get().streaming.gaps.enableSeekFix||!$&&ie.getTime()!==0||(D?D&&ft.segmentInfoType===o.Z.SEGMENT_TIMELINE&&(Fe=W.getValidTimeAheadOfTargetTime(ve,F,ft,ue.get().streaming.gaps.threshold)):Fe=W.getValidTimeAheadOfTargetTime(ve,F,ft,ue.get().streaming.gaps.threshold),isNaN(Fe)||Fe===ve)){if(W.isLastSegmentRequested(ft,ve)){var Ee=W.getCurrentIndex();return y.debug("Segment requesting for stream ".concat(X.id," has finished")),_e.trigger(c.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ee},{streamId:X.id,mediaType:he}),I.segmentRequestingCompleted(Ee),void k.clearScheduleTimer()}We&&mt()}else ie.isSeeking()||ie.getTime()===0?(y.warn("Adjusting playback time ".concat(Fe," because of gap in the manifest. Seeking by ").concat(Fe-ve)),ie.seek(Fe,!1,!1)):(y.warn("Adjusting buffering time ".concat(Fe," because of gap in the manifest. Adjusting time by ").concat(Fe-ve)),$t(Fe),We&&mt())}function qe(){var We,Fe=Xt();if(isNaN(ve)||Be()===i.Z.TEXT&&!se.isTextEnabled())return null;if(W){var ft=Y&&Fe?Y.getRepresentationForQuality(Fe.quality):null;We=$?W.getSegmentRequestForTime(F,ft,ve):Q?W.repeatSegmentRequest(F,ft):W.getNextSegmentRequest(F,ft)}return We}function mt(){k.startScheduleTimer(ie.getLowLatencyModeEnabled()?ue.get().streaming.scheduling.lowLatencyTimeout:ue.get().streaming.scheduling.defaultTimeout)}function Xe(We){We.error||I.getIsBufferingCompleted()||I.updateBufferTimestampOffset(We.currentRepresentation)}function Tt(We){V.addBufferState(he,We.state,k.getBufferTarget()),We.state!==w.Z.BUFFER_EMPTY||ie.isSeeking()||(y.info("Buffer is empty! Stalling!"),V.pushPlayListTraceMetrics(new Date,Me.REBUFFERING_REASON))}function _t(We){L.syncExecutedRequestsWithBufferedRange(I.getBuffer().getAllBufferRanges(),X.duration),We.quotaExceeded&&We.from>ie.getTime()&&$t(We.from),We.hasEnoughSpaceToAppend&&We.quotaExceeded&&k.startScheduleTimer()}function pt(We){if(We&&We.lastRequestAppended&&We.lastRequestAppended.url){var Fe=We.lastRequestAppended.url;We.lastRequestAppended.range&&(Fe=Fe.concat("_",We.lastRequestAppended.range)),y.warn("Blacklisting segment with url ".concat(Fe)),Ue.add(Fe)}}function Qt(We){if(y.debug("Appended bytes for ".concat(We.mediaType," and stream id ").concat(We.streamId)),We.segmentType===Pe.w.INIT_SEGMENT_TYPE){var Fe=We.quality;k.setLastInitializedQuality(Fe),y.info("["+he+"] lastInitializedRepresentationInfo changed to "+We.quality)}ce?Wt(ce):k.startScheduleTimer(0)}function Wt(We){var Fe=L.getRequests({state:te.FRAGMENT_MODEL_LOADING});if(Fe&&Fe.length>0)return y.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(ce=We);I.updateBufferTimestampOffset(We).then(function(){k.setCheckPlaybackQuality(!1),F.segmentAlignment||F.subSegmentAlignment?k.startScheduleTimer():Ht(),ce=null,j=!1}).catch(function(){ce=null,j=!1})}function mn(We){y.info("onFragmentLoadingAbandoned request: "+We.request.url+" has been aborted"),ie.isSeeking()||k.getSwitchTrack()||j||(y.info("onFragmentLoadingAbandoned request: "+We.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),We.request&&We.request.isInitializationRequest()?k.setInitSegmentRequired(!0):$t(We.request.startTime+We.request.duration/2),k.startScheduleTimer(0))}function _n(We){y.info("OnFragmentLoadingCompleted for stream id "+X.id+" and media type "+he+" - Url:",We.request?We.request.url:"undefined",We.request.range?", Range:"+We.request.range:""),Le()&&k.startScheduleTimer(0),We.error&&We.request.serviceLocation&&function(Fe){y.info("Fragment loading completed with an error"),Fe&&Fe.request&&Fe.request.type&&(Fe.request.type===Pe.w.INIT_SEGMENT_TYPE?rt({representationId:Fe.request.representationId,sender:{}},!1):Fe.request.type===Pe.w.MEDIA_SEGMENT_TYPE&&($t(Fe.request.startTime+Fe.request.duration/2),ot({},!1)))}(We)}function Ke(){$t(ie.getTime()),Jt().startScheduleTimer()}function vt(We){var Fe=We.currentTrackInfo;if(Fe){var ft=x.find(function(Ee){return Ee.index===Fe.index&&Ee.lang===Fe.lang});ft&&xt(ft).then(function(){I.setIsBufferingCompleted(!1),$t(ie.getTime()),k.setInitSegmentRequired(!0),k.startScheduleTimer()})}}function ut(We){$t(We.quotaExceededTime),k.clearScheduleTimer()}function It(){return I?I.getBuffer():null}function xt(We){We===F||We&&F&&We.type!==F.type||(F=We);var Fe=z.getRealAdaptation(X,F),ft=z.getVoRepresentations(F);if(Y){var Ee,be=Y.getData(),et=fe.getMaxAllowedIndexFor(he,X.id),Ct=fe.getMinAllowedIndexFor(he,X.id),Ft=null;return be!==null&&be.id===Fe.id||he===i.Z.TEXT?Ee=fe.getQualityFor(he,X.id):(Ft=fe.getThroughputHistory().getAverageThroughput(he,D)||fe.getInitialBitrateFor(he,X.id),Ee=fe.getQualityForBitrate(F,Ft,X.id)),Ct!==void 0&&Ee<Ct&&(Ee=Ct),Ee>et&&(Ee=et),Y.updateData(Fe,ft,he,F.isFragmented,Ee)}return Promise.resolve()}function Jt(){return k}function Xt(We){var Fe;return We!==void 0?((0,oe.SE)(We),Fe=Y?Y.getRepresentationForQuality(We):null):Fe=Y?Y.getCurrentRepresentation():null,z.convertRepresentationToRepresentationInfo(Fe)}function tn(){return!!I&&I.getIsBufferingCompleted()}function un(We){if(ue.get().streaming.enableManifestTimescaleMismatchFix){var Fe=We.chunk,ft=Fe.bytes,Ee=Xt(Fe.quality),be=Y&&Ee?Y.getRepresentationForQuality(Ee.quality):null;Ee&&be&&(be.timescale=Se.getMediaTimescaleFromMoov(ft))}}function gt(We){var Fe=We.chunk,ft=Fe.bytes,Ee=Fe.quality,be=Xt(Ee),et=Y&&be?Y.getRepresentationForQuality(be.quality):null;if(be&&et){var Ct;if(ue.get().streaming.parseInbandPrft&&We.request.type===Pe.w.MEDIA_SEGMENT_TYPE){var Ft=function(zr,mr){var No=zr.getBoxes("prft"),ha=[];return No.forEach(function(pa){ha.push(function(Fi,uo){var Yr="unknown";switch(Fi.flags){case 0:Yr=o.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Yr=o.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Yr=o.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Co=1e3*Fi.ntp_timestamp_sec+Fi.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Yr,ntpTimestamp:Co=St(me).getInstance().ntpToUTC(Co),mediaTime:Fi.media_time/uo}}(pa,mr))}),ha}(Ct=Ct||Se.parse(ft),et.timescale);Ft&&Ft.length&&_e.trigger(u.Z.INBAND_PRFT,{data:Ft},{streamId:X.id,mediaType:he})}var Tn=z.getEventsFor(be.mediaInfo,null,X),Gn=z.getEventsFor(be,et,X);if(Tn&&Tn.length>0||Gn&&Gn.length>0){var cr=L.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,quality:Ee,index:Fe.index})[0],jn=function(zr,mr,No,ha){try{for(var pa={},Fi=[],uo=No.concat(ha),Yr=0,Co=uo.length;Yr<Co;Yr++)pa[uo[Yr].schemeIdUri+"/"+uo[Yr].value]=uo[Yr];var ga=zr.getBoxes("emsg");if(!ga||ga.length===0)return Fi;for(var Si=zr.getBox("sidx"),ru=!Si||isNaN(Si.earliest_presentation_time)||isNaN(Si.timescale)?mr&&!isNaN(mr.mediaStartTime)?mr.mediaStartTime:0:Si.earliest_presentation_time/Si.timescale,Ul=Math.max(ru,0),Bl=Y.getCurrentRepresentation(),Do=0,Zl=ga.length;Do<Zl;Do++){var ma=z.getEvent(ga[Do],pa,Ul,Bl);ma&&Fi.push(ma)}return Fi}catch{return[]}}(Ct=Ct||Se.parse(ft),cr,Tn,Gn);_e.trigger(c.Z.INBAND_EVENTS,{events:jn},{streamId:X.id})}}}function Ut(){var We=ie.getTime();ue.get().streaming.buffer.flushBufferAtTrackSwitch&&ie.seek(We+.001,!1,!0),$t(We),I.setSeekTarget(We),k.startScheduleTimer()}function Ht(){var We=ie.getTime(),Fe=I.getContinuousBufferTimeForTargetTime(We);$t(isNaN(Fe)?We:Fe),k.startScheduleTimer()}function zt(We){We&&!isNaN(We.time)&&($t(We.time),I.setSeekTarget(We.time))}function $t(We){ve=We,$=!0}return d={initialize:function(We,Fe,ft){K=(0,He.Z)(me).create({events:c.Z,eventBus:_e,streamInfo:X,timelineConverter:R,dashConstants:o.Z,segmentBaseController:p.segmentBaseController,type:he}),W=(0,ne.Z)(me).create({streamInfo:X,type:he,timelineConverter:R,dashMetrics:V,mediaPlayerModel:H,baseURLController:p.baseURLController,errHandler:ee,segmentsController:K,settings:ue,boxParser:Se,events:c.Z,eventBus:_e,errors:ae,debug:(0,g.Z)(me).getInstance(),requestModifier:(0,Oe.Z)(me).getInstance(),dashConstants:o.Z,constants:i.Z,urlUtils:(0,nt.Z)(me).getInstance()}),D=X.manifestInfo.isDynamic,W.initialize(D),fe.registerStreamType(he,d),Y=M(me).create({streamInfo:X,type:he,abrController:fe,dashMetrics:V,playbackController:ie,timelineConverter:R,dashConstants:o.Z,events:c.Z,eventBus:_e,errors:ae,isDynamic:D,adapter:z,segmentsController:K}),I=function(Ee,be){return Ee?Ee!==i.Z.TEXT||be?ze(me).create({streamInfo:X,type:Ee,mediaPlayerModel:H,manifestModel:q,fragmentModel:L,errHandler:ee,mediaController:pe,representationController:Y,adapter:z,textController:se,abrController:fe,playbackController:ie,settings:ue}):Ae(me).create({streamInfo:X,type:Ee,mimeType:ye,fragmentModel:L,textController:se,errHandler:ee,settings:ue}):(ee.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(he,ft),I&&I.initialize(We),(k=S(me).create({streamInfo:X,type:he,mimeType:ye,adapter:z,dashMetrics:V,mediaPlayerModel:H,fragmentModel:L,abrController:fe,playbackController:ie,textController:se,mediaController:pe,bufferController:I,representationController:Y,settings:ue})).initialize(Fe),ve=0,$=!1,Q=!1},getStreamId:De,getType:Be,isUpdating:function(){return!!Y&&Y.isUpdating()},getBufferController:function(){return I},dischargePreBuffer:function(){I.dischargePreBuffer()},getFragmentModel:function(){return L},getScheduleController:Jt,getRepresentationController:function(){return Y},getRepresentationInfo:Xt,getBufferLevel:function(){return I?I.getBufferLevel():0},isBufferingCompleted:tn,createBufferSinks:function(We){var Fe=It();return Fe?Promise.resolve(Fe):I?I.createBufferSink(F,We):Promise.resolve(null)},updateStreamInfo:function(We){return X=We,tn()?Promise.resolve():I.updateAppendWindow()},getStreamInfo:function(){return X},selectMediaInfo:xt,clearMediaInfoArray:function(){x=[]},addMediaInfo:function(We){x.indexOf(We)===-1&&x.push(We)},prepareTrackSwitch:function(){return new Promise(function(We){y.debug("Preparing track switch for type ".concat(he));var Fe=he===i.Z.TEXT||ue.get().streaming.trackSwitchMode[he]===i.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ie.getTimeToStreamEnd(X)>ue.get().streaming.buffer.stallThreshold;if(I.getIsBufferingCompleted()&&!Fe)return I.prepareForNonReplacementTrackSwitch(F.codec).then(function(){_e.trigger(c.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:he})}).catch(function(){_e.trigger(c.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:he})}),void We();k.clearScheduleTimer(),k.setSwitchTrack(!0),Fe?(_e.trigger(c.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:he,streamId:X.id},{mediaType:he,streamId:X.id}),L.abortRequests(),I.prepareForReplacementTrackSwitch(F.codec).then(function(){var ft=Xt();return I.updateBufferTimestampOffset(ft)}).then(function(){Ut(),We()}).catch(function(){Ut(),We()})):I.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Ht(),We()}).catch(function(){Ht(),We()})})},prepareQualityChange:function(We){ce&&y.warn("Canceling queued representation switch to ".concat(ce.quality," for ").concat(he)),y.debug("Preparing quality switch for type ".concat(he));var Fe=We.newQuality;j=!0,k.clearScheduleTimer(),Y.prepareQualityChange(Fe);var ft=Xt(Fe);We.reason&&We.reason.forceReplace?function(Ee){L.abortRequests(),_e.trigger(c.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:he,streamId:X.id},{mediaType:he,streamId:X.id}),k.setCheckPlaybackQuality(!1),I.prepareForForceReplacementQualitySwitch(Ee).then(function(){Ut(),ce=null,j=!1}).catch(function(){Ut(),ce=null,j=!1})}(ft):We&&We.reason&&We.reason.forceAbandon?function(Ee){I.updateBufferTimestampOffset(Ee).then(function(){L.abortRequests(),Q=!0,k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),j=!1,ce=null}).catch(function(){ce=null,j=!1})}(ft):ue.get().streaming.buffer.fastSwitchEnabled?function(Ee){var be=ie.getTime(),et=1.5*(isNaN(Ee.fragmentDuration)?1:Ee.fragmentDuration),Ct=L.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:be+et,threshold:0})[0];if(Ct&&!Le()){var Ft=I.getBufferLevel(),Tn=fe.getAbandonmentStateFor(X.id,he);Ct.quality<Ee.quality&&Ft>=et&&Tn!==w.Z.ABANDON_LOAD?I.updateBufferTimestampOffset(Ee).then(function(){L.abortRequests(),$t(be+et),k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),j=!1}).catch(function(){j=!1}):Wt(Ee)}else Wt(Ee)}(ft):Wt(ft),V.pushPlayListTraceMetrics(new Date,Me.REPRESENTATION_SWITCH_STOP_REASON),V.createPlaylistTraceMetrics(ft.id,1e3*ie.getTime(),ie.getPlaybackRate())},getMediaInfo:function(){return F},getMediaSource:function(){return I.getMediaSource()},setMediaSource:function(We){return I.setMediaSource(We,F)},getBuffer:It,setExplicitBufferingTime:$t,finalisePlayList:function(We,Fe){V.pushPlayListTraceMetrics(We,Fe)},probeNextRequest:function(){var We=Xt(),Fe=Y&&We?Y.getRepresentationForQuality(We.quality):null;return W.getNextSegmentRequestIdempotent(F,Fe)},prepareInnerPeriodPlaybackSeeking:function(We){return new Promise(function(Fe){if(I.hasBufferAtTime(We.seekTime))return I.pruneBuffer(),ct(I.getContinuousBufferTimeForTargetTime(We.seekTime))&&I.setIsBufferingCompleted(!0),void Fe();k.clearScheduleTimer(),L.abortRequests(),I.prepareForPlaybackSeek().then(function(){var ft=I.getAllRangesWithSafetyFactor(We.seekTime);return I.clearBuffers(ft)}).then(function(){var ft=I.getContinuousBufferTimeForTargetTime(We.seekTime);if(ct(ft))I.setIsBufferingCompleted(!0),Fe();else{var Ee=isNaN(ft)?We.seekTime:ft;$t(Ee),I.setSeekTarget(Ee);var be=[];be.push(I.updateAppendWindow());var et=Xt();be.push(I.updateBufferTimestampOffset(et)),Promise.all(be).then(function(){k.setInitSegmentRequired(!0),k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),Fe()})}}).catch(function(ft){y.error(ft)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(We,Fe){try{k.clearScheduleTimer(),L.abortRequests(),I.prepareForPlaybackSeek().then(function(){return I.pruneAllSafely()}).then(function(){We()})}catch(ft){Fe(ft)}})},reset:function(We,Fe){W&&W.reset(),I&&(I.reset(We,Fe),I=null),k&&(k.reset(),k=null),Y&&(Y.reset(),Y=null),K&&(K=null),fe&&fe.unRegisterStreamType(De(),he),_e.off(c.Z.DATA_UPDATE_COMPLETED,Xe,d),_e.off(c.Z.INIT_FRAGMENT_NEEDED,rt,d),_e.off(c.Z.MEDIA_FRAGMENT_NEEDED,ot,d),_e.off(c.Z.INIT_FRAGMENT_LOADED,un,d),_e.off(c.Z.MEDIA_FRAGMENT_LOADED,gt,d),_e.off(c.Z.BUFFER_LEVEL_STATE_CHANGED,Tt,d),_e.off(c.Z.BUFFER_CLEARED,_t,d),_e.off(c.Z.SEEK_TARGET,zt,d),_e.off(c.Z.FRAGMENT_LOADING_ABANDONED,mn,d),_e.off(c.Z.FRAGMENT_LOADING_COMPLETED,_n,d),_e.off(c.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,d),_e.off(c.Z.SET_NON_FRAGMENTED_TEXT,vt,d),_e.off(c.Z.QUOTA_EXCEEDED,ut,d),_e.off(c.Z.SOURCE_BUFFER_ERROR,pt,d),_e.off(c.Z.BYTES_APPENDED_END_FRAGMENT,Qt,d),lt(),he=null,X=null}},y=(0,g.Z)(me).getInstance().getLogger(d),lt(),_e.on(c.Z.DATA_UPDATE_COMPLETED,Xe,d,{priority:T.Z.EVENT_PRIORITY_HIGH}),_e.on(c.Z.INIT_FRAGMENT_NEEDED,rt,d),_e.on(c.Z.MEDIA_FRAGMENT_NEEDED,ot,d),_e.on(c.Z.INIT_FRAGMENT_LOADED,un,d),_e.on(c.Z.MEDIA_FRAGMENT_LOADED,gt,d),_e.on(c.Z.BUFFER_LEVEL_STATE_CHANGED,Tt,d),_e.on(c.Z.BUFFER_CLEARED,_t,d),_e.on(c.Z.SEEK_TARGET,zt,d),_e.on(c.Z.FRAGMENT_LOADING_ABANDONED,mn,d),_e.on(c.Z.FRAGMENT_LOADING_COMPLETED,_n,d),_e.on(c.Z.QUOTA_EXCEEDED,ut,d),_e.on(c.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,d),_e.on(c.Z.SET_NON_FRAGMENTED_TEXT,vt,d),_e.on(c.Z.SOURCE_BUFFER_ERROR,pt,d),_e.on(c.Z.BYTES_APPENDED_END_FRAGMENT,Qt,d),d}dt.__dashjs_factory_name="StreamProcessor";var Vt=b.Z.getClassFactory(dt),Mt=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},qt=E(9032);function jt(p,d){if(p){if(typeof p=="string")return hn(p,d);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?hn(p,d):void 0}}function hn(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}function bn(p){p=p||{};var d,y,D=this.context,F=p.requestModifier,x=p.lowLatencyThroughputModel,I=p.boxParser,k=(0,we.Z)(D).getInstance();function Y(j){var W,K=new Date,ve=j.request,ce=new Headers;if(ve.range&&ce.append("Range","bytes="+ve.range),j.headers)for(var me in j.headers){var _e=j.headers[me];_e&&ce.append(me,_e)}ve.requestStartDate||(ve.requestStartDate=K),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(R,z){ce.append(R,z)}},{url:j.url}),typeof window.AbortController=="function"&&(W=new AbortController,j.abortController=W,W.signal.onabort=j.onabort);var X={method:j.method,headers:ce,credentials:j.withCredentials?"include":void 0,signal:W?W.signal:void 0},he=k.get().streaming.abr.fetchThroughputCalculationMode,ee=Date.now(),ye=0;new Promise(function(R){if(he===i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&x&&(ye=x.getThroughputCapacityDelayMS(ve,1e3*y.getCurrentBufferLevel(ve.mediaType))))return setTimeout(R,ye);R()}).then(function(){var R=Date.now();fetch(j.url,X).then(function(z){j.response||(j.response={}),j.response.status=z.status,j.response.statusText=z.statusText,j.response.responseURL=z.url,z.ok||j.onerror();var q,H="",L=function(Xe,Tt){var _t;if(typeof Symbol>"u"||Xe[Symbol.iterator]==null){if(Array.isArray(Xe)||(_t=jt(Xe))){_t&&(Xe=_t);var pt=0,Qt=function(){};return{s:Qt,n:function(){return pt>=Xe.length?{done:!0}:{done:!1,value:Xe[pt++]}},e:function(Ke){throw Ke},f:Qt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wt,mn=!0,_n=!1;return{s:function(){_t=Xe[Symbol.iterator]()},n:function(){var Ke=_t.next();return mn=Ke.done,Ke},e:function(Ke){_n=!0,Wt=Ke},f:function(){try{mn||_t.return==null||_t.return()}finally{if(_n)throw Wt}}}}(z.headers.keys());try{for(L.s();!(q=L.n()).done;){var fe=q.value;H+=fe+": "+z.headers.get(fe)+`\r
`}}catch(Xe){L.e(Xe)}finally{L.f()}if(j.response.responseHeaders=H,!z.body)return z.arrayBuffer().then(function(Xe){j.response.response=Xe;var Tt={loaded:Xe.byteLength,total:Xe.byteLength,stream:!1};j.progress(Tt),j.onload(),j.onend()});var ie,pe,se,V,ue=parseInt(z.headers.get("Content-Length"),10),Se=0,Ue=!1,De=new Uint8Array,Be=0;if(he===i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&x){var Le=R,lt=0,ct=(se=z.body.tee(),V=2,function(Xe){if(Array.isArray(Xe))return Xe}(se)||function(Xe,Tt){if(typeof Symbol<"u"&&Symbol.iterator in Object(Xe)){var _t=[],pt=!0,Qt=!1,Wt=void 0;try{for(var mn,_n=Xe[Symbol.iterator]();!(pt=(mn=_n.next()).done)&&(_t.push(mn.value),!Tt||_t.length!==Tt);pt=!0);}catch(Ke){Qt=!0,Wt=Ke}finally{try{pt||_n.return==null||_n.return()}finally{if(Qt)throw Wt}}return _t}}(se,V)||jt(se,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),rt=ct[0],ot=ct[1];ie=rt.getReader(),pe=[],ie.read().then(function Xe(Tt){var _t=Tt.value,pt=Tt.done;if(lt=Date.now(),_t&&_t.length){var Qt=lt-Le,Wt=_t.length;pe.push({chunkDownloadTimeRelativeMS:lt-R,chunkDownloadDurationMS:Qt,chunkBytes:Wt,kbps:Math.round(8*Wt/(Qt/1e3)),bufferLevel:y.getCurrentBufferLevel(ve.mediaType)})}if(pt){var mn=lt-R,_n=pe.reduce(function(Ke,vt){return Ke+vt.chunkBytes},0);return x.addMeasurement(ve,mn,pe,ee,ye,H),void j.progress({loaded:_n,total:_n,lengthComputable:!0,time:x.getEstimatedDownloadDurationMS(ve),stream:!0})}return Le=Date.now(),ie.read().then(Xe)}),j.reader=ot.getReader()}else j.reader=z.body.getReader();var Zt=[],Ne=[],qe=[],mt=!0;$(j,function Xe(Tt){var _t=Tt.value;if(Tt.done){if(De){if(he!==i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var pt=null,Qt=null;he===i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(pt=function(Ke,vt){try{var ut,It;ut=Ke.filter(function(Ut,Ht){return Ht<Ke.length-1}),It=vt.filter(function(Ut,Ht){return Ht<vt.length-1});var xt=[];if(ut.length>1){for(var Jt=0,Xt=0,tn=0;tn<ut.length;tn++)if(ut[tn]&&It[tn]){var un=It[tn].ts-ut[tn].ts;if(un>1)xt.push(8*It[tn].bytes/un),Xt=0;else{Xt===0&&(Xt=ut[tn].ts,Jt=0);var gt=It[tn].ts-Xt;gt>1?(Jt+=It[tn].bytes,xt.push(8*Jt/gt),Xt=0):Jt+=It[tn].bytes}}if(xt.length>0)return xt.reduce(function(Ut,Ht){return Ut+Ht},0)/xt.length}return null}catch{return null}}(Ne,qe),pt&&(Qt=8*Se/pt)):he===i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Qt=Q(Zt,Se)),j.progress({loaded:Se,total:isNaN(ue)?Se:ue,lengthComputable:!0,time:Qt,stream:!0})}j.response.response=De.buffer}return j.onload(),void j.onend()}if(_t&&_t.length>0){De=function(Ke,vt){if(Ke.length===0)return vt;var ut=new Uint8Array(Ke.length+vt.length);return ut.set(Ke),ut.set(vt,Ke.length),ut}(De,_t),Se+=_t.length,Zt.push({ts:Date.now(),bytes:_t.length}),he===i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&mt&&I.findLastTopIsoBoxCompleted(["moof"],De,Be).found&&(mt=!1,Ne.push({ts:performance.now(),bytes:_t.length}));var Wt=I.findLastTopIsoBoxCompleted(["moov","mdat"],De,Be);if(Wt.found){var mn,_n=Wt.lastCompletedOffset+Wt.size;he!==i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||mt||(mt=!0,qe.push({ts:performance.now(),bytes:De.length})),_n===De.length?(mn=De,De=new Uint8Array):(mn=new Uint8Array(De.subarray(0,_n)),De=De.subarray(_n)),j.progress({data:mn.buffer,lengthComputable:!1,noTrace:!0}),Be=0}else Be=Wt.lastCompletedOffset,Ue||(j.progress({lengthComputable:!1,noTrace:!0}),Ue=!0)}$(j,Xe)})}).catch(function(z){j.onerror&&j.onerror(z)})})}function $(j,W){j.reader.read().then(W).catch(function(K){j.onerror&&j.response.status===200&&j.onerror(K)})}function Q(j,W){try{if((j=j.filter(function(ce){return ce.bytes>W/4/j.length})).length>1){var K=0,ve=(j[j.length-1].ts-j[0].ts)/j.length;return j.forEach(function(ce,me){var _e=j[me+1];if(_e){var X=_e.ts-ce.ts;K+=X<ve?X:0}}),K}return null}catch{return null}}return d={load:function(j){F&&F.modifyRequest?(0,Oe.k)(j,F).then(function(){return Y(j)}):Y(j)},abort:function(j){if(j.abortController)j.abortController.abort();else if(j.reader)try{j.reader.cancel(),j.onabort()}catch{}},calculateDownloadedTime:Q,setup:function(j){y=j.dashMetrics}},d}bn.__dashjs_factory_name="FetchLoader";var qn=b.Z.getClassFactory(bn),Bn=E(1180);function zn(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var Er=function(){function p(){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var d,y;return d=p,(y=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==o.Z.BASE_URL&&this.segmentInfoType!==o.Z.SEGMENT_BASE&&!this.indexRange}}])&&zn(d.prototype,y),p}(),xn=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null},Hr=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Hr.DEFAULT_ID="defaultId";var ur=Hr,Nr=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},ai=E(2610),Cr=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},yi=function p(d,y,D,F){(function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=d||"",this.serviceLocation=y||d||"",this.dvbPriority=D||1,this.dvbWeight=F||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};yi.DEFAULT_DVB_PRIORITY=1,yi.DEFAULT_DVB_WEIGHT=1;var vi=yi,za=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Dt=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Rt=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function Nt(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var Ye=function(){function p(){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri=null,this.value=null,this.id=null}var d,y;return d=p,(y=[{key:"init",value:function(D){return D&&(this.schemeIdUri=D.schemeIdUri?D.schemeIdUri:null,this.value=D.value?D.value:null,this.id=D.id?D.id:null,D[o.Z.DVB_URL]&&(this.dvbUrl=D[o.Z.DVB_URL]),D[o.Z.DVB_MIMETYPE]&&(this.dvbMimeType=D[o.Z.DVB_MIMETYPE]),D[o.Z.DVB_FONTFAMILY]&&(this.dvbFontFamily=D[o.Z.DVB_FONTFAMILY])),this}}])&&Nt(d.prototype,y),p}(),yt=E(3101),Je=E.n(yt);function ht(){return{areEqual:function(p,d){return Je()(p,d)}}}ht.__dashjs_factory_name="ObjectUtils";var Bt=b.Z.getSingletonFactory(ht),Gt=E(7803),on=function p(d,y){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=d||"",this.serviceLocation=y||null,this.queryParams={}},an=function p(d,y,D){(function(F,x){if(!(F instanceof x))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=d||"",this.serviceLocation=y||null,this.ttl=D||NaN,this.queryParams={}};function Kt(p,d){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);d&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(p,F).enumerable})),y.push.apply(y,D)}return y}function bt(p){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Kt(Object(y),!0).forEach(function(D){rn(p,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):Kt(Object(y)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(y,D))})}return p}function rn(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function en(p,d){var y;if(typeof Symbol>"u"||p[Symbol.iterator]==null){if(Array.isArray(p)||(y=gn(p))||d&&p&&typeof p.length=="number"){y&&(p=y);var D=0,F=function(){};return{s:F,n:function(){return D>=p.length?{done:!0}:{done:!1,value:p[D++]}},e:function(Y){throw Y},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,I=!0,k=!1;return{s:function(){y=p[Symbol.iterator]()},n:function(){var Y=y.next();return I=Y.done,Y},e:function(Y){k=!0,x=Y},f:function(){try{I||y.return==null||y.return()}finally{if(k)throw x}}}}function gn(p,d){if(p){if(typeof p=="string")return Rn(p,d);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?Rn(p,d):void 0}}function Rn(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}function kn(){var p,d,y,D,F=this.context,x=(0,nt.Z)(F).getInstance(),I=Number.isInteger||function(R){return typeof R=="number"&&isFinite(R)&&Math.floor(R)===R};function k(R,z){if(!R)throw new Error("adaptation is not defined");if(!z)throw new Error("type is not defined");if(R.Representation_asArray&&R.Representation_asArray.length){var q=me(R.Representation_asArray[0]);if(q&&q.length>0&&Gt.Y.indexOf(q[0].schemeIdUri)>=0)return z===i.Z.IMAGE}if(R.ContentComponent_asArray&&R.ContentComponent_asArray.length>0){if(R.ContentComponent_asArray.length>1)return z===i.Z.MUXED;if(R.ContentComponent_asArray[0].contentType===z)return!0}var H=z===i.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(z);if(R.Representation_asArray&&R.Representation_asArray.length){var L=R.Representation_asArray[0].codecs;if(H.test(L))return!0}if(R.hasOwnProperty(o.Z.MIME_TYPE))return H.test(R.mimeType);if(R.Representation_asArray){for(var fe,ie=0;ie<R.Representation_asArray.length;ie++)if((fe=R.Representation_asArray[ie]).hasOwnProperty(o.Z.MIME_TYPE))return H.test(fe.mimeType)}return!1}function Y(R){if(!R)throw new Error("adaptation is not defined");if(R.hasOwnProperty(o.Z.SEGMENT_TEMPLATE)||R.hasOwnProperty(o.Z.SEGMENT_TIMELINE)||R.hasOwnProperty(o.Z.SEGMENT_LIST)||R.hasOwnProperty(o.Z.SEGMENT_BASE))return!0;if(R.Representation_asArray&&R.Representation_asArray.length>0){var z=R.Representation_asArray[0];if(z.hasOwnProperty(o.Z.SEGMENT_TEMPLATE)||z.hasOwnProperty(o.Z.SEGMENT_TIMELINE)||z.hasOwnProperty(o.Z.SEGMENT_LIST)||z.hasOwnProperty(o.Z.SEGMENT_BASE))return!0}return!1}function $(R){return k(R,i.Z.VIDEO)}function Q(R){return k(R,i.Z.TEXT)}function j(R){return k(R,i.Z.IMAGE)}function W(R){return R&&Array.isArray(R.Representation_asArray)&&R.Representation_asArray.sort(function(z,q){return z.bandwidth-q.bandwidth}),R}function K(R,z){return R&&R.Period_asArray&&I(z)&&R.Period_asArray[z]?R.Period_asArray[z].AdaptationSet_asArray:[]}function ve(R){return R&&R.Period_asArray?R.Period_asArray:[]}function ce(R){var z=!1;return R&&R.hasOwnProperty("type")&&(z=R.type===o.Z.DYNAMIC),z}function me(R){return R&&R.EssentialProperty_asArray&&R.EssentialProperty_asArray.length?R.EssentialProperty_asArray.map(function(z){return{schemeIdUri:z.schemeIdUri,value:z.value}}):null}function _e(R){if(!R||!R.S_asArray)return NaN;var z=R.S_asArray[0],q=R.S_asArray[1];return z.hasOwnProperty("d")?z.d:q.t-z.t}function X(R,z){if(!R)throw new Error("Period cannot be null or undefined");var q=ur.DEFAULT_ID+"_"+z;return R.hasOwnProperty(o.Z.ID)&&R.id.length>0&&R.id!=="__proto__"&&(q=R.id),q}function he(R,z,q){var H,L=[];if(!R)return L;for(H=0;H<R.length;H++){var fe=new za;if(fe.timescale=1,fe.representation=z,!R[H].hasOwnProperty(i.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");fe.schemeIdUri=R[H].schemeIdUri,R[H].hasOwnProperty(o.Z.TIMESCALE)&&(fe.timescale=R[H].timescale),R[H].hasOwnProperty(o.Z.VALUE)&&(fe.value=R[H].value),L.push(fe),fe.period=q}return L}function ee(R){var z=[],q=R.BaseURL_asArray||[R.baseUri],H=!1;return q.some(function(L){if(L){var fe=new vi,ie=L.__text||L;return x.isRelative(ie)&&(H=!0,R.baseUri&&(ie=x.resolve(ie,R.baseUri))),fe.url=ie,L.hasOwnProperty(o.Z.SERVICE_LOCATION)&&L.serviceLocation.length?fe.serviceLocation=L.serviceLocation:fe.serviceLocation=ie,L.hasOwnProperty(o.Z.DVB_PRIORITY)&&(fe.dvbPriority=L[o.Z.DVB_PRIORITY]),L.hasOwnProperty(o.Z.DVB_WEIGHT)&&(fe.dvbWeight=L[o.Z.DVB_WEIGHT]),L.hasOwnProperty(o.Z.AVAILABILITY_TIME_OFFSET)&&(fe.availabilityTimeOffset=L[o.Z.AVAILABILITY_TIME_OFFSET]),L.hasOwnProperty(o.Z.AVAILABILITY_TIME_COMPLETE)&&(fe.availabilityTimeComplete=L[o.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),z.push(fe),H}}),z}function ye(R){var z=new Rt;return z.serverUrl=R.__text,R.hasOwnProperty(o.Z.DEFAULT_SERVICE_LOCATION)&&(z.defaultServiceLocation=R[o.Z.DEFAULT_SERVICE_LOCATION],z.defaultServiceLocationArray=z.defaultServiceLocation.split(" ")),R.hasOwnProperty(o.Z.QUERY_BEFORE_START)&&(z.queryBeforeStart=R[o.Z.QUERY_BEFORE_START].toLowerCase()==="true"),R.hasOwnProperty(o.Z.CLIENT_REQUIREMENT)&&(z.clientRequirement=R[o.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),z}return p={getIsTypeOf:k,getIsText:Q,getIsFragmented:Y,getProducerReferenceTimesForAdaptation:function(R){var z=R&&R.hasOwnProperty(o.Z.PRODUCERREFERENCETIME_ASARRAY)?R[o.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(R&&R.hasOwnProperty(o.Z.REPRESENTATION_ASARRAY)?R[o.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(H){var L;H.hasOwnProperty(o.Z.PRODUCERREFERENCETIME_ASARRAY)&&z.push.apply(z,function(fe){if(Array.isArray(fe))return Rn(fe)}(L=H[o.Z.PRODUCERREFERENCETIME_ASARRAY])||function(fe){if(typeof Symbol<"u"&&Symbol.iterator in Object(fe))return Array.from(fe)}(L)||gn(L)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var q=[];return z.forEach(function(H){var L=new Dt;H.hasOwnProperty(o.Z.ID)&&(L[o.Z.ID]=H[o.Z.ID],H.hasOwnProperty(o.Z.WALL_CLOCK_TIME)&&(L[o.Z.WALL_CLOCK_TIME]=H[o.Z.WALL_CLOCK_TIME],H.hasOwnProperty(o.Z.PRESENTATION_TIME)&&(L[o.Z.PRESENTATION_TIME]=H[o.Z.PRESENTATION_TIME],H.hasOwnProperty(o.Z.INBAND)&&(L[o.Z.INBAND]=H[o.Z.INBAND]!=="false"),H.hasOwnProperty(o.Z.TYPE)&&(L[o.Z.TYPE]=H[o.Z.TYPE]),q.push(L))))}),q},getLanguageForAdaptation:function(R){var z="";return R&&R.hasOwnProperty(o.Z.LANG)&&(z=R.lang),z},getViewpointForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.VIEWPOINT_ASARRAY)&&R[o.Z.VIEWPOINT_ASARRAY].length?R[o.Z.VIEWPOINT_ASARRAY].map(function(z){return new Ye().init(z)}):[]},getRolesForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.ROLE_ASARRAY)&&R[o.Z.ROLE_ASARRAY].length?R[o.Z.ROLE_ASARRAY].map(function(z){return new Ye().init(z)}):[]},getAccessibilityForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.ACCESSIBILITY_ASARRAY)&&R[o.Z.ACCESSIBILITY_ASARRAY].length?R[o.Z.ACCESSIBILITY_ASARRAY].map(function(z){return new Ye().init(z)}):[]},getAudioChannelConfigurationForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&R[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?R[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(z){return new Ye().init(z)}):[]},getAudioChannelConfigurationForRepresentation:function(R){return R&&R.hasOwnProperty(o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&R[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?R[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(z){return new Ye().init(z)}):[]},getAdaptationForIndex:function(R,z,q){var H=K(z,q);return H.length>0&&I(R)?H[R]:null},getIndexForAdaptation:function(R,z,q){if(!R)return-1;for(var H=K(z,q),L=0;L<H.length;L++)if(Bt(F).getInstance().areEqual(H[L],R))return L;return-1},getAdaptationForId:function(R,z,q){var H,L,fe=K(z,q);for(H=0,L=fe.length;H<L;H++)if(fe[H].hasOwnProperty(o.Z.ID)&&fe[H].id===R)return fe[H];return null},getAdaptationsForType:function(R,z,q){var H,L,fe=K(R,z),ie=[];for(H=0,L=fe.length;H<L;H++)k(fe[H],q)&&ie.push(W(fe[H]));return ie},getRealPeriods:ve,getRealPeriodForIndex:function(R,z){var q=ve(z);return q.length>0&&I(R)?q[R]:null},getCodec:function(R,z,q){var H=null;if(R&&R.Representation_asArray&&R.Representation_asArray.length>0){var L=I(z)&&z>=0&&z<R.Representation_asArray.length?R.Representation_asArray[z]:R.Representation_asArray[0];L&&(H=L.mimeType+';codecs="'+L.codecs+'"',q&&L.width!==void 0&&(H+=';width="'+L.width+'";height="'+L.height+'"'))}return H&&(H=H.replace(/\sprofiles=[^;]*/g,"")),H},getSelectionPriority:function(R){try{var z=R&&R.selectionPriority!==void 0?parseInt(R.selectionPriority):1;return isNaN(z)?1:z}catch{return 1}},getMimeType:function(R){return R&&R.Representation_asArray&&R.Representation_asArray.length>0?R.Representation_asArray[0].mimeType:null},getKID:function(R){return R&&R.hasOwnProperty(o.Z.CENC_DEFAULT_KID)?R[o.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(R){if(!R||!Array.isArray(R.Label_asArray))return[];for(var z=[],q=0;q<R.Label_asArray.length;q++)z.push({lang:R.Label_asArray[q].lang,text:R.Label_asArray[q].__text||R.Label_asArray[q]});return z},getContentProtectionData:function(R){return R&&R.hasOwnProperty(o.Z.CONTENTPROTECTION_ASARRAY)&&R.ContentProtection_asArray.length!==0?R.ContentProtection_asArray:null},getIsDynamic:ce,getId:function(R){return R&&R[o.Z.ID]||null},hasProfile:function(R,z){var q=!1;return R&&R.profiles&&R.profiles.length>0&&(q=R.profiles.indexOf(z)!==-1),q},getDuration:function(R){return R&&R.hasOwnProperty(o.Z.MEDIA_PRESENTATION_DURATION)?R.mediaPresentationDuration:R&&R.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(R){return R&&R.bandwidth?R.bandwidth:NaN},getManifestUpdatePeriod:function(R){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=NaN;return R&&R.hasOwnProperty(o.Z.MINIMUM_UPDATE_PERIOD)&&(q=R.minimumUpdatePeriod),isNaN(q)?q:Math.max(q-z,1)},getPublishTime:function(R){return R&&R.hasOwnProperty(o.Z.PUBLISH_TIME)?new Date(R[o.Z.PUBLISH_TIME]):null},getRepresentationCount:function(R){return R&&Array.isArray(R.Representation_asArray)?R.Representation_asArray.length:0},getBitrateListForAdaptation:function(R){var z=W(R);return(z&&Array.isArray(z.Representation_asArray)?z.Representation_asArray:[]).map(function(q){return{bandwidth:q.bandwidth,width:q.width||0,height:q.height||0,scanType:q.scanType||null,id:q.id||null}})},getRepresentationFor:function(R,z){return z&&z.Representation_asArray&&z.Representation_asArray.length>0&&I(R)?z.Representation_asArray[R]:null},getRepresentationsForAdaptation:function(R){var z,q,H,L,fe=[],ie=function(De){if(De&&De.period&&I(De.period.index)){var Be=De.period.mpd.manifest.Period_asArray[De.period.index];if(Be&&Be.AdaptationSet_asArray&&I(De.index))return W(Be.AdaptationSet_asArray[De.index])}}(R);if(ie&&ie.Representation_asArray){if(R&&R.period&&I(R.period.index)){var pe=ee(R.period.mpd.manifest);pe&&(q=pe[0])}for(var se=0,V=ie.Representation_asArray.length;se<V;++se){var ue=ie.Representation_asArray[se],Se=new Er;if(Se.index=se,Se.adaptation=R,ue.hasOwnProperty(o.Z.ID)&&(Se.id=ue.id),ue.hasOwnProperty(o.Z.CODECS)&&(Se.codecs=ue.codecs),ue.hasOwnProperty(o.Z.MIME_TYPE)&&(Se.mimeType=ue[o.Z.MIME_TYPE]),ue.hasOwnProperty(o.Z.CODEC_PRIVATE_DATA)&&(Se.codecPrivateData=ue.codecPrivateData),ue.hasOwnProperty(o.Z.BANDWITH)&&(Se.bandwidth=ue.bandwidth),ue.hasOwnProperty(o.Z.WIDTH)&&(Se.width=ue.width),ue.hasOwnProperty(o.Z.HEIGHT)&&(Se.height=ue.height),ue.hasOwnProperty(o.Z.SCAN_TYPE)&&(Se.scanType=ue.scanType),ue.hasOwnProperty(o.Z.MAX_PLAYOUT_RATE)&&(Se.maxPlayoutRate=ue.maxPlayoutRate),ue.hasOwnProperty(o.Z.SEGMENT_BASE)?(z=ue.SegmentBase,Se.segmentInfoType=o.Z.SEGMENT_BASE):ue.hasOwnProperty(o.Z.SEGMENT_LIST)?(z=ue.SegmentList).hasOwnProperty(o.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=o.Z.SEGMENT_TIMELINE:Se.segmentInfoType=o.Z.SEGMENT_LIST:ue.hasOwnProperty(o.Z.SEGMENT_TEMPLATE)?((z=ue.SegmentTemplate).hasOwnProperty(o.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=o.Z.SEGMENT_TIMELINE:Se.segmentInfoType=o.Z.SEGMENT_TEMPLATE,z.hasOwnProperty(o.Z.INITIALIZATION_MINUS)&&(Se.initialization=z.initialization.split("$Bandwidth$").join(ue.bandwidth).split("$RepresentationID$").join(ue.id))):Se.segmentInfoType=o.Z.BASE_URL,Se.essentialProperties=me(ue),z){if(z.hasOwnProperty(o.Z.INITIALIZATION)){var Ue=z.Initialization;Ue.hasOwnProperty(o.Z.SOURCE_URL)&&(Se.initialization=Ue.sourceURL),Ue.hasOwnProperty(o.Z.RANGE)&&(Se.range=Ue.range)}else Q(ie)&&Y(ie)&&ie.mimeType&&ie.mimeType.indexOf("application/mp4")===-1&&(Se.range=0);z.hasOwnProperty(o.Z.TIMESCALE)&&(Se.timescale=z.timescale),z.hasOwnProperty(o.Z.DURATION)?Se.segmentDuration=z.duration/Se.timescale:ue.hasOwnProperty(o.Z.SEGMENT_TEMPLATE)&&(z=ue.SegmentTemplate).hasOwnProperty(o.Z.SEGMENT_TIMELINE)&&(Se.segmentDuration=_e(z.SegmentTimeline)/Se.timescale),z.hasOwnProperty(o.Z.MEDIA)&&(Se.media=z.media),z.hasOwnProperty(o.Z.START_NUMBER)&&(Se.startNumber=z.startNumber),z.hasOwnProperty(o.Z.INDEX_RANGE)&&(Se.indexRange=z.indexRange),z.hasOwnProperty(o.Z.PRESENTATION_TIME_OFFSET)&&(Se.presentationTimeOffset=z.presentationTimeOffset/Se.timescale),z.hasOwnProperty(o.Z.AVAILABILITY_TIME_OFFSET)?Se.availabilityTimeOffset=z.availabilityTimeOffset:q&&q.availabilityTimeOffset!==void 0&&(Se.availabilityTimeOffset=q.availabilityTimeOffset),z.hasOwnProperty(o.Z.AVAILABILITY_TIME_COMPLETE)?Se.availabilityTimeComplete=z.availabilityTimeComplete!=="false":q&&q.availabilityTimeComplete!==void 0&&(Se.availabilityTimeComplete=q.availabilityTimeComplete)}Se.MSETimeOffset=(L=(H=Se).presentationTimeOffset,H.adaptation.period.start-L),Se.path=[R.period.index,R.index,se],fe.push(Se)}}return fe},getAdaptationsForPeriod:function(R){var z,q,H,L=R&&I(R.index)?R.mpd.manifest.Period_asArray[R.index]:null,fe=[];if(L&&L.AdaptationSet_asArray)for(H=0;H<L.AdaptationSet_asArray.length;H++)q=L.AdaptationSet_asArray[H],z=new xn,q.hasOwnProperty(o.Z.ID)&&(z.id=q.id),z.index=H,z.period=R,k(q,i.Z.MUXED)?z.type=i.Z.MUXED:k(q,i.Z.AUDIO)?z.type=i.Z.AUDIO:$(q)?z.type=i.Z.VIDEO:Q(q)?z.type=i.Z.TEXT:j(q)?z.type=i.Z.IMAGE:d.warn("Unknown Adaptation stream type"),fe.push(z);return fe},getRegularPeriods:function(R){var z,q,H=!!R&&ce(R.manifest),L=[],fe=null,ie=null,pe=null,se=null;for(q=0,z=R&&R.manifest&&R.manifest.Period_asArray?R.manifest.Period_asArray.length:0;q<z;q++)(ie=R.manifest.Period_asArray[q]).hasOwnProperty(o.Z.START)?(se=new ur).start=ie.start:fe!==null&&fe.hasOwnProperty(o.Z.DURATION)&&pe!==null?(se=new ur).start=parseFloat((pe.start+pe.duration).toFixed(5)):q!==0||H||((se=new ur).start=0),pe!==null&&isNaN(pe.duration)&&(se!==null?pe.duration=parseFloat((se.start-pe.start).toFixed(5)):d.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),se!==null&&(se.id=X(ie,q),se.index=q,se.mpd=R,ie.hasOwnProperty(o.Z.DURATION)&&(se.duration=ie.duration),pe&&(pe.nextPeriodId=se.id),L.push(se),fe=ie,pe=se),ie=null,se=null;return L.length===0||pe!==null&&isNaN(pe.duration)&&(pe.duration=parseFloat((function(V){(function(){if(!y||!y.hasOwnProperty("error"))throw new Error(i.Z.MISSING_CONFIG_ERROR)})();var ue,Se=ce(V.mpd.manifest);return V.mpd.manifest.mediaPresentationDuration?ue=V.mpd.manifest.mediaPresentationDuration:V.duration?ue=V.duration:Se?ue=Number.POSITIVE_INFINITY:y.error(new de.Z(ae.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",V)),ue}(pe)-pe.start).toFixed(5))),L},getMpd:function(R){var z=new Nr;return R&&(z.manifest=R,R.hasOwnProperty(o.Z.AVAILABILITY_START_TIME)?z.availabilityStartTime=new Date(R.availabilityStartTime.getTime()):R.loadedTime&&(z.availabilityStartTime=new Date(R.loadedTime.getTime())),R.hasOwnProperty(o.Z.AVAILABILITY_END_TIME)&&(z.availabilityEndTime=new Date(R.availabilityEndTime.getTime())),R.hasOwnProperty(o.Z.MINIMUM_UPDATE_PERIOD)&&(z.minimumUpdatePeriod=R.minimumUpdatePeriod),R.hasOwnProperty(o.Z.MEDIA_PRESENTATION_DURATION)&&(z.mediaPresentationDuration=R.mediaPresentationDuration),R.hasOwnProperty(o.Z.SUGGESTED_PRESENTATION_DELAY)&&(z.suggestedPresentationDelay=R.suggestedPresentationDelay),R.hasOwnProperty(o.Z.TIMESHIFT_BUFFER_DEPTH)&&(z.timeShiftBufferDepth=R.timeShiftBufferDepth),R.hasOwnProperty(o.Z.MAX_SEGMENT_DURATION)&&(z.maxSegmentDuration=R.maxSegmentDuration),R.hasOwnProperty(o.Z.PUBLISH_TIME)&&(z.publishTime=new Date(R.publishTime))),z},getEventsForPeriod:function(R){var z,q,H=R&&R.mpd&&R.mpd.manifest?R.mpd.manifest:null,L=H?H.Period_asArray:null,fe=L&&R&&I(R.index)?L[R.index].EventStream_asArray:null,ie=[];if(fe)for(z=0;z<fe.length;z++){var pe=new za;if(pe.period=R,pe.timescale=1,!fe[z].hasOwnProperty(i.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(pe.schemeIdUri=fe[z][i.Z.SCHEME_ID_URI],fe[z].hasOwnProperty(o.Z.TIMESCALE)&&(pe.timescale=fe[z][o.Z.TIMESCALE]),fe[z].hasOwnProperty(o.Z.VALUE)&&(pe.value=fe[z][o.Z.VALUE]),fe[z].hasOwnProperty(o.Z.PRESENTATION_TIME_OFFSET)&&(pe.presentationTimeOffset=fe[z][o.Z.PRESENTATION_TIME_OFFSET]),q=0;fe[z].Event_asArray&&q<fe[z].Event_asArray.length;q++){var se=fe[z].Event_asArray[q],V=new Cr;V.presentationTime=0,V.eventStream=pe,se.hasOwnProperty(o.Z.PRESENTATION_TIME)&&(V.presentationTime=se.presentationTime);var ue=pe.presentationTimeOffset?pe.presentationTimeOffset/pe.timescale:0;V.calculatedPresentationTime=V.presentationTime/pe.timescale+R.start-ue,se.hasOwnProperty(o.Z.DURATION)&&(V.duration=se.duration/pe.timescale),se.hasOwnProperty(o.Z.ID)?V.id=se.id:V.id=null,se.Signal&&se.Signal.Binary?V.messageData=D.decodeArray(se.Signal.Binary.toString()):V.messageData=se.messageData||se.__cdata||se.__text,ie.push(V)}}return ie},getEssentialPropertiesForAdaptation:function(R){var z={};if(R&&R.hasOwnProperty(o.Z.ESSENTIAL_PROPERTY_ASARRAY)){var q,H=en(R.EssentialProperty_asArray);try{for(H.s();!(q=H.n()).done;){var L=q.value;L.hasOwnProperty(i.Z.SCHEME_ID_URI)&&(z[L[i.Z.SCHEME_ID_URI]]=bt({},L))}}catch(fe){H.e(fe)}finally{H.f()}}return z},getEssentialPropertiesAsArrayForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.ESSENTIAL_PROPERTY_ASARRAY)&&R.EssentialProperty_asArray.length?R.EssentialProperty_asArray.map(function(z){return new Ye().init(z)}):[]},getEssentialPropertiesForRepresentation:me,getEventStreamForAdaptationSet:function(R,z,q){var H,L,fe;return R&&R.Period_asArray&&z&&z.period&&I(z.period.index)&&(L=R.Period_asArray[z.period.index])&&L.AdaptationSet_asArray&&I(z.index)&&(fe=L.AdaptationSet_asArray[z.index])&&(H=fe.InbandEventStream_asArray),he(H,null,q)},getEventStreamForRepresentation:function(R,z,q){var H,L,fe,ie;return R&&R.Period_asArray&&z&&z.adaptation&&z.adaptation.period&&I(z.adaptation.period.index)&&(L=R.Period_asArray[z.adaptation.period.index])&&L.AdaptationSet_asArray&&I(z.adaptation.index)&&(fe=L.AdaptationSet_asArray[z.adaptation.index])&&fe.Representation_asArray&&I(z.index)&&(ie=fe.Representation_asArray[z.index])&&(H=ie.InbandEventStream_asArray),he(H,z,q)},getUTCTimingSources:function(R){var z=ce(R),q=!!R&&R.hasOwnProperty(o.Z.AVAILABILITY_START_TIME),H=R?R.UTCTiming_asArray:null,L=[];return(z||q)&&H&&H.forEach(function(fe){var ie=new ai.Z;fe.hasOwnProperty(i.Z.SCHEME_ID_URI)&&(ie.schemeIdUri=fe.schemeIdUri,fe.hasOwnProperty(o.Z.VALUE)&&(ie.value=fe.value.toString(),L.push(ie)))}),L},getBaseURLsFromElement:ee,getRepresentationSortFunction:function(){return function(R,z){return R.bandwidth-z.bandwidth}},getContentSteering:function(R){if(R&&R.hasOwnProperty(o.Z.CONTENT_STEERING_AS_ARRAY))return ye(R[o.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(R){return R&&R.hasOwnProperty(o.Z.LOCATION_AS_ARRAY)?R[o.Z.LOCATION_AS_ARRAY].map(function(z){var q=z.__text||z,H=z.hasOwnProperty(o.Z.SERVICE_LOCATION)?z[o.Z.SERVICE_LOCATION]:null;return new on(q,H)}):[]},getPatchLocation:function(R){return R&&R.hasOwnProperty(o.Z.PATCH_LOCATION_AS_ARRAY)?R[o.Z.PATCH_LOCATION_AS_ARRAY].map(function(z){var q=z.__text||z,H=z.hasOwnProperty(o.Z.SERVICE_LOCATION)?z[o.Z.SERVICE_LOCATION]:null,L=z.hasOwnProperty(o.Z.TTL)?1e3*parseFloat(z[o.Z.TTL]):NaN;return new an(q,H,L)}):[]},getSuggestedPresentationDelay:function(R){return R&&R.hasOwnProperty(o.Z.SUGGESTED_PRESENTATION_DELAY)?R.suggestedPresentationDelay:null},getAvailabilityStartTime:function(R){return R&&R.hasOwnProperty(o.Z.AVAILABILITY_START_TIME)&&R.availabilityStartTime!==null?R.availabilityStartTime.getTime():null},getServiceDescriptions:function(R){var z=[];if(R&&R.hasOwnProperty(o.Z.SERVICE_DESCRIPTION)){var q,H=en(R.ServiceDescription_asArray);try{for(H.s();!(q=H.n()).done;){var L=q.value,fe=null,ie=null,pe=null,se=null,V=null,ue=null,Se=null;for(var Ue in L)L.hasOwnProperty(Ue)&&(Ue===o.Z.ID?fe=L[Ue]:Ue===o.Z.SERVICE_DESCRIPTION_SCOPE?ie=L[Ue].schemeIdUri:Ue===o.Z.SERVICE_DESCRIPTION_LATENCY?pe={target:parseInt(L[Ue].target),max:parseInt(L[Ue].max),min:parseInt(L[Ue].min),referenceId:parseInt(L[Ue].referenceId)}:Ue===o.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?se={max:parseFloat(L[Ue].max),min:parseFloat(L[Ue].min)}:Ue===o.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?V={mediaType:L[Ue].mediaType,max:parseInt(L[Ue].max),min:parseInt(L[Ue].min),target:parseInt(L[Ue].target),type:L[Ue].type,maxQualityDifference:parseInt(L[Ue].maxQualityDifference)}:Ue===o.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?ue={mediaType:L[Ue].mediaType,max:parseInt(L[Ue].max),min:parseInt(L[Ue].min),target:parseInt(L[Ue].target)}:Ue===o.Z.CONTENT_STEERING&&(Se=ye(L[Ue])));z.push({id:fe,schemeIdUri:ie,latency:pe,playbackRate:se,operatingQuality:V,operatingBandwidth:ue,contentSteering:Se})}}catch(De){H.e(De)}finally{H.f()}}return z},getSegmentAlignment:function(R){return!(!R||!R.hasOwnProperty(o.Z.SEGMENT_ALIGNMENT))&&R[o.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(R){return!(!R||!R.hasOwnProperty(o.Z.SUB_SEGMENT_ALIGNMENT))&&R[o.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(R){var z={};if(R&&R.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var q,H=en(R.SupplementalProperty_asArray);try{for(H.s();!(q=H.n()).done;){var L=q.value;L.hasOwnProperty(i.Z.SCHEME_ID_URI)&&(z[L[i.Z.SCHEME_ID_URI]]=bt({},L))}}catch(fe){H.e(fe)}finally{H.f()}}return z},getSupplementalPropertiesAsArrayForAdaptation:function(R){return R&&R.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&R.SupplementalProperty_asArray.length?R.SupplementalProperty_asArray.map(function(z){return new Ye().init(z)}):[]},getSupplementalPropertiesForRepresentation:function(R){var z={};if(R&&R.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var q,H=en(R.SupplementalProperty_asArray);try{for(H.s();!(q=H.n()).done;){var L=q.value;L.hasOwnProperty(i.Z.SCHEME_ID_URI)&&(z[L[i.Z.SCHEME_ID_URI]]=bt({},L))}}catch(fe){H.e(fe)}finally{H.f()}}return z},getSupplementalPropertiesAsArrayForRepresentation:function(R){return R&&R.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&R.SupplementalProperty_asArray.length?R.SupplementalProperty_asArray.map(function(z){return new Ye().init(z)}):[]},setConfig:function(R){R&&(R.errHandler&&(y=R.errHandler),R.BASE64&&(D=R.BASE64))}},d=(0,g.Z)(F).getInstance().getLogger(p),p}kn.__dashjs_factory_name="DashManifestModel";var ln=b.Z.getSingletonFactory(kn),At=E(703);function Ot(p,d){var y;if(typeof Symbol>"u"||p[Symbol.iterator]==null){if(Array.isArray(p)||(y=function(Y,$){if(Y){if(typeof Y=="string")return Yt(Y,$);var Q=Object.prototype.toString.call(Y).slice(8,-1);return Q==="Object"&&Y.constructor&&(Q=Y.constructor.name),Q==="Map"||Q==="Set"?Array.from(Y):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?Yt(Y,$):void 0}}(p))||d&&p&&typeof p.length=="number"){y&&(p=y);var D=0,F=function(){};return{s:F,n:function(){return D>=p.length?{done:!0}:{done:!1,value:p[D++]}},e:function(Y){throw Y},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,I=!0,k=!1;return{s:function(){y=p[Symbol.iterator]()},n:function(){var Y=y.next();return I=Y.done,Y},e:function(Y){k=!0,x=Y},f:function(){try{I||y.return==null||y.return()}finally{if(k)throw x}}}}function Yt(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}function pn(){var p,d,y,D,F,x,I,k,Y,$,Q=this.context,j=(0,T.Z)(Q).getInstance(),W=(0,we.Z)(Q).getInstance();function K(){y={pr:1,nor:null,st:null,sf:null,sid:"".concat(At.Z.generateUuid()),cid:null},Y={},k={},$={},ce()}function ve(){ce()}function ce(){if(x){var L=x.getStreamController();if(L&&typeof L.getActiveStream=="function"){var fe=L.getActiveStream();fe&&(I=fe.getProcessors())}}}function me(L,fe){var ie,pe={},se=Ot(fe);try{for(se.s();!(ie=se.n()).done;){var V=ie.value;L[V]&&(pe[V]=L[V])}}catch(ue){se.e(ue)}finally{se.f()}return pe}function _e(L){var fe=W.get().streaming.cmcd.enabledKeys;return L.filter(function(ie){return fe.includes(ie)})}function X(L){try{return L.type===Pe.w.MPD_TYPE?((ie=he()).ot="m",ie):L.type===Pe.w.MEDIA_SEGMENT_TYPE?(fe=L.mediaType,$.hasOwnProperty(fe)||($[fe]=!1),k.hasOwnProperty(fe)||(k[fe]=!1),Y.hasOwnProperty(fe)||(Y[fe]=!1),function(pe){var se,V=he(),ue=function(ot){try{var Zt=ot.quality,Ne=ot.mediaInfo.bitrateList;return parseInt(Ne[Zt].bandwidth/1e3)}catch{return null}}(pe),Se=function(ot){try{return isNaN(ot.duration)?NaN:Math.round(1e3*ot.duration)}catch{return null}}(pe),Ue=function(ot){try{return 100*parseInt(D.getThroughputHistory().getSafeAverageThroughput(ot)/100)}catch{return null}}(pe.mediaType),De=function(ot){try{var Zt=y.pr,Ne=F.getCurrentBufferLevel(ot);return isNaN(Zt)||isNaN(Ne)?null:100*parseInt(Ne/Zt*10)}catch{return null}}(pe.mediaType),Be=ee(pe.mediaType),Le=function(ot){try{var Zt=D.getTopBitrateInfoFor(ot);return Math.round(Zt.bitrate/1e3)}catch{return null}}(pe.mediaType),lt=y.pr,ct=function(ot){if(I&&I.length!==0){var Zt,Ne=Ot(I);try{for(Ne.s();!(Zt=Ne.n()).done;){var qe=Zt.value;if(qe.getType()===ot)return qe.probeNextRequest()}}catch(mt){Ne.e(mt)}finally{Ne.f()}}}(pe.mediaType);pe.mediaType===i.Z.VIDEO&&(se="v"),pe.mediaType===i.Z.AUDIO&&(se="a"),pe.mediaType===i.Z.TEXT&&(se=pe.mediaInfo.mimeType==="application/mp4"?"tt":"c");var rt=W.get().streaming.cmcd.rtp;return rt||(rt=function(ot){try{var Zt=x.getPlaybackRate();Zt||(Zt=1);var Ne=ot.quality,qe=ot.mediaType,mt=ot.mediaInfo,Xe=ot.duration;if(!mt)return NaN;var Tt=ee(qe);Tt===0&&(Tt=500);var _t=mt.bitrateList[Ne].bandwidth*Xe/1e3/(Tt/Zt/1e3),pt=W.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(W.get().streaming.cmcd.rtpSafetyFactor)?W.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(_t*pt/100)+1)}catch{return NaN}}(pe)),isNaN(rt)||(V.rtp=rt),ct&&(pe.url!==ct.url?V.nor=encodeURIComponent(At.Z.getRelativeUrl(pe.url,ct.url)):ct.range&&(V.nrr=ct.range)),ue&&(V.br=ue),se&&(V.ot=se),isNaN(Se)||(V.d=Se),isNaN(Ue)||(V.mtp=Ue),isNaN(De)||(V.dl=De),isNaN(Be)||(V.bl=Be),isNaN(Le)||(V.tb=Le),isNaN(lt)||lt===1||(V.pr=lt),Y[pe.mediaType]&&(V.bs=!0,Y[pe.mediaType]=!1),!k[pe.mediaType]&&$[pe.mediaType]||(V.su=!0,k[pe.mediaType]=!1,$[pe.mediaType]=!0),V}(L)):L.type===Pe.w.INIT_SEGMENT_TYPE?function(){var pe=he();return pe.ot="i",pe.su=!0,pe}():L.type===Pe.w.OTHER_TYPE||L.type===Pe.w.XLINK_EXPANSION_TYPE?function(){var pe=he();return pe.ot="o",pe}():L.type===Pe.w.LICENSE?function(pe){var se=he();return se.ot="k",se}():null}catch{return null}var fe,ie}function he(){var L={},fe=W.get().streaming.cmcd.cid?W.get().streaming.cmcd.cid:y.cid;return L.v=1,L.sid=W.get().streaming.cmcd.sid?W.get().streaming.cmcd.sid:y.sid,L.sid="".concat(L.sid),fe&&(L.cid="".concat(fe)),isNaN(y.pr)||y.pr===1||y.pr===null||(L.pr=y.pr),y.st&&(L.st=y.st),y.sf&&(L.sf=y.sf),L}function ee(L){try{var fe=F.getCurrentBufferLevel(L);return isNaN(fe)?null:100*parseInt(10*fe)}catch{return null}}function ye(L){try{y.pr=L.playbackRate}catch{}}function R(L){try{var fe=p.getIsDynamic(L.data)?"l":"v",ie=L.protocol&&L.protocol==="MSS"?"s":"d";y.st="".concat(fe),y.sf="".concat(ie)}catch{}}function z(L){try{L.state&&L.mediaType&&L.state===u.Z.BUFFER_EMPTY&&(Y[L.mediaType]||(Y[L.mediaType]=!0),k[L.mediaType]||(k[L.mediaType]=!0))}catch{}}function q(){for(var L in Y)Y.hasOwnProperty(L)&&(Y[L]=!0);for(var fe in k)k.hasOwnProperty(fe)&&(k[fe]=!0)}function H(L){try{if(!L)return null;var fe=Object.keys(L).sort(function(se,V){return se.localeCompare(V)}),ie=fe.length,pe=fe.reduce(function(se,V,ue){return V==="v"&&L[V]===1||(typeof L[V]=="string"&&V!=="ot"&&V!=="sf"&&V!=="st"?se+="".concat(V,"=").concat(JSON.stringify(L[V])):se+="".concat(V,"=").concat(L[V]),ue<ie-1&&(se+=",")),se},"");return(pe=pe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return d={getQueryParameter:function(L){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var fe=X(L),ie=function(se){try{var V=W.get().streaming.cmcd.enabledKeys;return Object.keys(se).filter(function(ue){return V.includes(ue)}).reduce(function(ue,Se){return ue[Se]=se[Se],ue},{})}catch{return se}}(fe),pe=H(ie);return j.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:L.url,mediaType:L.mediaType,cmcdData:fe,cmcdString:pe}),{key:"CMCD",value:pe}}return null}catch{return null}},getHeaderParameters:function(L){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var fe=X(L),ie=me(fe,_e(["br","d","ot","tb"])),pe=me(fe,_e(["bl","dl","mtp","nor","nrr","su"])),se=me(fe,_e(["bs","rtp"])),V=me(fe,_e(["cid","pr","sf","sid","st","v"])),ue={"CMCD-Object":H(ie),"CMCD-Request":H(pe),"CMCD-Status":H(se),"CMCD-Session":H(V)};return j.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:L.url,mediaType:L.mediaType,cmcdData:fe,headers:ue}),ue}return null}catch{return null}},setConfig:function(L){L&&(L.abrController&&(D=L.abrController),L.dashMetrics&&(F=L.dashMetrics),L.playbackController&&(x=L.playbackController))},reset:function(){j.off(u.Z.PLAYBACK_RATE_CHANGED,ye,this),j.off(u.Z.MANIFEST_LOADED,R,this),j.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,z,d),j.off(u.Z.PLAYBACK_SEEKED,q,d),K()},initialize:function(){j.on(u.Z.PLAYBACK_RATE_CHANGED,ye,d),j.on(u.Z.MANIFEST_LOADED,R,d),j.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,z,d),j.on(u.Z.PLAYBACK_SEEKED,q,d),j.on(u.Z.PERIOD_SWITCH_COMPLETED,ve,d)}},p=ln(Q).getInstance(),K(),d}pn.__dashjs_factory_name="CmcdModel";var En=b.Z.getSingletonFactory(pn);function On(p){return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},On(p)}function Fn(p,d){Fn=function(k,Y){return new x(k,void 0,Y)};var y=wr(RegExp),D=RegExp.prototype,F=new WeakMap;function x(k,Y,$){var Q=y.call(this,k,Y);return F.set(Q,$||F.get(k)),Q}function I(k,Y){var $=F.get(Y);return Object.keys($).reduce(function(Q,j){return Q[j]=k[$[j]],Q},Object.create(null))}return Ar(x,y),x.prototype.exec=function(k){var Y=D.exec.call(this,k);return Y&&(Y.groups=I(Y,this)),Y},x.prototype[Symbol.replace]=function(k,Y){if(typeof Y=="string"){var $=F.get(this);return D[Symbol.replace].call(this,k,Y.replace(/\$<([^>]+)>/g,function(j,W){return"$"+$[W]}))}if(typeof Y=="function"){var Q=this;return D[Symbol.replace].call(this,k,function(){var j=[];return j.push.apply(j,arguments),On(j[j.length-1])!=="object"&&j.push(I(j,Q)),Y.apply(this,j)})}return D[Symbol.replace].call(this,k,Y)},Fn.apply(this,arguments)}function Ar(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d&&er(p,d)}function wr(p){var d=typeof Map=="function"?new Map:void 0;return wr=function(y){if(y===null||(D=y,Function.toString.call(D).indexOf("[native code]")===-1))return y;var D;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(y))return d.get(y);d.set(y,F)}function F(){return Wn(y,arguments,br(this).constructor)}return F.prototype=Object.create(y.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),er(F,y)},wr(p)}function Wn(p,d,y){return Wn=hr()?Reflect.construct:function(D,F,x){var I=[null];I.push.apply(I,F);var k=new(Function.bind.apply(D,I));return x&&er(k,x.prototype),k},Wn.apply(null,arguments)}function hr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function er(p,d){return er=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},er(p,d)}function br(p){return br=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},br(p)}var bo="static",Ei="dynamic",Mi="cmsd-",xr=Mi+bo,dl=Mi+Ei,Ya="stream",hl=["mb","st","sf","v"],pl={video:"v",audio:"a",text:"tt",stream:Ya},gl=/^[-0-9]/;function Va(){var p,d,y,D,F=this.context,x=(0,T.Z)(F).getInstance();function I(){y={},D={}}function k(K){K&&Object.keys(K).forEach(function(ve){hl.includes(ve)||delete K[ve]})}function Y(K){return!K||K.toLowerCase()!=="false"&&(gl.test(K)?parseInt(K,10):K.replace(/["]+/g,""))}function $(K){try{for(var ve={},ce=K.split(","),me=0;me<ce.length;me++){var _e=ce[me].split("="),X=_e[0],he=Y(_e[1]);ve[X]=he}return ve}catch(ee){d.error("Failed to parse CMSD-Static response header value:",ee)}}function Q(K){try{for(var ve={},ce=K.split(","),me=ce[ce.length-1].split(";"),_e=1;_e<me.length;_e++){var X=me[_e].split("="),he=X[0],ee=Y(X[1]);ve[he]=ee}return ve}catch(ye){return d.error("Failed to parse CMSD-Dynamic response header value:",ye),[]}}function j(K){return pl[K]||"o"}function W(K,ve,ce){var me=K===bo?y:D,_e=me[ve]||{},X=me[Ya]||{};return _e[ce]||X[ce]}return p={setConfig:function(){},initialize:function(){},reset:function(){I()},parseResponseHeaders:function(K,ve){for(var ce=null,me=null,_e=K.split(`\r
`),X=_e.length-1;X>=0;X--){var he=_e[X].match(Fn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(he&&he.groups){var ee=he.groups.key.toLowerCase(),ye=he.groups.value;switch(ee){case xr:ce=$(ye),x.trigger(c.Z.CMSD_STATIC_HEADER,ce);break;case dl:me||(me=Q(ye))}}}var R=Ya;return ce&&ce.ot?R=ce.ot:ve&&(R=j(ve)),k(y[R]),k(D[R]),ce&&(y[R]=Object.assign(y[R]||{},ce)),me&&(D[R]=Object.assign(D[R]||{},me)),{static:ce,dynamic:me}},getMaxBitrate:function(K){var ve=j(K);return W(Ei,ve,"mb")||-1},getEstimatedThroughput:function(K){var ve=j(K);return W(Ei,ve,"etp")||null},getResponseDelay:function(K){var ve=j(K);return W(Ei,ve,"rd")||null},getRoundTripTime:function(K){var ve=j(K);return W(Ei,ve,"rtt")||null}},d=(0,g.Z)(F).getInstance().getLogger(p),I(),p}Va.__dashjs_factory_name="CmsdModel";var kt=b.Z.getSingletonFactory(Va);function fn(){var p,d,y=this.context,D={};function F(){d=(0,g.Z)(y).getInstance().getLogger(p)}function x(k){for(var Y={},$=0,Q=0,j=0,W=0,K=k.length,ve=0;ve<K;++ve)$+=k[ve].chunkDownloadTimeRelativeMS,Q+=k[ve].bufferLevel,j+=k[ve].chunkDownloadTimeRelativeMS*k[ve].bufferLevel,W+=k[ve].chunkDownloadTimeRelativeMS*k[ve].chunkDownloadTimeRelativeMS;return Y.m=(j-$*Q/K)/(W-$*$/K),Y.b=Q/K-Y.m*$/K,function(ce){return Y.m*ce+Y.b}}function I(k){var Y,$=!0,Q=k.reduce(function(j,W){return j+W.bufferLevelAtSegmentEnd},0)/k.length;return k.forEach(function(j){Math.abs(j.bufferLevelAtSegmentEnd/j.bufferLevelAtSegmentStart)<.95&&($=!1),j.bufferLevelAtSegmentEnd/Q<.8&&($=!1),Y?Y>j.bitrate&&($=!1):Y=j.bitrate}),$}return p={setup:F,addMeasurement:function(k,Y,$,Q,j){k&&k.mediaType&&!D[k.mediaType]&&(D[k.mediaType]=[]);var W=k.mediaInfo.bitrateList.find(function(K){return K.id===k.representationId});D[k.mediaType].push({index:k.index,repId:k.representationId,mediaType:k.mediaType,requestTimeMS:Q,adjustedAvailabilityStartTimeMS:k.availabilityStartTime.getTime(),segDurationMS:1e3*k.duration,chunksDurationMS:$.reduce(function(K,ve){return K+ve.chunkDownloadDurationMS},0),segmentBytes:$.reduce(function(K,ve){return K+ve.chunkBytes},0),bitrate:W&&W.bandwidth,bitrateList:k.mediaInfo.bitrateList,chunkMeasurements:$,fetchDownloadDurationMS:Y,throughputCapacityDelayMS:j,getEstimatedBufferLevel:x($.slice(1))}),D[k.mediaType].length>10&&D[k.mediaType].shift()},getThroughputCapacityDelayMS:function(k,Y){var $=D[k.mediaType]&&D[k.mediaType].slice(-3);return!$||$.length<3?0:I($)?Y/4>250?250:Y/4:0},getEstimatedDownloadDurationMS:function(k){var Y=D[k.mediaType].slice(-1).pop(),$=D[k.mediaType].slice(-3),Q=Y.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;Y.bufferLevelAtSegmentStart=Y.getEstimatedBufferLevel(Q/2),Y.bufferLevelAtSegmentEnd=Y.getEstimatedBufferLevel(Q);var j=I($),W=j?.6:.8;if(Y.isBufferStable&&1.05*Y.segDurationMS<Y.fetchDownloadDurationMS)return Y.fetchDownloadDurationMS;if(!j||Y.segDurationMS<Y.fetchDownloadDurationMS||Y.adjustedAvailabilityStartTimeMS<=Y.requestTimeMS+Y.throughputCapacityDelayMS-Y.segDurationMS)return .8*Y.fetchDownloadDurationMS;for(var K=Y.requestTimeMS+Y.throughputCapacityDelayMS-Y.adjustedAvailabilityStartTimeMS,ve=0,ce=0,me=0,_e=0;_e<Y.chunkMeasurements.length;_e++){var X=Y.chunkMeasurements[_e];if(K<ce+X.chunkDownloadDurationMS)break;ce+=X.chunkDownloadDurationMS,ve+=X.chunkBytes,me++}if(K<0&&d.warn("request time was before adjusted availibitly start time"),ve&&ce&&me>.2*Y.chunkMeasurements.length){var he=ve/ce,ee=Y.segmentBytes/he;return Y.fetchDownloadDurationMS<ee?Y.fetchDownloadDurationMS*W:ee*W}var ye=Y.bitrate;return Y.bitrateList.some(function(R){if(R.bandwidth>Y.bitrate)return ye=R.bandwidth,!0}),ye===Y.bitrate?Y.fetchDownloadDurationMS*W:W*Y.segmentBytes*8*1e3/ye}},F(),p}fn.__dashjs_factory_name="LowLatencyThroughputModel";var wn=b.Z.getSingletonFactory(fn),tr=E(5717);function Zn(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function pr(p){p=p||{};var d,y,D,F,x,I,k,Y,$,Q,j,W=this.context,K=p.errHandler,ve=p.dashMetrics,ce=p.mediaPlayerModel,me=p.requestModifier,_e=p.boxParser,X=p.errors,he=p.requestTimeout||0,ee=(0,T.Z)(W).getInstance(),ye=(0,we.Z)(W).getInstance();function R(z,q){var H,L=z.request,fe=[],ie=!0,pe=!0,se=new Date,V=se,ue=0,Se=null,Ue=null;if(!me||!ve||!K)throw new Error("config object is not correct or missing");var De,Be=function(Tt){L.requestStartDate=se,L.requestEndDate=new Date,L.firstByteDate=L.firstByteDate||se,L.fileLoaderType=Ue;var _t=H.response?H.response.responseURL:null,pt=H.response?H.response.status:null,Qt=H.response&&H.response.getAllResponseHeaders?H.response.getAllResponseHeaders():H.response?H.response.responseHeaders:null,Wt=Qt&&ye.get().streaming.cmsd&&ye.get().streaming.cmsd.enabled?k.parseResponseHeaders(Qt,L.mediaType):null;ve.addHttpRequest(L,_t,pt,Qt,Tt?fe:null,Wt)},Le=function(Tt){pe=!1,Be(Tt),L.type===Pe.w.MPD_TYPE&&(ve.addManifestUpdate(L),ee.trigger(c.Z.MANIFEST_LOADING_FINISHED,{request:L}))},lt=function(){if(Se&&(clearTimeout(Se),Se=null),y.indexOf(H)!==-1&&(y.splice(y.indexOf(H),1),pe))if(Le(!1),q>0){try{ye.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&L.type===Pe.w.MEDIA_SEGMENT_TYPE&&ce.getRetryAttemptsForType(Pe.w.MEDIA_SEGMENT_TYPE)===q&&ee.trigger(c.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}q--;var Tt={config:z};F.push(Tt),Tt.timeout=setTimeout(function(){F.indexOf(Tt)!==-1&&(F.splice(F.indexOf(Tt),1),R(z,q))},ce.getRetryIntervalsForType(L.type))}else{if(L.type===Pe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;K.error(new de.Z(x[L.type],L.url+" is not available",{request:L,response:H.response})),z.error&&z.error(L,"error",H.response.statusText,H.response),z.complete&&z.complete(L,H.response.statusText)}};L.hasOwnProperty("availabilityTimeComplete")&&L.availabilityTimeComplete===!1&&window.fetch&&L.responseType==="arraybuffer"&&L.type===Pe.w.MEDIA_SEGMENT_TYPE?((De=qn(W).create({requestModifier:me,lowLatencyThroughputModel:$,boxParser:_e})).setup({dashMetrics:ve}),Ue=i.Z.FILE_LOADER_TYPES.FETCH):(De=(0,qt.Z)(W).create({requestModifier:me}),Ue=i.Z.FILE_LOADER_TYPES.XHR);var ct=null,rt=me.modifyRequestURL?me.modifyRequestURL(L.url):L.url;if(ye.get().streaming.cmcd&&ye.get().streaming.cmcd.enabled){var ot=ye.get().streaming.cmcd.mode;if(ot===i.Z.CMCD_MODE_QUERY){var Zt=function(Tt){try{var _t=[],pt=I.getQueryParameter(Tt);return pt&&_t.push(pt),_t}catch{return[]}}(L);rt=At.Z.addAditionalQueryParameterToUrl(rt,Zt)}else ot===i.Z.CMCD_MODE_HEADER&&(ct=I.getHeaderParameters(L))}var Ne=Y.getXHRWithCredentialsForType(L.type);if(L.queryParams){var qe=Object.keys(L.queryParams).map(function(Tt){return{key:Tt,value:L.queryParams[Tt]}});rt=At.Z.addAditionalQueryParameterToUrl(rt,qe)}L.url=rt,H={url:rt,method:Pe.w.GET,withCredentials:Ne,request:L,onload:function(){H.response.status>=200&&H.response.status<=299&&(Le(!0),z.success&&z.success(H.response.response,H.response.statusText,H.response.responseURL),z.complete&&z.complete(L,H.response.statusText))},onend:lt,onerror:lt,progress:function(Tt){var _t=new Date;ie&&(ie=!1,(!Tt.lengthComputable||Tt.lengthComputable&&Tt.total!==Tt.loaded)&&(L.firstByteDate=_t)),Tt.lengthComputable&&(L.bytesLoaded=Tt.loaded,L.bytesTotal=Tt.total),Tt.noTrace||(fe.push({s:V,d:Tt.time?Tt.time:_t.getTime()-V.getTime(),b:[Tt.loaded?Tt.loaded-ue:0]}),V=_t,ue=Tt.loaded),Se&&(clearTimeout(Se),Se=null),ye.get().streaming.fragmentRequestProgressTimeout>0&&(Se=setTimeout(function(){Q.warn("Abort request "+H.url+" due to progress timeout"),H.response.onabort=null,H.loader.abort(H),lt()},ye.get().streaming.fragmentRequestProgressTimeout)),z.progress&&Tt&&z.progress(Tt)},onabort:function(){Be(!0),Se&&(clearTimeout(Se),Se=null),z.abort&&z.abort(L)},ontimeout:function(Tt){var _t;if(Tt.lengthComputable){var pt=Tt.loaded/Tt.total*100;_t="Request timeout: loaded: "+Tt.loaded+", out of: "+Tt.total+" : "+pt.toFixed(3)+"% Completed"}else _t="Request timeout: non-computable download size";Q.warn(_t)},loader:De,timeout:he,headers:ct};var mt=new Date().getTime();if(isNaN(L.delayLoadingTime)||mt>=L.delayLoadingTime)y.push(H),De.load(H);else{var Xe={httpRequest:H};D.push(Xe),Xe.delayTimeout=setTimeout(function(){if(D.indexOf(Xe)!==-1){D.splice(D.indexOf(Xe),1);try{se=new Date,V=se,y.push(Xe.httpRequest),De.load(Xe.httpRequest)}catch{Xe.httpRequest.onerror()}}},L.delayLoadingTime-mt)}}return d={load:function(z){z.request?R(z,ce.getRetryAttemptsForType(z.request.type)):z.error&&z.error(z.request,"error")},abort:function(){F.forEach(function(z){clearTimeout(z.timeout),z.config.request&&z.config.abort&&z.config.abort(z.config.request)}),F=[],D.forEach(function(z){return clearTimeout(z.delayTimeout)}),D=[],y.forEach(function(z){z.request.type!==Pe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(z.onloadend=z.onerror=z.onprogress=void 0,z.loader.abort(z))}),y=[]}},Q=(0,g.Z)(W).getInstance().getLogger(d),y=[],D=[],F=[],I=En(W).getInstance(),k=kt(W).getInstance(),$=wn(W).getInstance(),Y=(0,tr.Z)(W).getInstance(),Zn(j={},Pe.w.MPD_TYPE,X.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Zn(j,Pe.w.XLINK_EXPANSION_TYPE,X.DOWNLOAD_ERROR_ID_XLINK_CODE),Zn(j,Pe.w.INIT_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Zn(j,Pe.w.MEDIA_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Zn(j,Pe.w.INDEX_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Zn(j,Pe.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Zn(j,Pe.w.OTHER_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),x=j,d}pr.__dashjs_factory_name="HTTPLoader";var Yn=b.Z.getClassFactory(pr);function si(){var p;function d(){p={}}function y(){d()}return y(),{getLoader:function(D){for(var F in p)if(p.hasOwnProperty(F)&&D.startsWith(F))return p[F];return Yn},registerLoader:function(D,F){p[D]=F},unregisterLoader:function(D){p[D]&&delete p[D]},unregisterAllLoader:d,reset:y}}si.__dashjs_factory_name="SchemeLoaderFactory";var lr=b.Z.getSingletonFactory(si);function Qn(p){p=p||{};var d,y,D=this.context;return d=lr(D).getInstance(),{load:function(F){if(!y){var x=d.getLoader(F&&F.request?F.request.url:null);y=x(D).create({errHandler:p.errHandler,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,dashMetrics:p.dashMetrics,boxParser:p.boxParser?p.boxParser:null,constants:p.constants?p.constants:null,dashConstants:p.dashConstants?p.dashConstants:null,urlUtils:p.urlUtils?p.urlUtils:null,requestTimeout:isNaN(p.requestTimeout)?0:p.requestTimeout,errors:p.errors})}y.load(F)},abort:function(){y&&y.abort()}}}Qn.__dashjs_factory_name="URLLoader";var Fr=b.Z.getClassFactory(Qn);function kr(p){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},kr(p)}function Li(p,d){return Li=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Li(p,d)}function _i(p,d){return!d||kr(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function xi(p){return xi=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},xi(p)}var Ro=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Li(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=xi(d);if(y){var k=xi(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return _i(this,x)});function F(x){var I;return function(k,Y){if(!(k instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,F),(I=D.call(this,x)).checkForExistenceOnly=!0,I}return F}(C.Z);function $s(p){p=p||{};var d,y,D=this.context,F=p.eventBus,x=p.events,I=p.urlUtils,k=p.errors,Y=p.streamId;return d={checkForExistence:function($){var Q=function(W){F.trigger(x.CHECK_FOR_EXISTENCE_COMPLETED,{request:$,exists:W})};if($){var j=new Ro($.url);y.load({request:j,success:function(){Q(!0)},error:function(){Q(!1)}})}else Q(!1)},load:function($){var Q=function(j,W){F.trigger(x.LOADING_COMPLETED,{request:$,response:j||null,error:W||null,sender:d})};$?y.load({request:$,progress:function(j){F.trigger(x.LOADING_PROGRESS,{request:$,stream:j.stream,streamId:Y}),j.data&&F.trigger(x.LOADING_DATA_PROGRESS,{request:$,response:j.data||null,error:null,sender:d})},success:function(j){Q(j)},error:function(j,W,K){Q(void 0,new de.Z(k.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,K,W))},abort:function(j){j&&F.trigger(x.LOADING_ABANDONED,{mediaType:j.mediaType,request:j,sender:d})}}):Q(void 0,new de.Z(k.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,k.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){y&&y.abort()},reset:function(){y&&(y.abort(),y=null)}},y=Fr(D).create({errHandler:p.errHandler,errors:k,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,urlUtils:I,constants:i.Z,boxParser:p.boxParser,dashConstants:p.dashConstants,requestTimeout:p.settings.get().streaming.fragmentRequestTimeout}),d}$s.__dashjs_factory_name="FragmentLoader";var Ka=b.Z.getClassFactory($s);function Wa(){return{modifyResponseAsync:function(p){return Promise.resolve(p)}}}Wa.__dashjs_factory_name="SegmentResponseModifier";var ml=b.Z.getSingletonFactory(Wa);function yl(p){p=p||{};var d,y,D,F=this.context,x=(0,T.Z)(F).getInstance(),I=p.errHandler,k=p.mediaPlayerModel,Y=p.dashMetrics,$=(0,g.Z)(F).getInstance(),Q=ml(F).getInstance(),j=p.streamInfo;function W(){return j.id}function K(){for(var ce in D)D[ce].reset();D={}}function ve(ce){if(ce.sender){var me=ce.request,_e=ce.response,X=me.isInitializationRequest(),he=me.mediaInfo.streamInfo;if(ce.error&&(me.mediaType===i.Z.AUDIO||me.mediaType===i.Z.VIDEO||me.mediaType===i.Z.TEXT&&me.mediaInfo.isFragmented)&&x.trigger(c.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ce.request.serviceLocation}),_e&&he){var ee=function(ye,R,z,q){var H=new Mt;return H.streamId=z,H.mediaInfo=R.mediaInfo,H.segmentType=R.type,H.start=R.startTime,H.duration=R.duration,H.end=H.start+H.duration,H.bytes=ye,H.index=R.index,H.quality=R.quality,H.representationId=R.representationId,H.endFragment=q,H}(_e,me,j.id,ce.type!==c.Z.FRAGMENT_LOADING_PROGRESS);Q.modifyResponseAsync(ee).then(function(ye){x.trigger(X?c.Z.INIT_FRAGMENT_LOADED:c.Z.MEDIA_FRAGMENT_LOADED,{chunk:ye,request:me},{streamId:he.id,mediaType:me.mediaType})}).catch(function(ye){y.error(ye),x.trigger(X?c.Z.INIT_FRAGMENT_LOADED:c.Z.MEDIA_FRAGMENT_LOADED,{chunk:ee,request:me},{streamId:he.id,mediaType:me.mediaType})})}else y.warn("No "+me.mediaType+" bytes to push or stream is inactive.")}}return d={getStreamId:W,getModel:function(ce){var me=D[ce];return me||(me=te(F).create({streamInfo:j,type:ce,dashMetrics:Y,fragmentLoader:Ka(F).create({dashMetrics:Y,mediaPlayerModel:k,errHandler:I,requestModifier:(0,Oe.Z)(F).getInstance(),settings:p.settings,boxParser:p.boxParser,eventBus:x,events:c.Z,errors:ae,dashConstants:p.dashConstants,urlUtils:p.urlUtils,streamId:W()}),debug:$,eventBus:x,events:c.Z}),D[ce]=me),me},reset:function(){x.off(u.Z.FRAGMENT_LOADING_COMPLETED,ve,this),x.off(u.Z.FRAGMENT_LOADING_PROGRESS,ve,this),K()}},y=$.getLogger(d),K(),x.on(u.Z.FRAGMENT_LOADING_COMPLETED,ve,d),x.on(u.Z.FRAGMENT_LOADING_PROGRESS,ve,d),d}yl.__dashjs_factory_name="FragmentController";var Df=b.Z.getClassFactory(yl),Of=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},vl=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function El(p){var d,y,D=this.context,F=p.streamInfo;function x(k){y.setTrackByIndex(k)}function I(){y&&y.reset()}return d={getStreamId:function(){return F.id},initialize:function(){y.addTracks();var k=y.getTracks();k&&k.length>0&&x(0)},provide:function(k,Y){if(typeof Y=="function"){var $,Q,j=y.getCurrentTrack();if(!j||j.segmentDuration<=0||k==null)Y(null);else{(Q=y.getThumbnailRequestForTime(k))&&(j.segmentDuration=Q.duration),$=k%j.segmentDuration;var W=Math.floor($*j.tilesHor*j.tilesVert/j.segmentDuration),K=new Of;if(K.width=Math.floor(j.widthPerTile),K.height=Math.floor(j.heightPerTile),K.x=Math.floor(W%j.tilesHor)*j.widthPerTile,K.y=Math.floor(W/j.tilesHor)*j.heightPerTile,"readThumbnail"in j)return j.readThumbnail(k,function(ce){K.url=ce,Y(K)});if(Q)K.url=Q.url,j.segmentDuration=NaN;else{var ve=Math.floor(k/j.segmentDuration);K.url=function(ce,me){var _e=me+ce.startNumber,X=(0,m.vi)(ce.templateUrl,"Number",_e);return X=(0,m.vi)(X,"Time",(_e-1)*ce.segmentDuration*ce.timescale),X=(0,m.vi)(X,"Bandwidth",ce.bandwidth),(0,m.eR)(X)}(j,ve)}Y(K)}}},setTrackByIndex:x,getCurrentTrackIndex:function(){return y.getCurrentTrackIndex()},getBitrateList:function(){var k=y.getTracks(),Y=0;return k.map(function($){var Q=new vl;return Q.mediaType=i.Z.IMAGE,Q.qualityIndex=Y++,Q.bitrate=$.bitrate,Q.width=$.width,Q.height=$.height,Q})},reset:I},I(),y=(0,Gt.Z)(D).create({streamInfo:F,adapter:p.adapter,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:p.debug,eventBus:p.eventBus,events:p.events,dashConstants:p.dashConstants,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController}),d}El.__dashjs_factory_name="ThumbnailController";var Pf=b.Z.getClassFactory(El),Js=E(7417);function _l(p){var d;p=p||{};var y=[],D=(0,T.Z)(this.context).getInstance(),F=p.updateEventName,x=p.addBlacklistEventName;function I(k){y.indexOf(k)===-1&&(y.push(k),D.trigger(F,{entry:k}))}return d={add:I,contains:function(k){return!!(y.length&&k&&k.length)&&y.indexOf(k)!==-1},reset:function(){y=[]}},x&&D.on(x,function(k){I(k.entry)},d),d}_l.__dashjs_factory_name="BlackListController";var Qa=b.Z.getClassFactory(_l),Mf=[i.Z.VIDEO,i.Z.AUDIO,i.Z.TEXT,i.Z.MUXED,i.Z.IMAGE];function Vn(p){p=p||{};var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he=this.context,ee=(0,T.Z)(he).getInstance(),ye=(0,nt.Z)(he).getInstance(),R=p.manifestModel,z=p.mediaPlayerModel,q=p.dashMetrics,H=p.manifestUpdater,L=p.adapter,fe=p.timelineConverter,ie=p.capabilities,pe=p.errHandler,se=p.abrController,V=p.playbackController,ue=p.eventController,Se=p.mediaController,Ue=p.protectionController,De=p.textController,Be=p.videoModel,Le=p.streamInfo,lt=p.settings;function ct(gt,Ut){return new Promise(function(Ht,zt){_t(),Q=!0,Qt();var $t=Be.getElement(),We=[];Mf.forEach(function(Fe){(Fe!==i.Z.TEXT||gt)&&(Fe!==i.Z.VIDEO||!$t||$t&&/^VIDEO$/i.test($t.nodeName))&&We.push(rt(Fe,gt))}),Promise.all(We).then(function(){return Fe=Ut,new Promise(function(ft){var Ee={},be=D.map(function(et){return et.createBufferSinks(Fe)});Promise.all(be).then(function(et){et.forEach(function(Ct){Ct&&(Ee[Ct.getType()]=Ct)}),ft(Ee)}).catch(function(){ft(Ee)})});var Fe}).then(function(Fe){if(Q=!1,D.length===0){var ft="No streams to play.";pe.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ft,R.getValue())),y.fatal(ft)}else Wt();gt&&De.createTracks(Le),Ht(Fe)}).catch(function(Fe){zt(Fe)})})}function rt(gt,Ut){var Ht,zt=L.getAllMediaInfoForType(Le,gt),$t=[],We=null;if(!zt||zt.length===0)return y.info("No "+gt+" data."),Promise.resolve();gt===i.Z.VIDEO&&(k=!0),gt===i.Z.AUDIO&&(Y=!0);for(var Fe=0,ft=zt.length;Fe<ft;Fe++)We=zt[Fe],gt===i.Z.TEXT&&We.isEmbedded&&(De.addEmbeddedTrack(Le,We),$t.push(We)),ot(We)&&Se.addTrack(We);if($t.length>0&&(Se.setInitialMediaSettingsForType(gt,Le),De.addMediaInfosToBuffer(Le,gt,$t)),zt=zt.filter(function(be){return!be.isEmbedded}),zt.length===0)return Promise.resolve();if(gt===i.Z.IMAGE)return(W=Pf(he).create({streamInfo:Le,adapter:L,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:me,eventBus:ee,events:c.Z,dashConstants:o.Z,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController})).initialize(),Promise.resolve();ee.trigger(c.Z.STREAM_INITIALIZING,{streamInfo:Le,mediaInfo:We}),Se.setInitialMediaSettingsForType(gt,Le);var Ee=function(be,et){var Ct=be&&be.length>0?be[0]:null,Ft=j.getModel(Ct?Ct.type:null),Tn=Ct?Ct.type:null,Gn=Ct?Ct.mimeType:null,cr=Ct?Ct.isFragmented:null,jn=Vt(he).create({streamInfo:Le,type:Tn,mimeType:Gn,timelineConverter:fe,adapter:L,manifestModel:R,mediaPlayerModel:z,fragmentModel:Ft,dashMetrics:p.dashMetrics,baseURLController:p.baseURLController,segmentBaseController:p.segmentBaseController,abrController:se,playbackController:V,mediaController:Se,textController:De,errHandler:pe,settings:lt,boxParser:ce,segmentBlacklistController:K});jn.initialize(et,k,cr),D.push(jn);for(var zr=0;zr<be.length;zr++)jn.addMediaInfo(be[zr]);return Tn===i.Z.TEXT&&De.addMediaInfosToBuffer(Le,Tn,be,Ft),jn}(zt,Ut);return(Ht=Se.getCurrentTrackFor(gt,Le.id))?(se.updateTopQualityIndex(Ht),Ee.selectMediaInfo(gt===i.Z.TEXT&&Ht.isEmbedded?zt[0]:Ht)):Promise.resolve()}function ot(gt){var Ut,Ht=gt?gt.type:null;return Ht===i.Z.MUXED?(Ut="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",y.fatal(Ut),pe.error(new de.Z(ae.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Ut,R.getValue())),!1):!(Ht!==i.Z.TEXT&&Ht!==i.Z.IMAGE&&gt.contentProtection&&!ie.supportsEncryptedMedia()&&(pe.error(new de.Z(ae.CAPABILITY_MEDIAKEYS_ERROR_CODE,ae.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Zt(gt){for(var Ut=D?D.length:0,Ht=0;Ht<Ut;Ht++){var zt=D[Ht].getFragmentModel();zt.abortRequests(),zt.resetInitialSettings(),D[Ht].reset(!1,gt)}De&&De.deactivateStream(Le),D=[],x=!1,I=!1,tn(!1),qe(!1),ee.trigger(c.Z.STREAM_DEACTIVATED,{streamInfo:Le})}function Ne(gt){Zt(gt),F=!1,k=!1,Y=!1,$={},Q=!1,_e=!1,X=[]}function qe(gt){_e=gt}function mt(){return Le?Le.start:NaN}function Xe(){return Le?Le.id:null}function Tt(){return Le}function _t(){if(!Be||!se)throw new Error(i.Z.MISSING_CONFIG_ERROR)}function pt(gt){gt.error&&(pe.error(gt.error),y.fatal(gt.error.message))}function Qt(){if(ue){var gt=L.getEventsFor(Le);gt&&gt.length>0&&ue.addInlineEvents(gt,Le.id)}}function Wt(){for(var gt=D.length,Ut=$.audio||$.video?new de.Z(ae.DATA_UPDATE_FAILED_ERROR_CODE,ae.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ht=0;Ht<gt;Ht++)if(D[Ht].isUpdating()||Q)return;if(Ue){Ue.clearMediaInfoArray();for(var zt=0;zt<gt&&D[zt];zt++){var $t=D[zt].getType(),We=D[zt].getMediaInfo();if($t===i.Z.AUDIO||$t===i.Z.VIDEO||$t===i.Z.TEXT&&We.isFragmented){var Fe=D[zt].getMediaInfo();Fe&&Ue.initializeForMedia(Fe)}}Ue.handleKeySystemFromManifest()}Ut?pe.error(Ut):F||(F=!0,Be.waitForReadyState(i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){ee.trigger(c.Z.STREAM_INITIALIZED,{streamInfo:Le})}))}function mn(){var gt=It(),Ut=gt.length;if(Ut!==0){for(var Ht=0;Ht<Ut;Ht++)if(!gt[Ht].isBufferingCompleted()&&(gt[Ht].getType()===i.Z.AUDIO||gt[Ht].getType()===i.Z.VIDEO))return void y.debug("onBufferingCompleted - One streamProcessor has finished but",gt[Ht].getType(),"one is not buffering completed");y.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),I=!0,ee.trigger(c.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Le},{streamInfo:Le})}else y.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function _n(gt){$[gt.mediaType]=gt.error,Wt()}function Ke(gt){ue&&ue.addInbandEvents(gt.events,Le.id)}function vt(gt){return gt&&gt.type?ut(gt.type):null}function ut(gt){return gt?It().filter(function(Ut){return Ut.getType()===gt})[0]:null}function It(){for(var gt,Ut,Ht=[],zt=0;zt<D.length;zt++)(gt=(Ut=D[zt]).getType())!==i.Z.AUDIO&&gt!==i.Z.VIDEO&&gt!==i.Z.TEXT||Ht.push(Ut);return Ht}function xt(gt,Ut){var Ht=Tt(),zt=Ut.getStreamInfo();if(!zt||!Ht)return!0;var $t=L.getAdaptationForType(zt.index,gt,zt),We=L.getAdaptationForType(Ht.index,gt,Ht);return $t&&We?!(!Jt(We)&&Jt($t)):!$t&&!We}function Jt(gt){return!!gt&&!!(gt.ContentProtection||gt.Representation_asArray&&gt.Representation_asArray.length>0&&gt.Representation_asArray[0].ContentProtection)}function Xt(gt,Ut){var Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!gt||!gt.hasOwnProperty("getStreamInfo"))return!1;var zt=gt.getStreamInfo(),$t=Ht?Ht.getStreamInfo():Tt();if(!zt||!$t)return!1;var We=L.getAdaptationForType(zt.index,Ut,zt),Fe=L.getAdaptationForType($t.index,Ut,$t);if(!We||!Fe)return!We&&!Fe;var ft=We&&Fe&&We.mimeType===Fe.mimeType,Ee=Fe.Representation_asArray.map(function(Ft){return Ft.codecs}),be=We.Representation_asArray.map(function(Ft){return Ft.codecs}),et=be.some(function(Ft){return Ee.indexOf(Ft)>-1}),Ct=be.some(function(Ft){return Ee.some(function(Tn){return ie.codecRootCompatibleWithCodec(Tn,Ft)})});return et||Ct&&ft}function tn(gt){ve=gt}function un(){return ve}return d={initialize:function(){ee.on(c.Z.BUFFERING_COMPLETED,mn,d),ee.on(c.Z.DATA_UPDATE_COMPLETED,_n,d),ee.on(c.Z.INBAND_EVENTS,Ke,d),Ue&&(ee.on(c.Z.KEY_ERROR,pt,d),ee.on(c.Z.SERVER_CERTIFICATE_UPDATED,pt,d),ee.on(c.Z.LICENSE_REQUEST_COMPLETE,pt,d),ee.on(c.Z.KEY_SYSTEM_SELECTED,pt,d),ee.on(c.Z.KEY_SESSION_CREATED,pt,d),ee.on(c.Z.KEY_STATUSES_CHANGED,pt,d)),De.initializeForStream(Le),ee.trigger(c.Z.STREAM_UPDATED,{streamInfo:Le})},getStreamId:function(){return Le?Le.id:null},activate:function(gt,Ut){return new Promise(function(Ht,zt){if(!x)return un()?(x=!0,ee.trigger(c.Z.STREAM_ACTIVATED,{streamInfo:Le}),void Ht(Ut)):void function($t,We){return ct($t,We)}(gt,Ut).then(function($t){x=!0,ee.trigger(c.Z.STREAM_ACTIVATED,{streamInfo:Le}),Ht($t)}).catch(function($t){zt($t)});Ht(Ut)})},deactivate:Zt,getIsActive:function(){return x},getDuration:function(){return Le?Le.duration:NaN},getStartTime:mt,getId:Xe,getStreamInfo:Tt,getHasAudioTrack:function(){return Y},getHasVideoTrack:function(){return k},startPreloading:function(gt,Ut){return new Promise(function(Ht,zt){un()?zt():(y.info("[startPreloading] Preloading next stream with id ".concat(Xe())),tn(!0),ct(gt,Ut).then(function(){for(var $t=0;$t<D.length&&D[$t];$t++)D[$t].setExplicitBufferingTime(mt()),D[$t].getScheduleController().startScheduleTimer();Ht()}).catch(function(){tn(!1),zt()}))})},initializeForTextWithMediaSource:function(gt){return new Promise(function(Ut,Ht){rt(i.Z.TEXT,gt).then(function(){return(zt=ut(i.Z.TEXT))?zt.createBufferSinks():Promise.resolve();var zt}).then(function(){De.createTracks(Le),Ut()}).catch(function(zt){Ht(zt)})})},getThumbnailController:function(){return W},getBitrateListFor:function(gt){if(_t(),gt===i.Z.IMAGE)return W?W.getBitrateList():[];var Ut=function(Ht){for(var zt=null,$t=0;$t<D.length;$t++)if((zt=D[$t]).getType()===Ht)return zt.getMediaInfo();return null}(gt);return se.getBitrateList(Ut)},updateData:function(gt){return new Promise(function(Ut){Q=!0,Le=gt,ue&&Qt();for(var Ht=[],zt=0,$t=D.length;zt<$t;zt++){var We=D[zt],Fe=We.getMediaInfo();Ht.push(We.updateStreamInfo(Le));var ft=L.getAllMediaInfoForType(Le,We.getType());if(ft=ft.filter(function(et){return!et.isEmbedded})){We.clearMediaInfoArray();for(var Ee=0;Ee<ft.length;Ee++){var be=ft[Ee];We.addMediaInfo(ft[Ee]),L.areMediaInfosEqual(Fe,be)&&(se.updateTopQualityIndex(be),Ht.push(We.selectMediaInfo(be)))}}}Promise.all(Ht).then(function(){for(Ht=[];X.length>0;){var et=X.pop(),Ct=et.newMediaInfo,Ft=vt(et.oldMediaInfo);if(!Ft)return;Ht.push(Ft.prepareTrackSwitch()),Ht.push(Ft.selectMediaInfo(Ct))}return Promise.all(Ht)}).then(function(){Q=!1,Wt(),ee.trigger(c.Z.STREAM_UPDATED,{streamInfo:Le}),Ut()})})},reset:function(gt){j&&(j.reset(),j=null),se&&Le&&se.clearDataForStream(Le.id),K&&(K.reset(),K=null),Ne(gt),Le=null,ee.off(c.Z.DATA_UPDATE_COMPLETED,_n,d),ee.off(c.Z.BUFFERING_COMPLETED,mn,d),ee.off(c.Z.INBAND_EVENTS,Ke,d),Ue&&(ee.off(c.Z.KEY_ERROR,pt,d),ee.off(c.Z.SERVER_CERTIFICATE_UPDATED,pt,d),ee.off(c.Z.LICENSE_REQUEST_COMPLETE,pt,d),ee.off(c.Z.KEY_SYSTEM_SELECTED,pt,d),ee.off(c.Z.KEY_SESSION_CREATED,pt,d),ee.off(c.Z.KEY_STATUSES_CHANGED,pt,d))},getProcessors:It,setMediaSource:function(gt){return new Promise(function(Ut,Ht){for(var zt=[],$t=0;$t<D.length;)ot(D[$t].getMediaInfo())?(zt.push(D[$t].setMediaSource(gt)),$t++):(D[$t].reset(),D.splice($t,1));Promise.all(zt).then(function(){for(var We=0;We<D.length;We++)D[We].dischargePreBuffer();if(D.length===0){var Fe="No streams to play.";pe.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Fe+"nostreams",R.getValue())),y.fatal(Fe)}Ut()}).catch(function(We){y.error(We),Ht(We)})})},isMediaCodecCompatible:function(gt){var Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Xt(gt,i.Z.VIDEO,Ut)&&Xt(gt,i.Z.AUDIO,Ut)},isProtectionCompatible:function(gt){return!gt||xt(i.Z.VIDEO,gt)&&xt(i.Z.AUDIO,gt)},getPreloaded:un,getIsEndedEventSignaled:function(){return _e},setIsEndedEventSignaled:qe,getAdapter:function(){return L},getHasFinishedBuffering:function(){return I},setPreloaded:tn,startScheduleControllers:function(){for(var gt=D.length,Ut=0;Ut<gt&&D[Ut];Ut++)D[Ut].getScheduleController().startScheduleTimer()},prepareTrackChange:function(gt){if(x&&Le){I=!1;var Ut=gt.newMediaInfo,Ht=R.getValue();L.setCurrentMediaInfo(Le.id,Ut.type,Ut);var zt=vt(Ut);if(zt){var $t=V.getTime();y.info("Stream -  Process track changed at current time "+$t),Ht.refreshManifestOnSwitchTrack?(X.push(gt),H.getIsUpdating()||(y.debug("Stream -  Refreshing manifest for switch track"),H.refreshManifest())):zt.selectMediaInfo(Ut).then(function(){Ut.type!==i.Z.VIDEO&&Ut.type!==i.Z.AUDIO||se.updateTopQualityIndex(Ut),zt.prepareTrackSwitch()})}}},prepareQualityChange:function(gt){var Ut=ut(gt.mediaType);Ut&&Ut.prepareQualityChange(gt)}},function(){try{me=(0,g.Z)(he).getInstance(),y=me.getLogger(d),Ne(),ce=(0,Js.Z)(he).getInstance(),K=Qa(he).create({updateEventName:c.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:c.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),j=Df(he).create({streamInfo:Le,mediaPlayerModel:z,dashMetrics:q,errHandler:pe,settings:lt,boxParser:ce,dashConstants:o.Z,urlUtils:ye})}catch(gt){throw gt}}(),d}Vn.__dashjs_factory_name="Stream";var fa=b.Z.getClassFactory(Vn),Xa=function p(d){(function(y,D){if(!(y instanceof D))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=d||null,this.type=Pe.w.CONTENT_STEERING_TYPE,this.responseType="json"},da=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Tl(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce=this.context,me=(0,nt.Z)(ce).getInstance();function _e(se){R(se,"baseUrl")}function X(se){R(se,"location")}function he(se){if(se&&se.request&&se.request.serviceLocation&&se.request.requestStartDate&&se.request.requestEndDate&&!isNaN(se.request.bytesTotal)){var V=se.request.serviceLocation,ue=se.request.requestEndDate.getTime()-se.request.requestStartDate.getTime();ye(V,parseInt(8*se.request.bytesTotal/ue*1e3))}}function ee(se){se&&se.httpRequest&&se.httpRequest._serviceLocation&&!isNaN(se.throughput)&&ye(se.httpRequest._serviceLocation,1e3*se.throughput)}function ye(se,V){F[se]||(F[se]=[]),F[se].push(V),F[se].length>4&&F[se].shift()}function R(se,V){if(se&&se.request&&se.request.serviceLocation){var ue=se.request.serviceLocation;D[V].all.indexOf(ue)===-1&&D[V].all.push(ue),D[V].current=ue}}function z(){var se=Q.getValue(),V=ve.getContentSteering(se);return V||(V=W.getServiceDescriptionSettings().contentSteering),V}function q(){return new Promise(function(se){try{var V=z();if(!V||!V.serverUrl)return void se();var ue=function(Ue){var De=Ue.serverUrl;y&&y.reloadUri&&(De=me.isRelative(y.reloadUri)?me.resolve(y.reloadUri,Ue.serverUrl):y.reloadUri);var Be=[],Le=D.baseUrl.all.concat(D.location.all);if(Le.length>0){var lt=Le.map(function(ot){var Zt=function(Ne){if(!Ne||!F[Ne]||F[Ne].length===0)return-1;var qe=F[Ne].reduce(function(mt,Xe){return mt+Xe})/F[Ne].length;return parseInt(qe)}(ot);return{serviceLocation:ot,throughput:Zt}});lt.sort(function(ot,Zt){return Zt.throughput-ot.throughput});var ct="",rt="";lt.forEach(function(ot,Zt){Zt!==0&&(ct="".concat(ct,","),ot.throughput>-1&&(rt="".concat(rt,","))),ct="".concat(ct).concat(ot.serviceLocation),ot.throughput>-1&&(rt="".concat(rt).concat(ot.throughput))}),Be.push({key:"_DASH_pathway",value:'"'.concat(ct,'"')}),Be.push({key:"_DASH_throughput",value:rt})}return De=At.Z.addAditionalQueryParameterToUrl(De,Be)}(V),Se=new Xa(ue);I.load({request:Se,success:function(Ue){(function(De){De&&De[o.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(De[o.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((y=new da).version=De[o.Z.CONTENT_STEERING_RESPONSE.VERSION],De[o.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(De[o.Z.CONTENT_STEERING_RESPONSE.TTL])&&(y.ttl=De[o.Z.CONTENT_STEERING_RESPONSE.TTL]),De[o.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(y.reloadUri=De[o.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),De[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(y.pathwayPriority=De[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),De[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(y.pathwayClones=De[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],y.pathwayClones=y.pathwayClones.filter(function(Be){return function(Le){return Le[o.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Le[o.Z.CONTENT_STEERING_RESPONSE.ID]&&Le[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Le[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.HOST]}(Be)})),fe())})(Ue),K.trigger(u.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:y,url:ue}),se()},error:function(Ue,De,Be,Le){(function(lt,ct){try{switch(d.warn("Error fetching data from content steering server",lt),ct.status){case 410:break;case 429:var rt=ct&&ct.getResponseHeader?ct.getResponseHeader("retry-after"):null;rt!==null&&(y||(y={}),y.ttl=parseInt(rt)),fe();break;default:fe()}}catch(ot){d.error(ot)}})(Ue,Le),se(Ue)},complete:function(){D.baseUrl.all=H(D.baseUrl),D.location.all=H(D.location)}})}catch(Ue){se(Ue)}})}function H(se){return se.all&&se.all.length!==0&&se.current?se.all.filter(function(V){return V===se.current}):[]}function L(se){try{var V=[];return se&&se.length!==0&&y&&y.pathwayClones&&y.pathwayClones.length!==0&&y.pathwayClones.forEach(function(ue){var Se=se.filter(function(lt){return ue[o.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===lt.serviceLocation}),Ue=null;if(Se&&Se.length>0&&(Ue=Se[0]),Ue){var De=new URL(Ue.url),Be=ue[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.HOST];Be=At.Z.stringHasProtocol(Be)?Be:"".concat(De.protocol,"//").concat(Be);var Le={synthesizedUrl:"".concat(Be).concat(De.pathname),serviceLocation:ue[o.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:ue[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ue};V.push(Le)}}),V}catch(ue){return d.error(ue),[]}}function fe(){y&&y.ttl&&!isNaN(y.ttl)&&(x&&clearTimeout(x),x=setTimeout(function(){q()},1e3*y.ttl))}function ie(){x&&clearTimeout(x),x=null}function pe(){y=null,F={},D={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ie()}return p={reset:function(){pe(),K.off(u.Z.FRAGMENT_LOADING_STARTED,_e,p),K.off(u.Z.MANIFEST_LOADING_STARTED,X,p),K.off(u.Z.MANIFEST_LOADING_FINISHED,he,p),K.off(u.Z.THROUGHPUT_MEASUREMENT_STORED,ee,p)},setConfig:function(se){se&&(se.adapter&&(ve=se.adapter),se.errHandler&&(k=se.errHandler),se.dashMetrics&&(Y=se.dashMetrics),se.mediaPlayerModel&&($=se.mediaPlayerModel),se.requestModifier&&(j=se.requestModifier),se.manifestModel&&(Q=se.manifestModel),se.serviceDescriptionController&&(W=se.serviceDescriptionController),se.eventBus&&(K=se.eventBus))},loadSteeringData:q,getCurrentSteeringResponseData:function(){return y},shouldQueryBeforeStart:function(){var se=z();return!!se&&se.queryBeforeStart},getSteeringDataFromManifest:z,stopSteeringRequestTimer:ie,getSynthesizedBaseUrlElements:function(se){try{return L(se).map(function(V){var ue=new vi(V.synthesizedUrl,V.serviceLocation);return ue.queryParams=V.queryParams,ue.dvbPriority=V.reference.dvbPriority,ue.dvbWeight=V.reference.dvbWeight,ue.availabilityTimeOffset=V.reference.availabilityTimeOffset,ue.availabilityTimeComplete=V.reference.availabilityTimeComplete,ue})}catch(V){return d.error(V),[]}},getSynthesizedLocationElements:function(se){try{return L(se).map(function(V){var ue=new on(V.synthesizedUrl,V.serviceLocation);return ue.queryParams=V.queryParams,ue})}catch(V){return d.error(V),[]}},initialize:function(){I=Fr(ce).create({errHandler:k,dashMetrics:Y,mediaPlayerModel:$,requestModifier:j,errors:ae}),K.on(u.Z.FRAGMENT_LOADING_STARTED,_e,p),K.on(u.Z.MANIFEST_LOADING_STARTED,X,p),K.on(u.Z.MANIFEST_LOADING_FINISHED,he,p),K.on(u.Z.THROUGHPUT_MEASUREMENT_STORED,ee,p)}},d=(0,g.Z)(ce).getInstance().getLogger(p),pe(),p}Tl.__dashjs_factory_name="ContentSteeringController";var Ti=b.Z.getSingletonFactory(Tl);function Sl(){var p,d,y,D=this.context,F=(0,we.Z)(D).getInstance();return p={select:function(x){if(!x||x.length===0)return null;var I=null;return F.get().streaming.applyContentSteering&&(I=function(k){var Y=y.getCurrentSteeringResponseData();return Y&&Y.pathwayPriority&&Y.pathwayPriority.length>0?function(){for(var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],j=0,W=null,K=function(){var ve=$[j],ce=Q.findIndex(function(me){return me.serviceLocation&&me.serviceLocation===ve});if(ce!==-1&&!d.contains(Q[ce].serviceLocation))return W=Q[ce],"break";j+=1};j<$.length&&K()!=="break";);return W}(Y.pathwayPriority,k):null}(x)),I||(I=function(k){return k[0]}(x)),I},setConfig:function(x){x.blacklistController&&(d=x.blacklistController),x.contentSteeringController&&(y=x.contentSteeringController)},reset:function(){d.reset()}},d=Qa(D).create({updateEventName:c.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:c.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),y=Ti(D).getInstance(),p}Sl.__dashjs_factory_name="LocationSelector";var Io=b.Z.getClassFactory(Sl);function Al(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve=this.context,ce=(0,T.Z)(ve).getInstance(),me=(0,nt.Z)(ve).getInstance();function _e(){y=NaN,I=!1,F=!0,x=!1,X()}function X(){D!==null&&(clearTimeout(D),D=null)}function he(ie){X(),x||(isNaN(ie)&&!isNaN(y)&&(ie=1e3*y),isNaN(ie)||(d.debug("Refresh manifest in "+ie+" milliseconds."),D=setTimeout(z,ie)))}function ee(){var ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];I=!0;var pe=Y.getValue(),se=pe.url,V=null,ue=Q.getPatchLocation(pe),Se=$.select(ue),Ue=null;if(Se&&!ie)se=Se.url,V=Se.serviceLocation,Ue=Se.queryParams;else{var De=ye(pe),Be=$.select(De);Be&&(se=Be.url,V=Be.serviceLocation,Ue=Be.queryParams)}me.isRelative(se)&&(se=me.resolve(se,pe.url)),k.load(se,V,Ue)}function ye(ie){var pe=Q.getLocation(ie),se=W.getSynthesizedLocationElements(pe);return pe.concat(se)}function R(ie){if(ie){if(Q.getIsPatch(ie)){var pe=ie;ie=Y.getValue();var se=Q.isPatchValid(ie,pe),V=se;if(se){var ue=Q.getPublishTime(ie);V=Q.applyPatchToManifest(ie,pe);var Se=Q.getPublishTime(ie);V=ue.getTime()!=Se.getTime()}if(!V)return d.debug("Patch provided is invalid, performing full manifest refresh"),void ee(!0);ie.loadedTime=new Date}}else(ie=Y.getValue()).loadedTime=new Date;if(Y.getValue()&&Y.getValue().type===o.Z.DYNAMIC&&ie.type===o.Z.STATIC)return ce.trigger(c.Z.DYNAMIC_TO_STATIC),I=!1,void(x=!0);Y.setValue(ie);var Ue=new Date,De=(Ue.getTime()-ie.loadedTime.getTime())/1e3;1e3*(y=Q.getManifestUpdatePeriod(ie,De))>2147483647&&(y=2147483647e-3),ce.trigger(c.Z.MANIFEST_UPDATED,{manifest:ie}),d.info("Manifest has been refreshed at "+Ue+"["+Ue.getTime()/1e3+"] "),F||he()}function z(){F||(I?he(K.get().streaming.manifestUpdateRetryInterval):ee())}function q(ie){ie.error?ie.error.code===ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&j.error(ie.error):R(ie.manifest)}function H(){F=!1,he()}function L(){(F=!K.get().streaming.scheduling.scheduleWhilePaused)&&X()}function fe(){I=!1}return p={initialize:function(){_e(),ce.on(c.Z.STREAMS_COMPOSED,fe,this),ce.on(u.Z.PLAYBACK_STARTED,H,this),ce.on(u.Z.PLAYBACK_PAUSED,L,this),ce.on(c.Z.INTERNAL_MANIFEST_LOADED,q,this)},setManifest:function(ie){R(ie)},refreshManifest:ee,getIsUpdating:function(){return I},setConfig:function(ie){ie&&(ie.manifestModel&&(Y=ie.manifestModel),ie.adapter&&(Q=ie.adapter),ie.manifestLoader&&(k=ie.manifestLoader),ie.errHandler&&(j=ie.errHandler),ie.locationSelector&&($=ie.locationSelector),ie.settings&&(K=ie.settings),ie.contentSteeringController&&(W=ie.contentSteeringController))},reset:function(){ce.off(u.Z.PLAYBACK_STARTED,H,this),ce.off(u.Z.PLAYBACK_PAUSED,L,this),ce.off(c.Z.STREAMS_COMPOSED,fe,this),ce.off(c.Z.INTERNAL_MANIFEST_LOADED,q,this),_e()}},d=(0,g.Z)(ve).getInstance().getLogger(p),$=Io(ve).create(),p}Al.__dashjs_factory_name="ManifestUpdater";var ug=b.Z.getClassFactory(Al);function Lf(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me=this.context,_e=(0,T.Z)(me).getInstance(),X=(0,nt.Z)(me).getInstance();function he(){k=[],Y=[],$=null,Q=null,W=null,j=NaN,y=!1,D=!1,K=F.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ee(){F.get().streaming.utcSynchronization.enabled&&!y&&!D&&W&&W.value&&W.schemeIdUri&&!isNaN(j)&&!isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)&&(Q&&(Date.now()-Q)/1e3<30||(k=[],D=!0,ye(isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)?2:F.get().streaming.utcSynchronization.backgroundAttempts)))}function ye(Be){try{if(Be<=0)return void Ue();var Le=Date.now();x[W.schemeIdUri](W.value,function(lt){var ct=Date.now(),rt=z(Le,ct,lt);k.push(rt),ye(Be-1)},function(){Ue()})}catch{Ue()}}function R(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Le=Be||0;if(!Y||Y.length===0||Le>=Y.length)q();else{var lt=Y[Le];if(lt)if(x.hasOwnProperty(lt.schemeIdUri)){var ct=new Date().getTime();x[lt.schemeIdUri](lt.value,function(rt){var ot=new Date().getTime(),Zt=z(ct,ot,rt);W=lt,q(Zt)},function(){R(Le+1)})}else R(Le+1);else q()}}function z(Be,Le,lt){return lt-(Le-(Le-Be)/2)}function q(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,Le=isNaN(Be);Le&&F.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?ue():Se(Le,Be)}function H(Be){var Le=Date.parse(Be);return isNaN(Le)&&(Le=function(lt){var ct,rt,ot=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(lt);return ct=Date.UTC(parseInt(ot[1],10),parseInt(ot[2],10)-1,parseInt(ot[3],10),parseInt(ot[4],10),parseInt(ot[5],10),ot[6]&&(parseInt(ot[6],10)||0),ot[7]&&1e3*parseFloat(ot[7])||0),ot[9]&&ot[10]&&(rt=60*parseInt(ot[9],10)+parseInt(ot[10],10),ct+=(ot[8]==="+"?-1:1)*rt*60*1e3),new Date(ct).getTime()}(Be)),Le}function L(Be){return Date.parse(Be)}function fe(Be){return Date.parse(Be)}function ie(Be,Le,lt){lt()}function pe(Be,Le,lt){var ct=H(Be);isNaN(ct)?lt():Le(ct)}function se(Be,Le,lt,ct,rt){var ot,Zt,Ne=!1,qe=new XMLHttpRequest,mt=rt?Pe.w.HEAD:Pe.w.GET,Xe=Le.match(/\S+/g);if(Le=Xe.shift(),ot=function(){Ne||(Ne=!0,Xe.length?se(Be,Xe.join(" "),lt,ct,rt):ct())},Zt=function(){var _t,pt;qe.status===200&&(_t=rt?qe.getResponseHeader("Date"):qe.response,pt=Be(_t),isNaN(pt)||(lt(pt),Ne=!0))},X.isRelative(Le)){var Tt=ce.resolve();Tt&&(Le=X.resolve(Le,Tt.url))}qe.open(mt,Le),qe.timeout=5e3,qe.onload=Zt,qe.onloadend=ot,qe.send()}function V(Be,Le,lt){se(fe,Be,Le,lt,!0)}function ue(){var Be=I.getLatestMPDRequestHeaderValueByID("Date"),Le=Be!==null?new Date(Be).getTime():Number.NaN;isNaN(Le)?Se(!0):Se(!1,Le-Date.now())}function Se(Be,Le){if(isNaN(j)||isNaN(Le)||Be||function(ct){try{var rt,ot=De(ct),Zt=isNaN(K)?30:K,Ne=isNaN(F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,qe=isNaN(F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,mt=isNaN(F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;ot?(rt=Math.min(Zt*Ne,qe),d.debug("Increasing timeBetweenSyncAttempts to ".concat(rt))):(rt=Math.max(Zt/Ne,mt),d.debug("Decreasing timeBetweenSyncAttempts to ".concat(rt))),K=rt}catch{}}(Le),!Be&&!isNaN(Le)){$=Date.now(),y=!1;var lt=isNaN(j);j=Le,lt&&ee(),d.debug("Completed UTC sync. Setting client - server offset to ".concat(Le))}Be&&(W=null,y=!1,ve.error(new de.Z(ae.TIME_SYNC_FAILED_ERROR_CODE,ae.TIME_SYNC_FAILED_ERROR_MESSAGE))),_e.trigger(c.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Le}),_e.trigger(c.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ue(){if(k&&k.length!==0){var Be=k.reduce(function(Le,lt){return Le+lt},0)/k.length;De(Be)?d.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(d.debug("Completed background UTC sync. Setting client - server offset to ".concat(Be)),j=Be,_e.trigger(c.Z.UPDATE_TIME_SYNC_OFFSET,{offset:j})),D=!1,Q=Date.now()}}function De(Be){try{if(isNaN(j))return!0;var Le=F.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(F.get().streaming.utcSynchronization.maximumAllowedDrift)?F.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Be>=j-Le&&Be<=j+Le}catch{return!0}}return p={initialize:function(){he(),x={"urn:mpeg:dash:utc:http-head:2014":V,"urn:mpeg:dash:utc:http-xsdate:2014":se.bind(null,H),"urn:mpeg:dash:utc:http-iso:2014":se.bind(null,L),"urn:mpeg:dash:utc:direct:2014":pe,"urn:mpeg:dash:utc:http-head:2012":V,"urn:mpeg:dash:utc:http-xsdate:2012":se.bind(null,H),"urn:mpeg:dash:utc:http-iso:2012":se.bind(null,L),"urn:mpeg:dash:utc:direct:2012":pe,"urn:mpeg:dash:utc:http-ntp:2014":ie,"urn:mpeg:dash:utc:ntp:2014":ie,"urn:mpeg:dash:utc:sntp:2014":ie}},attemptSync:function(Be,Le){Y=Be,y||(function(lt){try{if(!lt||!F.get().streaming.utcSynchronization.enabled)return!1;var ct=isNaN(K)?30:K;return!($&&ct&&!isNaN(ct))||(Date.now()-$)/1e3>=ct}catch{return!0}}(Le)?(y=!0,R()):_e.trigger(c.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Be){Be&&(Be.dashMetrics&&(I=Be.dashMetrics),Be.baseURLController&&(ce=Be.baseURLController),Be.errHandler&&(ve=Be.errHandler),Be.settings&&(F=Be.settings))},reset:function(){he(),_e.off(c.Z.ATTEMPT_BACKGROUND_SYNC,ee,p)}},d=(0,g.Z)(me).getInstance().getLogger(p),_e.on(c.Z.ATTEMPT_BACKGROUND_SYNC,ee,p),p}Lf.__dashjs_factory_name="TimeSyncController";var xf=b.Z.getSingletonFactory(Lf);xf.HTTP_TIMEOUT_MS=5e3,b.Z.updateSingletonFactory(Lf.__dashjs_factory_name,xf);var C0=xf;function lg(){var p,d,y,D,F,x=this.context,I=(0,T.Z)(x).getInstance();return p={attachMediaSource:function(k){var Y=window.URL.createObjectURL(d);return k.setSource(Y),D==="managedMediaSource"&&(k.setDisableRemotePlayback(!0),d.addEventListener("startstreaming",function(){I.trigger(u.Z.MANAGED_MEDIA_SOURCE_START_STREAMING)}),d.addEventListener("endstreaming",function(){I.trigger(u.Z.MANAGED_MEDIA_SOURCE_END_STREAMING)})),Y},createMediaSource:function(){var k="WebKitMediaSource"in window,Y="MediaSource"in window;return"ManagedMediaSource"in window?(d=new ManagedMediaSource,D="managedMediaSource",F.info("Created ManagedMediaSource")):Y?(d=new MediaSource,D="mediaSource",F.info("Created MediaSource")):k&&(d=new WebKitMediaSource,F.info("Created WebkitMediaSource")),d},detachMediaSource:function(k){k.setSource(null)},setConfig:function(k){k&&k.settings&&(y=k.settings)},setDuration:function k(Y){d&&d.readyState==="open"&&(Y===null&&isNaN(Y)||d.duration!==Y&&(Y!==1/0||y.get().streaming.buffer.mediaSourceDurationInfinity||(Y=Math.pow(2,32)),function($){for(var Q=$.sourceBuffers,j=0;j<Q.length;j++)if(Q[j].updating)return!0;return!1}(d)?setTimeout(k.bind(null,Y),50):(F.info("Set MediaSource duration:"+Y),d.duration=Y)))},setSeekable:function(k,Y){d&&typeof d.setLiveSeekableRange=="function"&&typeof d.clearLiveSeekableRange=="function"&&d.readyState==="open"&&k>=0&&k<Y&&(d.clearLiveSeekableRange(),d.setLiveSeekableRange(k,Y))},signalEndOfStream:function(k){if(k&&k.readyState==="open"){for(var Y=k.sourceBuffers,$=0;$<Y.length;$++)if(Y[$].updating||Y[$].buffered.length===0)return;F.info("call to mediaSource endOfStream"),k.endOfStream()}}},F=(0,g.Z)(x).getInstance().getLogger(p),p}lg.__dashjs_factory_name="MediaSourceController";var D0=b.Z.getSingletonFactory(lg);function cg(){var p,d,y,D,F,x,I,k,Y,$,Q,j="urn:mpeg:dash:event:2012",W="discarded",K="updated",ve="added",ce=this.context,me=(0,T.Z)(ce).getInstance();function _e(){if(!I||!k)throw new Error("setConfig function has to be called previously")}function X(){Q=!1,y={},D={},F=null,$=!1,x=Date.now()/1e3}function he(){try{if(!$){$=!0;var ie=k.getTime(),pe=ie-x;pe=x>0?Math.max(0,pe):0,ee(D,pe,ie),ee(y,pe,ie),ye(D),ye(y),x=ie,$=!1}}catch(se){$=!1,d.error(se)}}function ee(ie,pe,se){try{H(ie,function(V){if(V!==void 0){var ue=isNaN(V.duration)?0:V.duration;V.calculatedPresentationTime<=se&&V.calculatedPresentationTime+pe+ue>=se?fe(V,u.Z.EVENT_MODE_ON_START):(L(se,ue+pe,V.calculatedPresentationTime)||function(Se){try{var Ue=Se.eventStream.period.start+Se.eventStream.period.duration;return Se.calculatedPresentationTime>Ue}catch(De){return d.error(De),!1}}(V))&&(d.debug("Removing event ".concat(V.id," from period ").concat(V.eventStream.period.id," as it is expired or invalid")),function(Se,Ue){try{var De=Ue.eventStream.schemeIdUri,Be=Ue.eventStream.period.id,Le=Ue.eventStream.value,lt=Ue.id;Se[Be][De]=Se[Be][De].filter(function(ct){return Le&&ct.eventStream.value&&ct.eventStream.value!==Le||ct.id!==lt}),Se[Be][De].length===0&&delete Se[Be][De]}catch(ct){d.error(ct)}}(ie,V))}})}catch(V){d.error(V)}}function ye(ie){try{for(var pe in ie)ie.hasOwnProperty(pe)&&Object.keys(ie[pe]).length===0&&delete ie[pe]}catch(se){d.error(se)}}function R(ie,pe){var se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],V=ie.eventStream.schemeIdUri,ue=ie.eventStream.value,Se=ie.id,Ue=W;pe[V]||(pe[V]=[]);var De=pe[V].findIndex(function(Le){return(!ue||Le.eventStream.value&&Le.eventStream.value===ue)&&Le.id===Se});if(De===-1)pe[V].push(ie),ie.triggeredReceivedEvent=!1,ie.triggeredStartEvent=!1,Ue=ve;else if(se){var Be=pe[V][De];ie.triggeredReceivedEvent=Be.triggeredReceivedEvent,ie.triggeredStartEvent=Be.triggeredStartEvent,pe[V][De]=ie,Ue=K}return Ue}function z(ie){try{if(ie.eventStream.value==1){var pe,se=ie.calculatedPresentationTime;pe=ie.calculatedPresentationTime==4294967295?NaN:ie.calculatedPresentationTime+ie.duration,me.trigger(u.Z.MANIFEST_VALIDITY_CHANGED,{id:ie.id,validUntil:se,newDuration:pe,newManifestValidAfter:NaN},{mode:u.Z.EVENT_MODE_ON_START})}}catch(V){d.error(V)}}function q(ie){try{var pe=k.getTime();H(ie,function(se){var V=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.duration)?se.eventStream.period.duration:NaN,ue=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.start)?se.eventStream.period.start:NaN;if(!isNaN(V)&&!isNaN(ue)){var Se=se.calculatedPresentationTime;Math.abs(Se-pe)<300&&fe(se,u.Z.EVENT_MODE_ON_START)}})}catch(se){d.error(se)}}function H(ie,pe){try{if(ie)for(var se=Object.keys(ie),V=0;V<se.length;V++)for(var ue=ie[se[V]],Se=Object.keys(ue),Ue=0;Ue<Se.length;Ue++)ue[Se[Ue]].forEach(function(De){De!==void 0&&pe(De)})}catch(De){d.error(De)}}function L(ie,pe,se){try{return ie-pe>se}catch(V){return d.error(V),!1}}function fe(ie,pe){try{var se=k.getTime(),V=ie.id;if(pe===u.Z.EVENT_MODE_ON_RECEIVE&&!ie.triggeredReceivedEvent)return d.debug("Received event ".concat(V)),ie.triggeredReceivedEvent=!0,void me.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe});ie.triggeredStartEvent||(ie.eventStream.schemeIdUri===j&&ie.eventStream.value==1?ie.duration===0&&ie.presentationTimeDelta===0||(d.debug("Starting manifest refresh event ".concat(V," at ").concat(se)),function(){try{_e(),I.refreshManifest()}catch(ue){d.error(ue)}}()):ie.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&ie.eventStream.value==1?(d.debug("Starting callback event ".concat(V," at ").concat(se)),function(ue){try{(0,qt.Z)(ce).create({}).load({method:"get",url:ue,request:{responseType:"arraybuffer"}})}catch(Se){d.error(Se)}}(ie.messageData)):(d.debug("Starting event ".concat(V," from period ").concat(ie.eventStream.period.id," at ").concat(se)),me.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe})),ie.triggeredStartEvent=!0)}catch(ue){d.error(ue)}}return p={addInlineEvents:function(ie,pe){try{if(_e(),y[pe]||(y[pe]={}),ie)for(var se=0;se<ie.length;se++){var V=ie[se];if(!L(k.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)){var ue=R(V,y[pe],!0);ue===ve?(d.debug("Added inline event with id ".concat(V.id," from period ").concat(pe)),fe(V,u.Z.EVENT_MODE_ON_RECEIVE)):ue===K&&d.debug("Updated inline event with id ".concat(V.id," from period ").concat(pe))}}}catch(Se){throw Se}},addInbandEvents:function(ie,pe){try{_e(),D[pe]||(D[pe]={});for(var se=0;se<ie.length;se++){var V=ie[se];L(k.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)||(R(V,D[pe],!1)===ve?(V.eventStream.schemeIdUri===j&&z(V),d.debug("Added inband event with id ".concat(V.id," from period ").concat(pe)),fe(V,u.Z.EVENT_MODE_ON_RECEIVE)):d.debug("Inband event with scheme_id_uri ".concat(V.eventStream.schemeIdUri,", value ").concat(V.eventStream.value,", period id ").concat(pe," and event id ").concat(V.id," was ignored because it has been added before.")))}he()}catch(ue){throw ue}},getInbandEvents:function(){return D},getInlineEvents:function(){return y},start:function(){try{_e(),d.debug("Start Event Controller");var ie=Y.get().streaming.eventControllerRefreshDelay;Q||isNaN(ie)||(Q=!0,F=setInterval(he,ie))}catch(pe){throw pe}},setConfig:function(ie){try{if(!ie)return;ie.manifestUpdater&&(I=ie.manifestUpdater),ie.playbackController&&(k=ie.playbackController),ie.settings&&(Y=ie.settings)}catch(pe){throw pe}},reset:function(){(function(){try{F!==null&&Q&&(clearInterval(F),F=null,Q=!1,function(){try{q(D),q(y)}catch(ie){d.error(ie)}}())}catch(ie){throw ie}})(),X()}},d=(0,g.Z)(ce).getInstance().getLogger(p),X(),p}cg.__dashjs_factory_name="EventController";var O0=b.Z.getSingletonFactory(cg),$a={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Ff(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}function fg(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye,R,z,q,H,L,fe,ie,pe,se,V,ue,Se,Ue,De,Be,Le,lt,ct,rt,ot,Zt,Ne,qe,mt,Xe,Tt,_t=this.context,pt=(0,T.Z)(_t).getInstance();function Qt(){if(!(x&&x.hasOwnProperty("load")&&ee&&ee.hasOwnProperty("initialize")&&ee.hasOwnProperty("reset")&&ee.hasOwnProperty("getClientTimeOffset")&&I&&he&&Y&&ue))throw new Error(i.Z.MISSING_CONFIG_ERROR)}function Wt(){if(!F||!F.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function mn(){(function(){try{var tt=k.getStreamsInfo();if(!R&&tt.length===0)throw new Error("There are no periods in the MPD");R&&tt.length>0&&Y.updateManifestUpdateInfo({currentTime:ue.getTime(),buffered:V.getBufferRange(),presentationStartTime:tt[0].start,clientTimeOffset:ee.getClientTimeOffset()}),ye.length>0&&function(Cn){Cn.length!==0?ye=ye.filter(function(An){var $n=Cn.filter(function(Hn){return Hn.id===An.getId()}).length>0||An.getId()===R.getId();return $n||(d.debug("Removing stream ".concat(An.getId())),An.reset(!0)),$n}):d.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(tt);for(var Lt=[],sn=0,yn=tt.length;sn<yn;sn++){var In=tt[sn];Lt.push(Ke(In)),Y.addManifestUpdateStreamInfo(In)}Promise.all(Lt).then(function(){return new Promise(function(Cn,An){R?Cn():vt(tt,Cn,An)})}).then(function(){pt.trigger(c.Z.STREAMS_COMPOSED),Ft()}).catch(function(Cn){throw Cn})}catch(Cn){he.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Cn.message+" nostreamscomposed",I.getValue())),pe=!0,Do()}})()}function _n(){qe=!0}function Ke(tt){var Lt=ru(tt.id);return Lt?Lt.updateData(tt):(Lt=fa(_t).create({manifestModel:I,mediaPlayerModel:Ue,dashMetrics:Y,manifestUpdater:F,adapter:k,timelineConverter:ee,capabilities:y,capabilitiesFilter:D,errHandler:he,baseURLController:W,segmentBaseController:K,textController:q,abrController:ce,playbackController:ue,eventController:_e,mediaController:me,protectionController:z,videoModel:V,streamInfo:tt,settings:Ne}),ye.push(Lt),Lt.initialize(),Promise.resolve())}function vt(tt,Lt,sn){try{$t();var yn=Y.getCurrentDVRInfo().range;if(yn.end<yn.start){mt&&clearTimeout(mt);var In=Math.min(1e3*(-1*(yn.end-yn.start)+2),2147483647);return d.debug("Waiting for ".concat(In," ms before playback can start")),pt.trigger(c.Z.AST_IN_FUTURE,{delay:In}),void(mt=setTimeout(function(){vt(tt,Lt,sn)},In))}Ne.get().streaming.applyProducerReferenceTime&&Se.calculateProducerReferenceTimeOffsets(tt);var Cn=tt[0].manifestInfo;if(Ne.get().streaming.applyServiceDescription&&Se.applyServiceDescription(Cn),k.getIsDynamic()){var An=ha(tt,Cn);ue.computeAndSetLiveDelay(An,Cn)}(Ne.get().streaming.applyContentSteering&&j.shouldQueryBeforeStart()?j.loadSteeringData():Promise.resolve()).then(function(){var $n=I.getValue();$n&&W.update($n),ut(),Lt()}).catch(function($n){d.error($n),ut(),Lt()})}catch($n){sn($n)}}function ut(){var tt=function(){var yn;if(k.getIsDynamic()){var In=Y.getCurrentDVRInfo();yn=(In&&In.range?In.range.end:0)-ue.getOriginalLiveDelay();var Cn=In?In.range:null;if(Cn){if(isNaN(Xe)&&Xe.toString().indexOf("posix:")===-1){var An=zr(!0);isNaN(An)||(d.info("Start time from URI parameters: ".concat(An)),yn=Math.min(yn,An))}else{d.info("Start time provided by the app: ".concat(Xe));var $n=mr(!0,Xe);isNaN($n)||(yn=Math.min(yn,$n))}var Hn=Ne.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;yn=Math.max(yn,Cn.start+Hn)}}else if(yn=ma()[0].getStreamInfo().start,isNaN(Xe)){var lo=zr(!1);isNaN(lo)||(d.info("Start time from URI parameters: ".concat(lo)),yn=Math.max(yn,lo))}else{d.info("Start time provided by the app: ".concat(Xe));var ns=mr(!1,Xe);isNaN(ns)||(yn=Math.max(yn,ns))}return yn}(),Lt=zt(tt),sn=Lt!==null?Lt:ye[0];pt.trigger(c.Z.INITIAL_STREAM_SWITCH,{startTime:tt}),It(sn,null,tt),ct||(ct=setInterval(function(){!fe&&ue.getTimeToStreamEnd()<=0&&!ue.isSeeking()&&pt.trigger(c.Z.PLAYBACK_ENDED,{isLast:Si().isLast})},200))}function It(tt,Lt,sn){try{if(fe||!tt||Lt===tt&&tt.getIsActive())return;fe=!0,pt.trigger(c.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Lt?Lt.getStreamInfo():null,toStreamInfo:tt.getStreamInfo()});var yn=!1;R=tt,Lt&&(yn=Ut(tt,Lt),Lt.deactivate(yn)),sn=isNaN(sn)?!yn&&Lt?tt.getStreamInfo().start:NaN:sn,d.info("Switch to stream ".concat(tt.getId(),". Seektime is ").concat(sn,", current playback time is ").concat(ue.getTime(),". Seamless period switch is set to ").concat(yn)),ot=ot.filter(function(In){return In.getId()!==R.getId()}),ue.initialize(Si(),!!Lt),V.getElement()?xt(sn,yn,!1):Jt(sn,yn)}catch{fe=!1}}function xt(tt,Lt){var sn,yn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function In(){if(se&&se.readyState==="open"){d.debug("MediaSource is open!"),window.URL.revokeObjectURL(sn),se.removeEventListener("sourceopen",In),se.removeEventListener("webkitsourceopen",In),jn();var An=Y.getCurrentDVRInfo();$.setSeekable(An.range.start,An.range.end),yn?(isNaN(tt)||ue.seek(tt,!0,!0),R.setMediaSource(se).then(function(){R.initializeForTextWithMediaSource(se)})):Jt(tt,Lt)}}function Cn(){se.addEventListener("sourceopen",In,!1),se.addEventListener("webkitsourceopen",In,!1),sn=$.attachMediaSource(V),d.debug("MediaSource attached to element.  Waiting on open...")}se?Lt?Jt(tt,Lt):($.detachMediaSource(V),Cn()):(se=$.createMediaSource(),Cn())}function Jt(tt,Lt){R.activate(se,Lt?rt:void 0,tt).then(function(sn){if(sn){var yn=Object.keys(sn);yn.length>0&&sn[yn[0]].getBuffer().changeType&&(Zt=!0),rt=sn}isNaN(tt)||(pt.trigger(c.Z.SEEK_TARGET,{time:tt},{streamId:R.getId()}),ue.seek(tt,!1,!0),R.startScheduleControllers()),fe=!1,pt.trigger(c.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Si()})})}function Xt(tt){var Lt=zt(tt.seekTime);Lt&&Lt!==R?Lt&&Lt!==R&&(tn(),function(sn,yn){var In=sn&&!isNaN(sn.seekTime)?sn.seekTime:NaN,Cn=R.getProcessors().map(function(An){return An.prepareOuterPeriodPlaybackSeeking(sn)});Promise.all(Cn).then(function(){It(yn,R,In)}).catch(function(An){he.error(An)})}(tt,Lt)):(tn(),function(sn){R.getProcessors().forEach(function(yn){return yn.prepareInnerPeriodPlaybackSeeking(sn)}),Yr(Me.USER_REQUEST_STOP_REASON)}(tt)),Co(Ze.SEEK_START_REASON)}function tn(){un()}function un(){ot&&ot.length>0&&(ot.forEach(function(tt){tt.deactivate(!0)}),ot=[])}function gt(tt){if(tt.newMediaInfo.streamInfo.id===R.getId()){if(un(),Ne.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&tt.oldMediaInfo&&tt.oldMediaInfo.codec!==tt.newMediaInfo.codec){var Lt=ue.getTime();return R.deactivate(!1),void xt(Lt,!1,!1)}R.prepareTrackChange(tt)}}function Ut(tt,Lt){try{return Ne.get().streaming.buffer.reuseExistingSourceBuffers&&(Lt.isProtectionCompatible(tt)||qe)&&(Zt&&Ne.get().streaming.buffer.useChangeTypeForTrackSwitch||Lt.isMediaCodecCompatible(tt,Lt))}catch{return!1}}function Ht(tt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(se&&!tt.getPreloaded()){var sn=Ut(tt,Lt);sn&&tt.startPreloading(se,rt).then(function(){ot.push(tt)})}}function zt(tt){if(isNaN(tt))return null;for(var Lt=ye.length,sn=0;sn<Lt;sn++){var yn=ye[sn];if(tt<parseFloat((yn.getStartTime()+yn.getDuration()).toFixed(5)))return yn}return null}function $t(){try{var tt=k.getIsDynamic(),Lt=k.getStreamsInfo()[0].manifestInfo,sn=ue.getTime(),yn=ee.calcTimeShiftBufferWindow(ye,tt),In=Gn();if(yn.start===void 0||yn.end===void 0)return;In&&In.length!==0?In.forEach(function(Cn){Y.addDVRInfo(Cn.getType(),sn,Lt,yn)}):Y.addDVRInfo(i.Z.VIDEO,sn,Lt,yn)}catch{}}function We(tt){if(Le&&L){var Lt=Ue.getInitialBufferLevel(),sn=[i.Z.TEXT];(isNaN(Lt)||Lt<=ue.getBufferLevel(sn)||k.getIsDynamic()&&Lt>ue.getLiveDelay())&&(Le=!1,Co(Ze.INITIAL_PLAYOUT_START_REASON),ue.play())}tt&&tt.mediaType&&Y.addBufferLevel(tt.mediaType,new Date,1e3*tt.bufferLevel)}function Fe(tt){tt.streamInfo.id===R.getId()&&tt.reason&&tt.reason.forceReplace&&un(),ru(tt.streamInfo.id).prepareQualityChange(tt)}function ft(){if(k.getIsDynamic()&&ue.getOriginalLiveDelay()!==0&&R){var tt=k.getStreamsInfo();if(tt.length>0){var Lt=tt[0].manifestInfo,sn=ha(tt,Lt);ue.computeAndSetLiveDelay(sn,Lt)}}}function Ee(){if(Fi()){var tt=V.getPlaybackQuality();tt&&Y.addDroppedFrames(tt)}}function be(){d.debug("[onPlaybackStarted]"),!Le&&Be&&Co(Ze.RESUME_FROM_PAUSE_START_REASON),Le&&(Le=!1),lt&&(lt=!1,Ne.get().streaming.applyContentSteering&&!j.shouldQueryBeforeStart()&&j.loadSteeringData()),Be=!1}function et(tt){d.debug("[onPlaybackPaused]"),tt.ended||(Be=!0,Yr(Me.USER_REQUEST_STOP_REASON))}function Ct(tt){d.debug("Stream with id ".concat(tt.streamInfo.id," finished buffering"));var Lt=tt.streamInfo.isLast;se&&Lt?(d.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),$.signalEndOfStream(se)):Ft()}function Ft(){if(R&&R.getHasFinishedBuffering())for(var tt=function(){var In=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var Cn=In||R||null;if(Cn){var An=Cn.getStreamInfo();return ye.filter(function($n){var Hn=$n.getStreamInfo();return Hn.start>An.start&&An.id!==Hn.id})}}catch{return[]}}(R),Lt=0;Lt<tt.length;){var sn=tt[Lt],yn=Lt===0?R:tt[Lt-1];!sn.getPreloaded()&&yn.getHasFinishedBuffering()&&se&&Ht(sn,yn),Lt+=1}}function Tn(){ct&&(clearInterval(ct),ct=null)}function Gn(){return R?R.getProcessors():[]}function cr(tt){if(R&&!R.getIsEndedEventSignaled()){R.setIsEndedEventSignaled(!0);var Lt=function(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,yn=sn||R||null;if(!yn)return null;for(var In=yn.getStreamInfo(),Cn=In.start,An=0,$n=-1,Hn=NaN;An<ye.length;){var lo=ye[An].getStreamInfo(),ns=lo.start-Cn;ns>0&&(isNaN(Hn)||ns<Hn)&&In.id!==lo.id&&(Hn=ns,$n=An),An+=1}return $n>=0?ye[$n]:null}();Lt?(d.debug("StreamController onEnded, found next stream with id ".concat(Lt.getStreamInfo().id,". Switching from ").concat(R.getStreamInfo().id," to ").concat(Lt.getStreamInfo().id)),It(Lt,R,NaN)):(d.debug("StreamController no next stream found"),R.setIsEndedEventSignaled(!1)),Yr(Lt?Me.END_OF_PERIOD_STOP_REASON:Me.END_OF_CONTENT_STOP_REASON)}tt&&tt.isLast&&(Tn(),j.stopSteeringRequestTimer())}function jn(tt){var Lt=tt||Si().manifestInfo.duration;$.setDuration(Lt)}function zr(tt){var Lt=ve.getURIFragmentData();if(!Lt||!Lt.t)return NaN;var sn=ma()[0].getStreamInfo().start;return Lt.t=Lt.t.split(",")[0],No(tt,Lt.t,sn)}function mr(tt,Lt){var sn=0;return tt||(sn=ma()[0].getStreamInfo().start),No(tt,Lt,sn)}function No(tt,Lt,sn){var yn=k.getRegularPeriods()[0],In=Lt.toString(),Cn=In.indexOf("posix:")!==-1?In.substring(6)==="now"?Date.now()/1e3:parseFloat(In.substring(6)):NaN;return tt&&!isNaN(Cn)?ee.calcPresentationTimeFromWallTime(new Date(1e3*Cn),yn):parseFloat(In)+sn}function ha(tt,Lt){try{var sn=NaN;if(Lt&&!isNaN(Lt.maxFragmentDuration)&&isFinite(Lt.maxFragmentDuration))return Lt.maxFragmentDuration;if(tt&&tt.length===1){var yn=tt[0],In=[i.Z.VIDEO,i.Z.AUDIO,i.Z.TEXT].reduce(function(An,$n){var Hn=k.getMediaInfoForType(yn,$n);return Hn&&Hn.isFragmented!==!1&&An.push(Hn),An},[]).reduce(function(An,$n){var Hn=k.getVoRepresentations($n);return Hn&&Hn.length>0&&Hn.forEach(function(lo){lo&&An.push(lo)}),An},[]).reduce(function(An,$n){var Hn=k.convertRepresentationToRepresentationInfo($n);return Hn&&Hn.fragmentDuration&&!isNaN(Hn.fragmentDuration)&&An.push(Hn.fragmentDuration),An},[]);sn=Math.max.apply(Math,function(An){if(Array.isArray(An))return Ff(An)}(Cn=In)||function(An){if(typeof Symbol<"u"&&Symbol.iterator in Object(An))return Array.from(An)}(Cn)||function(An,$n){if(An){if(typeof An=="string")return Ff(An,$n);var Hn=Object.prototype.toString.call(An).slice(8,-1);return Hn==="Object"&&An.constructor&&(Hn=An.constructor.name),Hn==="Map"||Hn==="Set"?Array.from(An):Hn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Hn)?Ff(An,$n):void 0}}(Cn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(sn)?sn:NaN}catch{return NaN}var Cn}function pa(tt){if(tt.error)pe=!0,Do();else{d.info("Manifest updated... updating data system wide.");var Lt=tt.manifest;k.updatePeriods(Lt);var sn=k.getUTCTimingSources();!k.getIsDynamic()||sn&&sn.length!==0||pt.trigger(u.Z.CONFORMANCE_VIOLATION,{level:$a.LEVELS.WARNING,event:$a.EVENTS.NO_UTC_TIMING_ELEMENT});var yn=k.getIsDynamic()?sn.concat(De.getUTCTimingSources()):sn;D.filterUnsupportedFeatures(Lt).then(function(){W.initialize(Lt),Q.attemptSync(yn,k.getIsDynamic())})}}function Fi(){return!!R&&R.getHasVideoTrack()}function uo(){return!!R&&R.getHasAudioTrack()}function Yr(tt,Lt){Lt=Lt||new Date,Gn().forEach(function(sn){sn.finalisePlayList(Lt,tt)}),Y.addPlayList()}function Co(tt){Y.createPlaylistMetrics(1e3*ue.getTime(),tt)}function ga(tt){if(tt.error){var Lt="";switch(tt.error.code){case 1:Lt="MEDIA_ERR_ABORTED";break;case 2:Lt="MEDIA_ERR_NETWORK";break;case 3:Lt="MEDIA_ERR_DECODE",Tt.counts.mediaErrorDecode+=1;break;case 4:Lt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Lt="MEDIA_ERR_ENCRYPTED";break;default:Lt="UNKNOWN"}Lt==="MEDIA_ERR_DECODE"&&Ne.get().errors.recoverAttempts.mediaErrorDecode>=Tt.counts.mediaErrorDecode?function(){d.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var sn=ue.getTime();R.deactivate(!1),d.warn("MediaSource has been resetted. Resuming playback from time ".concat(sn)),xt(sn,!1,!1)}():(ie=!0,tt.error.message&&(Lt+=" ("+tt.error.message+")"),tt.error.msExtendedCode&&(Lt+=" (0x"+(tt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),d.fatal("Video Element Error: "+Lt),tt.error&&d.fatal(tt.error),he.error(new de.Z(tt.error.code,Lt)),Do())}}function Si(){return R?R.getStreamInfo():null}function ru(tt){for(var Lt=0,sn=ye.length;Lt<sn;Lt++)if(ye[Lt].getId()===tt)return ye[Lt];return null}function Ul(tt){isNaN(tt.newDuration)||jn(tt.newDuration)}function Bl(){ye=[],Xe=NaN,z=null,fe=!1,R=null,ie=!1,pe=!1,Le=!0,lt=!0,Be=!1,L=!0,ct=null,qe=!1,Zt=!1,ot=[],mt=null,Tt={counts:{mediaErrorDecode:0}}}function Do(){Qt(),Q.reset(),Yr(ie||pe?Me.FAILURE_STOP_REASON:Me.USER_REQUEST_STOP_REASON);for(var tt=0,Lt=ye?ye.length:0;tt<Lt;tt++)ye[tt].reset(ie);pt.off(u.Z.PLAYBACK_TIME_UPDATED,Ee,p),pt.off(u.Z.PLAYBACK_SEEKING,Xt,p),pt.off(u.Z.PLAYBACK_ERROR,ga,p),pt.off(u.Z.PLAYBACK_STARTED,be,p),pt.off(u.Z.PLAYBACK_PAUSED,et,p),pt.off(u.Z.PLAYBACK_ENDED,cr,p),pt.off(u.Z.METRIC_ADDED,Zl,p),pt.off(u.Z.MANIFEST_VALIDITY_CHANGED,Ul,p),pt.off(u.Z.BUFFER_LEVEL_UPDATED,We,p),pt.off(u.Z.QUALITY_CHANGE_REQUESTED,Fe,p),c.Z.KEY_SESSION_UPDATED&&pt.off(c.Z.KEY_SESSION_UPDATED,_n,p),pt.off(c.Z.MANIFEST_UPDATED,pa,p),pt.off(c.Z.STREAM_BUFFERING_COMPLETED,Ct,p),pt.off(c.Z.TIME_SYNCHRONIZATION_COMPLETED,mn,p),pt.off(c.Z.CURRENT_TRACK_CHANGED,gt,p),pt.off(c.Z.SETTING_UPDATED_LIVE_DELAY,ft,p),pt.off(c.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ft,p),W.reset(),F.reset(),_e.reset(),Y.clearAllCurrentMetrics(),I.setValue(null),x.reset(),ee.reset(),X.reset(),se&&($.detachMediaSource(V),se=null),V=null,z&&(z=null,H=null,I.getValue()&&pt.trigger(c.Z.PROTECTION_DESTROYED,{data:I.getValue().url})),Tn(),pt.trigger(c.Z.STREAM_TEARDOWN_COMPLETE),Bl()}function Zl(tt){if(tt.metric===w.Z.DVR_INFO){var Lt=uo()?i.Z.AUDIO:i.Z.VIDEO;tt.mediaType===Lt&&$.setSeekable(tt.value.range.start,tt.value.range.end)}}function ma(){return ye}return p={initialize:function(tt,Lt){Qt(),L=tt,H=Lt,ee.initialize(),(F=ug(_t).create()).setConfig({manifestModel:I,adapter:k,manifestLoader:x,errHandler:he,settings:Ne,contentSteeringController:j}),F.initialize(),(_e=O0(_t).getInstance()).setConfig({manifestUpdater:F,playbackController:ue,settings:Ne}),_e.start(),Q.setConfig({dashMetrics:Y,baseURLController:W,errHandler:he,settings:Ne}),Q.initialize(),$.setConfig({settings:Ne}),z&&(pt.trigger(c.Z.PROTECTION_CREATED,{controller:z}),z.setMediaElement(V.getElement()),H&&z.setProtectionData(H)),pt.on(u.Z.PLAYBACK_TIME_UPDATED,Ee,p),pt.on(u.Z.PLAYBACK_SEEKING,Xt,p),pt.on(u.Z.PLAYBACK_ERROR,ga,p),pt.on(u.Z.PLAYBACK_STARTED,be,p),pt.on(u.Z.PLAYBACK_PAUSED,et,p),pt.on(u.Z.PLAYBACK_ENDED,cr,p),pt.on(u.Z.METRIC_ADDED,Zl,p),pt.on(u.Z.MANIFEST_VALIDITY_CHANGED,Ul,p),pt.on(u.Z.BUFFER_LEVEL_UPDATED,We,p),pt.on(u.Z.QUALITY_CHANGE_REQUESTED,Fe,p),c.Z.KEY_SESSION_UPDATED&&pt.on(c.Z.KEY_SESSION_UPDATED,_n,p),pt.on(c.Z.MANIFEST_UPDATED,pa,p),pt.on(c.Z.STREAM_BUFFERING_COMPLETED,Ct,p),pt.on(c.Z.TIME_SYNCHRONIZATION_COMPLETED,mn,p),pt.on(c.Z.CURRENT_TRACK_CHANGED,gt,p),pt.on(c.Z.SETTING_UPDATED_LIVE_DELAY,ft,p),pt.on(c.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ft,p)},getActiveStreamInfo:Si,addDVRMetric:$t,hasVideoTrack:Fi,hasAudioTrack:uo,getStreamById:ru,getStreamForTime:zt,getTimeRelativeToStreamId:function(tt,Lt){for(var sn=null,yn=0,In=0,Cn=null,An=0;An<ye.length;An++){if(In=(sn=ye[An]).getStartTime(),Cn=sn.getDuration(),Number.isFinite(In)&&(yn=In),sn.getId()===Lt)return tt-yn;Number.isFinite(Cn)&&(yn+=Cn)}return null},load:function(tt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Qt(),Xe=Lt,x.load(tt)},loadWithManifest:function(tt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Wt(),Xe=Lt,F.setManifest(tt)},getActiveStreamProcessors:Gn,setConfig:function(tt){tt&&(tt.capabilities&&(y=tt.capabilities),tt.capabilitiesFilter&&(D=tt.capabilitiesFilter),tt.manifestLoader&&(x=tt.manifestLoader),tt.manifestModel&&(I=tt.manifestModel),tt.mediaPlayerModel&&(Ue=tt.mediaPlayerModel),tt.customParametersModel&&(De=tt.customParametersModel),tt.protectionController&&(z=tt.protectionController),tt.adapter&&(k=tt.adapter),tt.dashMetrics&&(Y=tt.dashMetrics),tt.errHandler&&(he=tt.errHandler),tt.timelineConverter&&(ee=tt.timelineConverter),tt.videoModel&&(V=tt.videoModel),tt.playbackController&&(ue=tt.playbackController),tt.serviceDescriptionController&&(Se=tt.serviceDescriptionController),tt.contentSteeringController&&(j=tt.contentSteeringController),tt.textController&&(q=tt.textController),tt.abrController&&(ce=tt.abrController),tt.mediaController&&(me=tt.mediaController),tt.settings&&(Ne=tt.settings),tt.baseURLController&&(W=tt.baseURLController),tt.uriFragmentModel&&(ve=tt.uriFragmentModel),tt.segmentBaseController&&(K=tt.segmentBaseController),tt.manifestUpdater&&(F=tt.manifestUpdater))},setProtectionData:function(tt){H=tt,z&&z.setProtectionData(H)},getIsStreamSwitchInProgress:function(){return fe},switchToVideoElement:function(tt){R&&(ue.initialize(Si()),xt(tt,!1,!0))},getHasMediaOrInitialisationError:function(){return ie||pe},getStreams:ma,getActiveStream:function(){return R},getInitialPlayback:function(){return Le},getAutoPlay:function(){return L},refreshManifest:function(){F.getIsUpdating()||F.refreshManifest()},reset:Do},d=(0,g.Z)(_t).getInstance().getLogger(p),Q=C0(_t).getInstance(),$=D0(_t).getInstance(),X=Ie(_t).getInstance(),Bl(),p}fg.__dashjs_factory_name="StreamController";var dg=b.Z.getSingletonFactory(fg);function hg(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W=this.context,K=(0,T.Z)(W).getInstance();function ve(){j.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null),function(){K.off(c.Z.WALLCLOCK_TIME_UPDATED,he,this),K.off(c.Z.INITIAL_STREAM_SWITCH,X,this),K.off(c.Z.PLAYBACK_SEEKING,ce,this),K.off(c.Z.BUFFER_REPLACEMENT_STARTED,me,p),K.off(c.Z.TRACK_CHANGE_RENDERED,_e,p)}(),F=null,x=NaN,D=0,$=null,Q={}}function ce(){$&&(clearTimeout($),$=null)}function me(H){try{if(H.streamId!==k.getActiveStreamInfo().id||H.mediaType!==i.Z.VIDEO&&H.mediaType!==i.Z.AUDIO)return;H.streamId===k.getActiveStreamInfo().id&&(Q[H.mediaType]=!0)}catch(L){j.error(L)}}function _e(H){H&&H.mediaType&&(Q[H.mediaType]=!1)}function X(){F||function(){try{F||(j.debug("Starting the gap controller"),F=setInterval(function(){ee()&&q(I.getTime())},100))}catch{}}()}function he(){if(ee(y.get().streaming.gaps.enableSeekFix)&&++D>=10){var H=I.getTime();d===H?q(H,!0):(d=H,x=NaN),D=0}}function ee(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!k.getActiveStream())return!1;var L=Object.keys(Q).some(function(ie){return Q[ie]}),fe=!!H&&ye();return!L&&y.get().streaming.gaps.jumpGaps&&k.getActiveStreamProcessors().length>0&&(!I.isSeeking()||fe)&&!I.isPaused()&&!k.getIsStreamSwitchInProgress()&&!k.getHasMediaOrInitialisationError()}function ye(){var H=k.getActiveStream(),L=parseFloat((H.getStartTime()+H.getDuration()).toFixed(5));return I.getTime()+y.get().streaming.gaps.threshold>=L}function R(H,L){try{if(!H||H.length<=1&&L>0)return NaN;for(var fe=NaN,ie=0;isNaN(fe)&&ie<H.length;){var pe=ie>0?H.end(ie-1):0;L<H.start(ie)&&pe-L<y.get().streaming.gaps.threshold&&(fe=ie),ie+=1}return fe}catch{return null}}function z(H,L){for(var fe=0,ie=H.length;fe<ie;fe++)if(L>=H.start(fe)&&L<=H.end(fe))return!0;return!1}function q(H){var L,fe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ie=y.get().streaming.gaps.enableStallFix,pe=y.get().streaming.gaps.stallSeek,se=y.get().streaming.gaps.smallGapLimit,V=y.get().streaming.gaps.jumpLargeGaps,ue=Y.getBufferRange(),Se=NaN,Ue=!1;if(L=R(ue,H),!isNaN(L)){var De=ue.start(L),Be=De-H;Be>0&&(Be<=se||V)&&(Se=De)}var Le=I.getTimeToStreamEnd();if(isNaN(Se)&&fe&&isFinite(Le)&&!isNaN(Le)&&Le<se&&(Se=parseFloat(I.getStreamEndTime().toFixed(5)),Ue=!0),ie&&isNaN(Se)&&fe&&isNaN(L)&&z(ue,H)&&(pe===0?(j.warn("Toggle play pause to break stall"),Y.pause(),Y.play()):(j.warn("Jumping ".concat(pe,"s to break stall")),Se=H+pe)),Se>0&&x!==Se&&Se>H&&!$){var lt=Se-H;if(Ue){var ct=k.getStreamForTime(Se),rt=ct&&!!ct.getPreloaded();j.warn("Jumping to end of stream because of gap from ".concat(H," to ").concat(Se,". Gap duration: ").concat(lt)),I.seek(Se,!0,rt)}else{var ot=I.getIsDynamic(),Zt=L>0?ue.end(L-1):H,Ne=ot?1e3*Math.max(0,lt-.1):0;$=window.setTimeout(function(){I.seek(Se,!0,!0),j.warn("Jumping gap occuring in period ".concat(k.getActiveStream().getStreamId()," starting at ").concat(Zt," and ending at ").concat(Se,". Jumping by: ").concat(Se-Zt)),$=null},Ne)}x=Se}}return p={reset:ve,setConfig:function(H){H&&(H.settings&&(y=H.settings),H.playbackController&&(I=H.playbackController),H.streamController&&(k=H.streamController),H.videoModel&&(Y=H.videoModel))},initialize:function(){(function(){K.on(c.Z.WALLCLOCK_TIME_UPDATED,he,this),K.on(c.Z.INITIAL_STREAM_SWITCH,X,this),K.on(c.Z.PLAYBACK_SEEKING,ce,this),K.on(c.Z.BUFFER_REPLACEMENT_STARTED,me,p),K.on(c.Z.TRACK_CHANGE_RENDERED,_e,p)})()}},j=(0,g.Z)(W).getInstance().getLogger(p),ve(),p}hg.__dashjs_factory_name="GapController";var P0=b.Z.getSingletonFactory(hg);function pg(){var p,d,y,D,F,x,I,k,Y,$,Q=this.context,j=(0,T.Z)(Q).getInstance();function W(){d=!1;var ye=At.Z.parseUserAgent();y=ye&&ye.browser&&ye.browser.name&&ye.browser.name.toLowerCase()==="safari"}function K(){d=!1}function ve(ye){if(ye.streamId===x.getActiveStreamInfo().id&&Y){var R=I.getLiveDelay();I.getBufferLevel()>R/2&&(Y=!1)}}function ce(ye){ye.streamId===x.getActiveStreamInfo().id&&(Y=ye.state===w.Z.BUFFER_EMPTY)}function me(){k.getCatchupModeEnabled()||D.setPlaybackRate(1)}function _e(){I.getIsDynamic()&&k.getCatchupModeEnabled()&&(k.getCatchupPlaybackRates().max>0||k.getCatchupPlaybackRates().min<0)&&!I.isPaused()&&!I.isSeeking()&&function(){try{return!(!I.getTime()>0||d)&&(he()===i.Z.LIVE_CATCHUP_MODE_LOLP?function(ye,R){try{return Math.abs(X())>0||ye<R}catch{return!1}}(I.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(X())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!d&&D){var ye,R=D.getPlaybackRate(),z=k.getCatchupPlaybackRates(),q=I.getBufferLevel(),H=X(),L=k.getCatchupMaxDrift();if(!isNaN(L)&&L>0&&H>L)$.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),d=!0,I.seekToCurrentLive(!0,!1);else{var fe=I.getCurrentLiveLatency(),ie=I.getLiveDelay();ye=he()===i.Z.LIVE_CATCHUP_MODE_LOLP?function(se,V,ue,Se,Ue){var De;if(Ue<Se){var Be=Math.abs(se.min),Le=5*(Ue-Se);De=1-Be+2*Be/(1+Math.pow(Math.E,-Le)),$.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ue+", newRate: "+De)}else{if(Math.abs(V-ue)<=.02*ue)De=1;else{var lt=V-ue,ct=lt<0?Math.abs(se.min):se.max,rt=5*lt;De=1-ct+2*ct/(1+Math.pow(Math.E,-rt))}$.debug("[LoL+ playback control_latency-based] latency: "+V+", newRate: "+De)}return De}(z,fe,ie,F.get().streaming.liveCatchup.playbackBufferMin,q):function(se,V,ue,Se){if(Y)return 1;var Ue=V-ue,De=Ue<0?Math.abs(se.min):se.max,Be=5*Ue,Le=1-De+2*De/(1+Math.pow(Math.E,-Be));return I.getPlaybackStalled()&&Se<=ue/2&&Ue>0&&(Le=1),Le}(z,fe,ie,q);var pe=y?.25:.02/(.5/z.max);ye&&Math.abs(R-ye)>=pe&&($.debug("[CatchupController]: Setting playback rate to ".concat(ye)),D.setPlaybackRate(ye))}}}()}function X(){return I.getCurrentLiveLatency()-I.getLiveDelay()}function he(){var ye=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==i.Z.LIVE_CATCHUP_MODE_LOLP||ye===null||isNaN(ye)?i.Z.LIVE_CATCHUP_MODE_DEFAULT:i.Z.LIVE_CATCHUP_MODE_LOLP}function ee(){k.getCatchupPlaybackRates(!0)}return p={reset:function(){j.off(u.Z.BUFFER_LEVEL_UPDATED,ve,p),j.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,ce,p),j.off(u.Z.PLAYBACK_PROGRESS,_e,p),j.off(u.Z.PLAYBACK_TIME_UPDATED,_e,p),j.off(u.Z.PLAYBACK_SEEKED,K,p),j.off(c.Z.SETTING_UPDATED_CATCHUP_ENABLED,me,p),j.off(c.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,p),j.off(c.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,p),j.off(u.Z.STREAM_INITIALIZED,ee,p),W(),D.setPlaybackRate(1,!0)},setConfig:function(ye){ye&&(ye.settings&&(F=ye.settings),ye.videoModel&&(D=ye.videoModel),ye.streamController&&(x=ye.streamController),ye.playbackController&&(I=ye.playbackController),ye.mediaPlayerModel&&(k=ye.mediaPlayerModel))},initialize:function(){j.on(u.Z.BUFFER_LEVEL_UPDATED,ve,p),j.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,ce,p),j.on(u.Z.PLAYBACK_PROGRESS,_e,p),j.on(u.Z.PLAYBACK_TIME_UPDATED,_e,p),j.on(u.Z.PLAYBACK_SEEKED,K,p),j.on(c.Z.SETTING_UPDATED_CATCHUP_ENABLED,me,p),j.on(c.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,p),j.on(c.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,p),j.on(u.Z.STREAM_INITIALIZED,ee,p),ee()}},$=(0,g.Z)(Q).getInstance().getLogger(p),W(),p}pg.__dashjs_factory_name="CatchupController";var M0=b.Z.getSingletonFactory(pg),L0=[i.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],gg="video",mg="audio";function yg(){var p,d,y,D,F,x=this.context;function I(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},y=[]}function k(Y,$,Q){try{d[Y][$]=Q/1e3}catch(j){D.error(j)}}return p={getServiceDescriptionSettings:function(){return d},getProducerReferenceTimeOffsets:function(){return y},calculateProducerReferenceTimeOffsets:function(Y){try{var $=[];if(Y&&Y.length>0){var Q=[i.Z.VIDEO,i.Z.AUDIO,i.Z.TEXT],j=F.getAvailabilityStartTime()/1e3;Y.forEach(function(W){var K=Q.reduce(function(ve,ce){return ve.concat(F.getAllMediaInfoForType(W,ce))},[]).reduce(function(ve,ce){return F.getProducerReferenceTimes(W,ce).forEach(function(me){var _e=F.getVoRepresentations(ce);if(_e&&_e.length>0&&_e[0].adaptation&&_e[0].segmentInfoType===o.Z.SEGMENT_TEMPLATE){var X=_e[0],he=new Date(me[o.Z.WALL_CLOCK_TIME]).getTime()/1e3-(me[o.Z.PRESENTATION_TIME]/X[o.Z.TIMESCALE]-X[o.Z.PRESENTATION_TIME_OFFSET]+W.start),ee=j-he;ve.push({id:me[o.Z.ID],to:ee})}}),ve},[]);$=$.concat(K)})}y=$}catch(W){D.error(W),y=[]}},applyServiceDescription:function(Y){if(Y&&Y.serviceDescriptions){var $=Y.serviceDescriptions.filter(function(W){return L0.includes(W.schemeIdUri)}),Q=Y.serviceDescriptions.filter(function(W){return W.schemeIdUri==null}),j=$.length>0?$[$.length-1]:Q[Q.length-1];j&&(j.latency&&j.latency.target>0&&function(W){var K;if(W.schemeIdUri,i.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,K=function(_e){return{liveDelay:_e.latency.target/1e3,maxDrift:!isNaN(_e.latency.max)&&_e.latency.max>_e.latency.target?(_e.latency.max-_e.latency.target+500)/1e3:NaN,referenceId:_e.latency.referenceId||NaN}}(W),y.length>0){var ve=function(_e){var X,he=0,ee=y.filter(function(ye){return ye.id===_e.referenceId});return ee.length===0?(he=y.length>0?y[0].to:0,X=y[0].id||NaN):(he=ee[0].to||0,X=ee[0].id||NaN),{to:he,id:X}}(K),ce=ve.to,me=ve.id;d.liveDelay=K.liveDelay-ce,d.liveCatchup.maxDrift=K.maxDrift,D.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(ce," from ProducerReferenceTime element with id ").concat(me,`.
                Live Delay: `).concat(K.liveDelay-ce,", Live catchup max drift: ").concat(K.maxDrift,`
            `))}else d.liveDelay=K.liveDelay,d.liveCatchup.maxDrift=K.maxDrift,D.debug("Found latency properties coming from service description: Live Delay: ".concat(K.liveDelay,", Live catchup max drift: ").concat(K.maxDrift))}(j),j.playbackRate&&function(W){var K=W.playbackRate.min?Math.round(1e3*(W.playbackRate.min-1))/1e3:NaN,ve=W.playbackRate.max?Math.round(1e3*(W.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=K,d.liveCatchup.playbackRate.max=ve,D.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(K)),D.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ve))}(j),j.operatingQuality,j.operatingBandwidth&&function(W){if(W&&W.operatingBandwidth&&W.operatingBandwidth.mediaType&&W.operatingBandwidth.mediaType!=="all"){var K={};K.minBandwidth=W.operatingBandwidth.min,K.maxBandwidth=W.operatingBandwidth.max,K.targetBandwidth=W.operatingBandwidth.target;var ve=[];W.operatingBandwidth.mediaType===gg||W.operatingBandwidth.mediaType===mg?ve.push(W.operatingBandwidth.mediaType):W.operatingBandwidth.mediaType==="any"&&(ve.push(mg),ve.push(gg)),ve.forEach(function(ce){isNaN(K.minBandwidth)||k("minBitrate",ce,K.minBandwidth),isNaN(K.maxBandwidth)||k("maxBitrate",ce,K.maxBandwidth),isNaN(K.targetBandwidth)||k("initialBitrate",ce,K.targetBandwidth)})}}(j),j.contentSteering&&function(W){d.contentSteering=W.contentSteering}(j))}},reset:function(){I()},setConfig:function(Y){Y&&Y.adapter&&(F=Y.adapter)}},D=(0,g.Z)(x).getInstance().getLogger(p),I(),p}yg.__dashjs_factory_name="ServiceDescriptionController";var x0=b.Z.getSingletonFactory(yg),F0=E(3973),wl=E.n(F0),vg=E(3039);function kf(){var p,d,y,D,F,x,I,k,Y=this.context,$=(0,T.Z)(Y).getInstance();function Q(V,ue){return V&&y[ue]&&y[ue][V]?y[ue][V].list:[]}function j(V,ue){return V&&y[ue]&&y[ue][V]?y[ue][V].current:null}function W(V){var ue=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(V&&V.streamInfo){var Se=V.type,Ue=V.streamInfo,De=Ue.id,Be=j(Se,De);if(y[De]&&y[De][Se]&&(y[De][Se].current=V,y[De][Se].current&&(Se!==i.Z.TEXT&&!ce(V,Be)||Se===i.Z.TEXT&&V.isFragmented)&&$.trigger(c.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Be,newMediaInfo:V,switchMode:D.get().streaming.trackSwitchMode[Se]},{streamId:De}),!ue)){var Le=_e(V);if(!Le||!y[De][Se].storeLastSettings)return;Le.roles&&(Le.role=Le.roles[0],delete Le.roles),Le.accessibility&&(Le.accessibility=Le.accessibility[0]),Le.audioChannelConfiguration&&(Le.audioChannelConfiguration=Le.audioChannelConfiguration[0]),x[Se]=Le,k.setSavedMediaSettings(Se,Le)}}}function K(V,ue){V&&ue&&(F[V]=ue)}function ve(V){return V?F[V]:null}function ce(V,ue){if(!V&&!ue)return!0;if(!V||!ue)return!1;var Se=V.id===ue.id,Ue=V.viewpoint===ue.viewpoint,De=JSON.stringify(V.viewpointsWithSchemeIdUri)===JSON.stringify(ue.viewpointsWithSchemeIdUri),Be=V.lang===ue.lang,Le=V.codec===ue.codec,lt=V.roles.toString()===ue.roles.toString(),ct=JSON.stringify(V.rolesWithSchemeIdUri)===JSON.stringify(ue.rolesWithSchemeIdUri),rt=V.accessibility.toString()===ue.accessibility.toString(),ot=JSON.stringify(V.accessibilitiesWithSchemeIdUri)===JSON.stringify(ue.accessibilitiesWithSchemeIdUri),Zt=V.audioChannelConfiguration.toString()===ue.audioChannelConfiguration.toString(),Ne=JSON.stringify(V.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(ue.audioChannelConfigurationsWithSchemeIdUri);return Se&&Le&&Ue&&De&&Be&&lt&&ct&&rt&&ot&&Zt&&Ne}function me(){y={},x={},F={audio:null,video:null,text:null}}function _e(V){var ue={lang:V.lang,viewpoint:V.viewpoint,roles:V.roles,accessibility:V.accessibility,audioChannelConfiguration:V.audioChannelConfiguration,codec:V.codec};return ue.lang||ue.viewpoint||ue.role&&ue.role.length>0||ue.accessibility&&ue.accessibility.length>0||ue.audioChannelConfiguration&&ue.audioChannelConfiguration.length>0?ue:null}function X(V,ue,Se){var Ue=[];return V.forEach(function(De){ue(Se,De)&&Ue.push(De)}),Ue.length!==0?Ue:V}function he(V,ue){try{return!V.lang||V.lang instanceof RegExp?ue.lang.match(V.lang):ue.lang!==""&&(0,vg.extendedFilter)(ue.lang,wl()(V.lang)).length>0}catch{return!1}}function ee(V,ue){return V.index===void 0||V.index===null||ue.index===V.index}function ye(V,ue){return!V.viewpoint||V.viewpoint===ue.viewpoint}function R(V,ue){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ue=!V.role||!!ue.roles.filter(function(De){return De===V.role})[0];return Ue||ue.type===i.Z.AUDIO&&Se}function z(V,ue){return V.accessibility?!!ue.accessibility.filter(function(Se){return Se===V.accessibility})[0]:!ue.accessibility.length}function q(V,ue){return!V.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(Se){return Se===V.audioChannelConfiguration})[0]}function H(V,ue){return!V.codec||V.codec===ue.codec}function L(V){var ue,Se=0,Ue=[];return V.forEach(function(De){(ue=Math.max.apply(Math,De.bitrateList.map(function(Be){return Be.bandwidth})))>Se?(Se=ue,Ue=[De]):ue===Se&&Ue.push(De)}),Ue}function fe(V){var ue,Se=1/0,Ue=[];return V.forEach(function(De){var Be=De.bitrateList.reduce(function(Le,lt){var ct=Math.max(1,lt.width*lt.height);return Le+lt.bandwidth/ct},0);(ue=Be/De.bitrateList.length)<Se?(Se=ue,Ue=[De]):ue===Se&&Ue.push(De)}),Ue}function ie(V){var ue,Se=0,Ue=[];return V.forEach(function(De){(ue=De.representationCount)>Se?(Se=ue,Ue=[De]):ue===Se&&Ue.push(De)}),Ue}function pe(V,ue){if(V===i.Z.TEXT)return ue[0];var Se,Ue=D.get().streaming.selectionModeForInitialTrack,De=I.getCustomInitialTrackSelectionFunction();if(De&&typeof De=="function")Se=De(ue);else switch(Ue){case i.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Se=function(Be){var Le,lt,ct=(Le=0,lt=[],Be.forEach(function(rt){isNaN(rt.selectionPriority)||(rt.selectionPriority>Le?(Le=rt.selectionPriority,lt=[rt]):rt.selectionPriority===Le&&lt.push(rt))}),lt);return ct.length>1&&(ct=L(ct)),ct.length>1&&(ct=ie(ct)),ct}(ue);break;case i.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Se=function(Be){var Le=L(Be);return Le.length>1&&(Le=ie(Le)),Le}(ue);break;case i.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Se=se(ue);break;case i.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Se=function(Be){var Le=fe(Be);return Le.length>1&&(Le=L(Le)),Le}(ue);break;case i.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Se=function(Be){var Le=ie(Be);return Le.length>1&&(Le=L(Be)),Le}(ue);break;default:d.warn("Track selection mode ".concat(Ue," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Se=se(ue)}return Se.length>0?Se[0]:ue[0]}function se(V){return V[0]}return p={setInitialMediaSettingsForType:function(V,ue){var Se=x[V]||ve(V),Ue=Q(V,ue.id),De=[];Se||((Se=k.getSavedMediaSettings(V))&&delete Se.codec,K(V,Se)),Ue&&Ue.length!==0&&(Se&&(De=X(De=Array.from(Ue),he,Se),De=X(De,ee,Se),De=X(De,ye,Se),V===i.Z.AUDIO&&x[V]||(De=X(De,R,Se)),De=X(De,z,Se),De=X(De,q,Se),De=X(De,H,Se)),De.length===0?W(pe(V,Ue),!0):De.length>1?W(pe(V,De)):W(De[0]))},addTrack:function(V){if(V){var ue=V.type;if((Se=ue)===i.Z.AUDIO||Se===i.Z.VIDEO||Se===i.Z.TEXT||Se===i.Z.IMAGE){var Se,Ue,De=V.streamInfo.id;y[De]||(y[De]={audio:{list:[],storeLastSettings:Ue=D.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Ue,current:null},text:{list:[],storeLastSettings:Ue,current:null},image:{list:[],storeLastSettings:Ue,current:null}});for(var Be=y[De][ue].list,Le=0,lt=Be.length;Le<lt;++Le)if(ce(Be[Le],V))return;Be.push(V)}}},getTracksFor:Q,getCurrentTrackFor:j,isCurrentTrack:function(V){if(!V)return!1;var ue=V.type,Se=V.streamInfo.id;return y[Se]&&y[Se][ue]&&ce(y[Se][ue].current,V)},setTrack:W,selectInitialTrack:pe,setInitialSettings:K,getInitialSettings:ve,getTracksWithHighestBitrate:L,getTracksWithHighestEfficiency:fe,getTracksWithWidestRange:ie,isTracksEqual:ce,matchSettings:function(V,ue){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Ue=!1;if(V.lang){if(V.lang instanceof RegExp)Ue=ue.lang.match(V.lang);else if(ue.lang!==""){var De=wl()(V.lang);De&&(Ue=(0,vg.extendedFilter)(ue.lang,De).length>0)}}else Ue=!0;var Be=V.index===void 0||V.index===null||ue.index===V.index,Le=!V.viewpoint||V.viewpoint===ue.viewpoint,lt=!V.role||!!ue.roles.filter(function(ot){return ot===V.role})[0],ct=!V.accessibility||!!ue.accessibility.filter(function(ot){return ot===V.accessibility})[0],rt=!V.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(ot){return ot===V.audioChannelConfiguration})[0];return Ue&&Be&&Le&&(lt||ue.type===i.Z.AUDIO&&Se)&&ct&&rt}catch{return!1}},matchSettingsLang:he,matchSettingsIndex:ee,matchSettingsViewPoint:ye,matchSettingsRole:R,matchSettingsAccessibility:z,matchSettingsAudioChannelConfig:q,saveTextSettingsDisabled:function(){k.setSavedMediaSettings(i.Z.TEXT,null)},setConfig:function(V){V&&(V.domStorage&&(k=V.domStorage),V.settings&&(D=V.settings),V.customParametersModel&&(I=V.customParametersModel))},reset:me},d=(0,g.Z)(Y).getInstance().getLogger(p),me(),p}kf.__dashjs_factory_name="MediaController";var Eg=b.Z.getSingletonFactory(kf);b.Z.updateSingletonFactory(kf.__dashjs_factory_name,Eg);var k0=Eg,bl=NaN,_g=function p(d,y){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p),this.data={baseUrls:d||null,selectedIdx:y||bl},this.children=[]};function Tg(){var p,d,y,D,F=this.context,x=Bt(F).getInstance();function I(Q,j,W){var K=k(W);Q[j]?x.areEqual(K,Q[j].data.baseUrls)||(Q[j].data.baseUrls=K,Q[j].data.selectedIdx=bl):Q[j]=new _g(K)}function k(Q){var j=y.getBaseURLsFromElement(Q),W=D.getSynthesizedBaseUrlElements(j);return W&&W.length>0&&(j=j.concat(W)),j}function Y(Q,j){var W=j||d;Q(W.data),W.children&&W.children.forEach(function(K){return Y(Q,K)})}function $(){d=new _g}return p={reset:$,update:function(Q){(function(j){(function(){if(!y||!y.hasOwnProperty("getBaseURLsFromElement")||!y.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var W=k(j);x.areEqual(W,d.data.baseUrls)||(d.data.baseUrls=W,d.data.selectedIdx=bl),j&&j.Period_asArray&&j.Period_asArray.forEach(function(K,ve){I(d.children,ve,K),K.AdaptationSet_asArray&&K.AdaptationSet_asArray.forEach(function(ce,me){I(d.children[ve].children,me,ce),ce.Representation_asArray&&ce.Representation_asArray.sort(y.getRepresentationSortFunction()).forEach(function(_e,X){I(d.children[ve].children[me].children,X,_e)})})})})(Q)},getForPath:function(Q){var j=d,W=[j.data];return Q&&Q.forEach(function(K){(j=j.children[K])&&W.push(j.data)}),W.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function(Q){Y(function(j){isNaN(j.selectedIdx)||Q===j.baseUrls[j.selectedIdx].serviceLocation&&(j.selectedIdx=bl)})},setConfig:function(Q){Q.adapter&&(y=Q.adapter),Q.contentSteeringController&&(D=Q.contentSteeringController)},getBaseUrls:function(Q){return k(Q)}},$(),p}Tg.__dashjs_factory_name="BaseURLTreeModel";var U0=b.Z.getClassFactory(Tg);function Sg(p){var d=(p=p||{}).blacklistController;return{select:function(y){return y&&function(F){var x,I,k=0,Y=[],$=0;if((I=F.sort(function(Q,j){var W=Q.dvbPriority-j.dvbPriority;return isNaN(W)?0:W}).filter(function(Q,j,W){return!j||W[0].dvbPriority&&Q.dvbPriority&&W[0].dvbPriority===Q.dvbPriority})).length)return I.length>1&&(I.forEach(function(Q){k+=Q.dvbWeight,Y.push(k)}),x=Math.floor(Math.random()*(k-1)),Y.every(function(Q,j){return $=j,!(x<Q)})),I[$]}((D=[],y.filter(function(F){return!d.contains(F.serviceLocation)||(F.dvbPriority&&D.push(F.dvbPriority),!1)}).filter(function(F){return!D.length||!F.dvbPriority||D.indexOf(F.dvbPriority)===-1})));var D}}}Sg.__dashjs_factory_name="DVBSelector";var B0=b.Z.getClassFactory(Sg);function Ag(p){var d=(p=p||{}).blacklistController;return{select:function(y){var D,F=0;return y&&y.some(function(x,I){return F=I,!d.contains(x.serviceLocation)})&&(D=y[F]),D}}}Ag.__dashjs_factory_name="BasicSelector";var Z0=b.Z.getClassFactory(Ag);function wg(){var p,d,y,D=this.context;function F(){for(var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=0,Y=NaN,$=function(){var j=x[k],W=I.findIndex(function(K){return K.serviceLocation&&K.serviceLocation===j});if(W!==-1&&!y.contains(I[W].serviceLocation))return Y=W,"break";k+=1};k<x.length;){var Q=$();if(Q==="break")break}return Y}return p={selectBaseUrlIndex:function(x){var I=NaN;if(isNaN(x.selectedIdx)){var k=d.getSteeringDataFromManifest();k&&k.defaultServiceLocationArray.length>0&&(I=F(k.defaultServiceLocationArray,x.baseUrls))}var Y=d.getCurrentSteeringResponseData();return x.baseUrls&&x.baseUrls.length&&Y&&Y.pathwayPriority&&Y.pathwayPriority.length&&(I=F(Y.pathwayPriority,x.baseUrls)),I},setConfig:function(x){x.blacklistController&&(y=x.blacklistController),x.contentSteeringController&&(d=x.contentSteeringController)}},d=Ti(D).getInstance(),p}wg.__dashjs_factory_name="ContentSteeringSelector";var j0=b.Z.getClassFactory(wg);function bg(){var p,d,y,D,F,x,I=this.context,k=(0,T.Z)(I).getInstance(),Y=(0,we.Z)(I).getInstance();function $(){d.reset()}return p={chooseSelector:function(Q){(0,oe.PS)(Q,"boolean"),x=Q?D:y},select:function(Q){if(Q){if(Y.get().streaming.applyContentSteering){var j=F.selectBaseUrlIndex(Q);isNaN(j)||j===-1||(Q.selectedIdx=j)}if(!isNaN(Q.selectedIdx))return Q.baseUrls[Q.selectedIdx];var W=x.select(Q.baseUrls);return W?(Q.selectedIdx=Q.baseUrls.indexOf(W),W):(k.trigger(c.Z.URL_RESOLUTION_FAILED,{error:new de.Z(ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(x===y&&$()))}},reset:$,setConfig:function(Q){Q.selector&&(x=Q.selector),Q.contentSteeringSelector&&(F=Q.contentSteeringSelector)}},d=Qa(I).create({updateEventName:c.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:c.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),y=Z0(I).create({blacklistController:d}),D=B0(I).create({blacklistController:d}),(F=j0(I).create()).setConfig({blacklistController:d}),x=y,p}bg.__dashjs_factory_name="BaseURLSelector";var G0=b.Z.getClassFactory(bg);function Rg(){var p,d,y,D,F,x=this.context,I=(0,T.Z)(x).getInstance(),k=(0,nt.Z)(x).getInstance();function Y(Q){y.update(Q),D.chooseSelector(d.getIsDVB(Q)),I.trigger(u.Z.BASE_URLS_UPDATED,{baseUrls:$(Q)})}function $(Q){return y.getBaseUrls(Q)}return p={reset:function(){y.reset(),D.reset()},initialize:function(Q){y.setConfig({adapter:d,contentSteeringController:F}),Y(Q)},resolve:function(Q){var j=y.getForPath(Q).reduce(function(W,K){var ve=D.select(K);return ve?(k.isRelative(ve.url)?W.url=k.resolve(ve.url,W.url):(W.url=ve.url,W.serviceLocation=ve.serviceLocation),W.availabilityTimeOffset=ve.availabilityTimeOffset,W.availabilityTimeComplete=ve.availabilityTimeComplete,W.queryParams=ve.queryParams,W):new vi},new vi);if(!k.isRelative(j.url))return j},setConfig:function(Q){Q.baseURLTreeModel&&(y=Q.baseURLTreeModel),Q.baseURLSelector&&(D=Q.baseURLSelector),Q.adapter&&(d=Q.adapter),Q.contentSteeringController&&(F=Q.contentSteeringController)},getBaseUrls:$,update:Y},y=U0(x).create(),D=G0(x).create(),I.on(c.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(Q){y.invalidateSelectedIndexes(Q.entry)},p),p}Rg.__dashjs_factory_name="BaseURLController";var q0=b.Z.getClassFactory(Rg);function Uf(p){return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Uf(p)}function Bf(p,d){return Bf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Bf(p,d)}function H0(p,d){return!d||Uf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Rl(p){return Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Rl(p)}var Ig=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Bf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Rl(d);if(y){var k=Rl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return H0(this,x)});function F(x,I){var k;return function(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")}(this,F),(k=D.call(this)).url=x||null,k.type=I||null,k.mediaType=i.Z.STREAM,k.responseType="",k}return F}(C.Z);function Ng(p){p=p||{};var d=this.context,y=(0,T.Z)(d).getInstance(),D=Fr(d).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,errors:ae});return{load:function(F,x,I){var k=function($,Q){x.resolved=!0,x.resolvedContent=$||null,y.trigger(c.Z.XLINK_ELEMENT_LOADED,{element:x,resolveObject:I,error:$||Q?null:new de.Z(ae.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ae.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+F)})};if(F==="urn:mpeg:dash:resolve-to-zero:2013")k(null,!0);else{var Y=new Ig(F,Pe.w.XLINK_EXPANSION_TYPE);D.load({request:Y,success:function($){k($)},error:function(){k(null)}})}},reset:function(){D&&(D.abort(),D=null)}}}Ng.__dashjs_factory_name="XlinkLoader";var z0=b.Z.getClassFactory(Ng),Cg=function(p){(p=p||{}).escapeMode===void 0&&(p.escapeMode=!0),p.attributePrefix===void 0&&(p.attributePrefix="_"),p.arrayAccessForm=p.arrayAccessForm||"none",p.emptyNodeForm=p.emptyNodeForm||"text",p.enableToStringFunc===void 0&&(p.enableToStringFunc=!0),p.arrayAccessFormPaths=p.arrayAccessFormPaths||[],p.skipEmptyTextNodesForObj===void 0&&(p.skipEmptyTextNodesForObj=!0),p.stripWhitespaces===void 0&&(p.stripWhitespaces=!0),p.datetimeAccessFormPaths=p.datetimeAccessFormPaths||[],p.useDoubleQuotes===void 0&&(p.useDoubleQuotes=!1),p.xmlElementsFilter=p.xmlElementsFilter||[],p.jsonPropertiesFilter=p.jsonPropertiesFilter||[],p.keepCData===void 0&&(p.keepCData=!1),p.ignoreRoot===void 0&&(p.ignoreRoot=!1);function d(X){var he=X.localName;return he==null&&(he=X.baseName),he!=null&&he!=""||(he=X.nodeName),he}function y(X){return typeof X=="string"?X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):X}function D(X,he,ee,ye){for(var R=0;R<X.length;R++){var z=X[R];if(typeof z=="string"){if(z==ye)break}else if(z instanceof RegExp){if(z.test(ye))break}else if(typeof z=="function"&&z(he,ee,ye))break}return R!=X.length}function F(X,he,ee){p.arrayAccessForm==="property"&&(X[he]instanceof Array?X[he+"_asArray"]=X[he]:X[he+"_asArray"]=[X[he]]),!(X[he]instanceof Array)&&p.arrayAccessFormPaths.length>0&&D(p.arrayAccessFormPaths,X,he,ee)&&(X[he]=[X[he]])}function x(X){var he=X.split(/[-T:+Z]/g),ee=new Date(he[0],he[1]-1,he[2]),ye=he[5].split(".");if(ee.setHours(he[3],he[4],ye[0]),ye.length>1&&ee.setMilliseconds(ye[1]),he[6]&&he[7]){var R=60*he[6]+Number(he[7]);R=0+((/\d\d-\d\d:\d\d$/.test(X)?"-":"+")=="-"?-1*R:R),ee.setMinutes(ee.getMinutes()-R-ee.getTimezoneOffset())}else X.indexOf("Z",X.length-1)!==-1&&(ee=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds())));return ee}function I(X,he,ee,ye){return!(he==1&&p.xmlElementsFilter.length>0)||D(p.xmlElementsFilter,X,ee,ye)}function k(X,he){if(X.nodeType==9){for(var ee=new Object,ye=X.childNodes,R=0;R<ye.length;R++)(q=ye[R]).nodeType==1&&(p.ignoreRoot?ee=k(q):(ee={})[H=d(q)]=k(q));return ee}if(X.nodeType==1){(ee=new Object).__cnt=0;var z=[];for(ye=X.childNodes,R=0;R<ye.length;R++){var q,H=d(q=ye[R]);if(q.nodeType!=8){var L=he+"."+H;if(I(ee,q.nodeType,H,L))if(ee.__cnt++,ee[H]==null){var fe=k(q,L);(H!="#text"||/[^\s]/.test(fe))&&((ie={})[H]=fe,z.push(ie)),ee[H]=fe,F(ee,H,L)}else{var ie;ee[H]!=null&&(ee[H]instanceof Array||(ee[H]=[ee[H]],F(ee,H,L))),fe=k(q,L),(H!="#text"||/[^\s]/.test(fe))&&((ie={})[H]=fe,z.push(ie)),ee[H][ee[H].length]=fe}}}ee.__children=z;for(var pe=d(X),se=0;se<X.attributes.length;se++){var V=X.attributes[se];ee.__cnt++;for(var ue=V.value,Se=0,Ue=p.matchers.length;Se<Ue;Se++){var De=p.matchers[Se];De.test(V,pe)&&(ue=De.converter(V.value))}ee[p.attributePrefix+V.name]=ue}var Be=function(Le){return Le.prefix}(X);return Be!=null&&Be!=""&&(ee.__cnt++,ee.__prefix=Be),ee["#text"]!=null&&(ee.__text=ee["#text"],ee.__text instanceof Array&&(ee.__text=ee.__text.join(`
`)),p.stripWhitespaces&&(ee.__text=ee.__text.trim()),delete ee["#text"],p.arrayAccessForm=="property"&&delete ee["#text_asArray"],ee.__text=function(Le,lt,ct){if(p.datetimeAccessFormPaths.length>0){var rt=ct.split(".#")[0];return D(p.datetimeAccessFormPaths,Le,lt,rt)?x(Le):Le}return Le}(ee.__text,H,he+"."+H)),ee["#cdata-section"]!=null&&(ee.__cdata=ee["#cdata-section"],delete ee["#cdata-section"],p.arrayAccessForm=="property"&&delete ee["#cdata-section_asArray"]),ee.__cnt==0&&p.emptyNodeForm=="text"?ee="":ee.__cnt==1&&ee.__text!=null?ee=ee.__text:ee.__cnt!=1||ee.__cdata==null||p.keepCData?ee.__cnt>1&&ee.__text!=null&&p.skipEmptyTextNodesForObj&&(p.stripWhitespaces&&ee.__text==""||ee.__text.trim()=="")&&delete ee.__text:ee=ee.__cdata,delete ee.__cnt,!p.enableToStringFunc||ee.__text==null&&ee.__cdata==null||(ee.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ee}if(X.nodeType==3||X.nodeType==4)return X.nodeValue}function Y(X,he,ee,ye){var R="<"+(X!=null&&X.__prefix!=null?X.__prefix+":":"")+he;if(ee!=null)for(var z=0;z<ee.length;z++){var q=ee[z],H=X[q];p.escapeMode&&(H=y(H)),R+=" "+q.substr(p.attributePrefix.length)+"=",p.useDoubleQuotes?R+='"'+H+'"':R+="'"+H+"'"}return R+(ye?"/>":">")}function $(X,he){return"</"+(X.__prefix!=null?X.__prefix+":":"")+he+">"}function Q(X,he){return p.arrayAccessForm=="property"&&(ye="_asArray",(ee=he.toString()).indexOf(ye,ee.length-ye.length)!==-1)||he.toString().indexOf(p.attributePrefix)==0||he.toString().indexOf("__")==0||X[he]instanceof Function;var ee,ye}function j(X){var he=0;if(X instanceof Object)for(var ee in X)Q(X,ee)||he++;return he}function W(X,he,ee){return p.jsonPropertiesFilter.length==0||ee==""||D(p.jsonPropertiesFilter,X,he,ee)}function K(X){var he=[];if(X instanceof Object)for(var ee in X)ee.toString().indexOf("__")==-1&&ee.toString().indexOf(p.attributePrefix)==0&&he.push(ee);return he}function ve(X){var he="";return X instanceof Object?he+=function(ee){var ye="";return ee.__cdata!=null&&(ye+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(p.escapeMode?ye+=y(ee.__text):ye+=ee.__text),ye}(X):X!=null&&(p.escapeMode?he+=y(X):he+=X),he}function ce(X,he){return X===""?he:X+"."+he}function me(X,he,ee,ye){var R="";if(X.length==0)R+=Y(X,he,ee,!0);else for(var z=0;z<X.length;z++)R+=Y(X[z],he,K(X[z]),!1),R+=_e(X[z],ce(ye,he)),R+=$(X[z],he);return R}function _e(X,he){var ee="";if(j(X)>0){for(var ye in X)if(!Q(X,ye)&&(he==""||W(X,ye,ce(he,ye)))){var R=X[ye],z=K(R);R==null||R==null?ee+=Y(R,ye,z,!0):R instanceof Object?R instanceof Array?ee+=me(R,ye,z,he):R instanceof Date?(ee+=Y(R,ye,z,!1),ee+=R.toISOString(),ee+=$(R,ye)):j(R)>0||R.__text!=null||R.__cdata!=null?(ee+=Y(R,ye,z,!1),ee+=_e(R,ce(he,ye)),ee+=$(R,ye)):ee+=Y(R,ye,z,!0):(ee+=Y(R,ye,z,!1),ee+=ve(R),ee+=$(R,ye))}}return ee+ve(X)}this.parseXmlString=function(X){var he;if(X===void 0)return null;if(window.DOMParser){var ee=new window.DOMParser;try{(he=ee.parseFromString(X,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(he=null)}catch{he=null}}else X.indexOf("<?")==0&&(X=X.substr(X.indexOf("?>")+2)),(he=new ActiveXObject("Microsoft.XMLDOM")).async="false",he.loadXML(X);return he},this.asArray=function(X){return X===void 0||X==null?[]:X instanceof Array?X:[X]},this.toXmlDateTime=function(X){return X instanceof Date?X.toISOString():typeof X=="number"?new Date(X).toISOString():null},this.asDateTime=function(X){return typeof X=="string"?x(X):X},this.xml2json=function(X){return k(X)},this.xml_str2json=function(X){var he=this.parseXmlString(X);return he!=null?this.xml2json(he):null},this.json2xml_str=function(X){return _e(X,"")},this.json2xml=function(X){var he=this.json2xml_str(X);return this.parseXmlString(he)},this.getVersion=function(){return"1.2.0"}},Ja="onLoad";function Dg(p){p=p||{};var d,y,D,F,x,I,k=this.context,Y=(0,T.Z)(k).getInstance(),$=(0,nt.Z)(k).getInstance();function Q(ce,me,_e){var X,he,ee={};ee.elements=ce,ee.type=me,ee.resolveType=_e,ee.elements.length===0&&W(ee);for(var ye=0;ye<ee.elements.length;ye++)X=ee.elements[ye],he=$.isHTTPURL(X.url)?X.url:X.originalContent.BaseURL+X.url,I.load(he,X,ee)}function j(ce){var me,_e,X="";if(me=ce.element,_e=ce.resolveObject,me.resolvedContent){var he=0;me.resolvedContent.indexOf("<?xml")===0&&(he=me.resolvedContent.indexOf("?>")+2),X=me.resolvedContent.substr(0,he)+"<response>"+me.resolvedContent.substr(he)+"</response>",me.resolvedContent=x.xml_str2json(X)}(function(ee){var ye;for(ye=0;ye<ee.elements.length;ye++)if(ee.elements[ye].resolved===!1)return!1;return!0})(_e)&&W(_e)}function W(ce){var me,_e,X=[];if(function(he){var ee,ye,R,z,q,H,L=[];for(z=he.elements.length-1;z>=0;z--){if(ye=(ee=he.elements[z]).type+"_asArray",ee.resolvedContent){if(ee.resolvedContent)for(q=0;q<ee.resolvedContent[ye].length;q++)R=ee.resolvedContent[ye][q],L.push(R)}else delete ee.originalContent["xlink:actuate"],delete ee.originalContent["xlink:href"],L.push(ee.originalContent);for(ee.parentElement[ye].splice(ee.index,1),H=0;H<L.length;H++)ee.parentElement[ye].splice(ee.index+H,0,L[H]);L=[]}he.elements.length>0&&D.run(F)}(ce),ce.resolveType==="onActuate"&&Y.trigger(c.Z.XLINK_READY,{manifest:F}),ce.resolveType===Ja)switch(ce.type){case o.Z.PERIOD:for(me=0;me<F[o.Z.PERIOD+"_asArray"].length;me++)(_e=F[o.Z.PERIOD+"_asArray"][me]).hasOwnProperty(o.Z.ADAPTATION_SET+"_asArray")&&(X=X.concat(K(_e[o.Z.ADAPTATION_SET+"_asArray"],_e,o.Z.ADAPTATION_SET,Ja))),_e.hasOwnProperty(o.Z.EVENT_STREAM+"_asArray")&&(X=X.concat(K(_e[o.Z.EVENT_STREAM+"_asArray"],_e,o.Z.EVENT_STREAM,Ja)));Q(X,o.Z.ADAPTATION_SET,Ja);break;case o.Z.ADAPTATION_SET:Y.trigger(c.Z.XLINK_READY,{manifest:F})}}function K(ce,me,_e,X){var he,ee,ye,R=[];for(ee=ce.length-1;ee>=0;ee--)(he=ce[ee]).hasOwnProperty("xlink:href")&&he["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&ce.splice(ee,1);for(ee=0;ee<ce.length;ee++)(he=ce[ee]).hasOwnProperty("xlink:href")&&he.hasOwnProperty("xlink:actuate")&&he["xlink:actuate"]===X&&(ye=ve(he["xlink:href"],me,_e,ee,X,he),R.push(ye));return R}function ve(ce,me,_e,X,he,ee){return{url:ce,parentElement:me,type:_e,index:X,resolveType:he,originalContent:ee,resolvedContent:null,resolved:!1}}return d={resolveManifestOnLoad:function(ce){x=new Cg({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:y}),(F=ce).Period_asArray?Q(K(F.Period_asArray,F,o.Z.PERIOD,Ja),o.Z.PERIOD,Ja):Y.trigger(c.Z.XLINK_READY,{manifest:F})},setMatchers:function(ce){ce&&(y=ce)},setIron:function(ce){ce&&(D=ce)},reset:function(){Y.off(c.Z.XLINK_ELEMENT_LOADED,j,d),I&&(I.reset(),I=null)}},Y.on(c.Z.XLINK_ELEMENT_LOADED,j,d),I=z0(k).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,settings:p.settings}),d}Dg.__dashjs_factory_name="XlinkController";var Y0=b.Z.getClassFactory(Dg);function eu(p){return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},eu(p)}function Og(p){function d(F,x){for(var I in F)x.hasOwnProperty(I)||(x[I]=F[I])}function y(F,x,I){for(var k=0,Y=F.length;k<Y;++k){var $=F[k];if(x[$.name])if(I[$.name]){if($.merge){var Q=x[$.name],j=I[$.name];eu(Q)==="object"&&eu(j)==="object"?d(Q,j):I[$.name]=Q+j}}else I[$.name]=x[$.name]}}function D(F,x){for(var I=0,k=F.children.length;I<k;++I){var Y=F.children[I],$=x[Y.name+"_asArray"];if($)for(var Q=0,j=$.length;Q<j;++Q){var W=$[Q];y(F.properties,x,W),D(Y,W)}}}return{run:function(F){if(F===null||eu(F)!=="object")return F;if(F.Period_asArray&&"period"in p)for(var x=p.period,I=F.Period_asArray,k=0,Y=I.length;k<Y;++k){var $=I[k];if(D(x,$),"adaptationset"in p){var Q=$.AdaptationSet_asArray;if(Q)for(var j=p.adaptationset,W=0,K=Q.length;W<K;++W)D(j,Q[W])}}return F}}}Og.__dashjs_factory_name="ObjectIron";var V0=b.Z.getClassFactory(Og);function K0(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var tu=function(){function p(D,F){(function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")})(this,p),this._test=D,this._converter=F}var d,y;return d=p,(y=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&K0(d.prototype,y),p}();function Zf(p){return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Zf(p)}function Xn(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function jf(p,d){return jf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},jf(p,d)}function W0(p,d){return!d||Zf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Il(p){return Il=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Il(p)}var Q0=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&jf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Il(d);if(y){var k=Il(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return W0(this,x)});function F(){return function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,F),D.call(this,function(x,I){var k,Y=(Xn(k={},o.Z.MPD,[o.Z.ID,o.Z.PROFILES]),Xn(k,o.Z.PERIOD,[o.Z.ID]),Xn(k,o.Z.BASE_URL,[o.Z.SERVICE_LOCATION,o.Z.BYTE_RANGE]),Xn(k,o.Z.SEGMENT_BASE,[o.Z.INDEX_RANGE]),Xn(k,o.Z.INITIALIZATION,[o.Z.RANGE]),Xn(k,o.Z.REPRESENTATION_INDEX,[o.Z.RANGE]),Xn(k,o.Z.SEGMENT_LIST,[o.Z.INDEX_RANGE]),Xn(k,o.Z.BITSTREAM_SWITCHING,[o.Z.RANGE]),Xn(k,o.Z.SEGMENT_URL,[o.Z.MEDIA_RANGE,o.Z.INDEX_RANGE]),Xn(k,o.Z.SEGMENT_TEMPLATE,[o.Z.INDEX_RANGE,o.Z.MEDIA,o.Z.INDEX,o.Z.INITIALIZATION_MINUS,o.Z.BITSTREAM_SWITCHING_MINUS]),Xn(k,o.Z.ASSET_IDENTIFIER,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.EVENT_STREAM,[o.Z.VALUE]),Xn(k,o.Z.ADAPTATION_SET,[o.Z.PROFILES,o.Z.MIME_TYPE,o.Z.SEGMENT_PROFILES,o.Z.CODECS,o.Z.CONTENT_TYPE]),Xn(k,o.Z.FRAME_PACKING,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.AUDIO_CHANNEL_CONFIGURATION,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.CONTENT_PROTECTION,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.ESSENTIAL_PROPERTY,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.SUPPLEMENTAL_PROPERTY,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.INBAND_EVENT_STREAM,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.ACCESSIBILITY,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.ROLE,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.RATING,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.VIEWPOINT,[o.Z.VALUE,o.Z.ID]),Xn(k,o.Z.CONTENT_COMPONENT,[o.Z.CONTENT_TYPE]),Xn(k,o.Z.REPRESENTATION,[o.Z.ID,o.Z.DEPENDENCY_ID,o.Z.MEDIA_STREAM_STRUCTURE_ID]),Xn(k,o.Z.SUBSET,[o.Z.ID]),Xn(k,o.Z.METRICS,[o.Z.METRICS_MINUS]),Xn(k,o.Z.REPORTING,[o.Z.VALUE,o.Z.ID]),k);if(Y.hasOwnProperty(I)){var $=Y[I];return $!==void 0&&$.indexOf(x.name)>=0}return!1},function(x){return String(x)})}return F}(tu);function Gf(p){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Gf(p)}function qf(p,d){return qf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},qf(p,d)}function X0(p,d){return!d||Gf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Nl(p){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Nl(p)}var Pg=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,$0=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&qf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Nl(d);if(y){var k=Nl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return X0(this,x)});function F(){return function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,F),D.call(this,function(x){for(var I=[o.Z.MIN_BUFFER_TIME,o.Z.MEDIA_PRESENTATION_DURATION,o.Z.MINIMUM_UPDATE_PERIOD,o.Z.TIMESHIFT_BUFFER_DEPTH,o.Z.MAX_SEGMENT_DURATION,o.Z.MAX_SUBSEGMENT_DURATION,o.Z.SUGGESTED_PRESENTATION_DELAY,o.Z.START,i.Z.START_TIME,o.Z.DURATION],k=I.length,Y=0;Y<k;Y++)if(x.nodeName===I[Y])return Pg.test(x.value);return!1},function(x){var I=Pg.exec(x),k=31536e3*parseFloat(I[3]||0)+2592e3*parseFloat(I[5]||0)+86400*parseFloat(I[7]||0)+3600*parseFloat(I[9]||0)+60*parseFloat(I[11]||0)+parseFloat(I[13]||0);return I[1]!==void 0&&(k=-k),k})}return F}(tu);function Hf(p){return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Hf(p)}function zf(p,d){return zf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},zf(p,d)}function J0(p,d){return!d||Hf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Cl(p){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Cl(p)}var Mg=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,eT=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&zf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Cl(d);if(y){var k=Cl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return J0(this,x)});function F(){return function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,F),D.call(this,function(x){return Mg.test(x.value)},function(x){var I,k=Mg.exec(x);if(I=Date.UTC(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10),k[6]&&parseInt(k[6],10)||0,k[7]&&1e3*parseFloat(k[7])||0),k[9]&&k[10]){var Y=60*parseInt(k[9],10)+parseInt(k[10],10);I+=(k[8]==="+"?-1:1)*Y*60*1e3}return new Date(I)})}return F}(tu);function Yf(p){return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Yf(p)}function Vf(p,d){return Vf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Vf(p,d)}function tT(p,d){return!d||Yf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Dl(p){return Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Dl(p)}var nT=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,rT=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Vf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Dl(d);if(y){var k=Dl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return tT(this,x)});function F(){return function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,F),D.call(this,function(x){return nT.test(x.value)},function(x){return parseFloat(x)})}return F}(tu);function Kf(p){return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Kf(p)}function nu(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function Wf(p,d){return Wf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Wf(p,d)}function iT(p,d){return!d||Kf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Ol(p){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Ol(p)}var oT=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Wf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Ol(d);if(y){var k=Ol(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return iT(this,x)});function F(){return function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,F),D.call(this,function(x,I){var k,Y=(nu(k={},o.Z.ADAPTATION_SET,[o.Z.LANG]),nu(k,o.Z.REPRESENTATION,[o.Z.LANG]),nu(k,o.Z.CONTENT_COMPONENT,[o.Z.LANG]),nu(k,o.Z.LABEL,[o.Z.LANG]),nu(k,o.Z.GROUP_LABEL,[o.Z.LANG]),k);if(Y.hasOwnProperty(I)){var $=Y[I];return $!==void 0&&$.indexOf(x.name)>=0}return!1},function(x){return wl()(x)||String(x)})}return F}(tu);function aT(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var sT=function(){function p(D){var F;(function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")})(this,p),this._name=D,this._merge=(F=D)&&F.length&&F.charAt(0)===F.charAt(0).toUpperCase()}var d,y;return d=p,(y=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&aT(d.prototype,y),p}();function uT(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var es=function(){function p(D,F,x){var I=this;(function(k,Y){if(!(k instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,p),this._name=D||"",this._properties=[],this._children=x||[],Array.isArray(F)&&F.forEach(function(k){I._properties.push(new sT(k))})}var d,y;return d=p,(y=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&uT(d.prototype,y),p}();function Qf(p){return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Qf(p)}function Xf(p,d){return Xf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Xf(p,d)}function lT(p,d){return!d||Qf(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Pl(p){return Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Pl(p)}var cT=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Xf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Pl(d);if(y){var k=Pl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return lT(this,x)});function F(){(function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")})(this,F);var x=[o.Z.PROFILES,o.Z.WIDTH,o.Z.HEIGHT,o.Z.SAR,o.Z.FRAMERATE,o.Z.AUDIO_SAMPLING_RATE,o.Z.MIME_TYPE,o.Z.SEGMENT_PROFILES,o.Z.CODECS,o.Z.MAXIMUM_SAP_PERIOD,o.Z.START_WITH_SAP,o.Z.MAX_PLAYOUT_RATE,o.Z.CODING_DEPENDENCY,o.Z.SCAN_TYPE,o.Z.FRAME_PACKING,o.Z.AUDIO_CHANNEL_CONFIGURATION,o.Z.CONTENT_PROTECTION,o.Z.ESSENTIAL_PROPERTY,o.Z.ESSENTIAL_PROPERTY+"_asArray",o.Z.SUPPLEMENTAL_PROPERTY,o.Z.INBAND_EVENT_STREAM];return D.call(this,o.Z.ADAPTATION_SET,x,[new es(o.Z.REPRESENTATION,x,[new es(o.Z.SUB_REPRESENTATION,x)])])}return F}(es);function $f(p){return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},$f(p)}function Jf(p,d){return Jf=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},Jf(p,d)}function fT(p,d){return!d||$f(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Ml(p){return Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Ml(p)}var dT=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&Jf(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Ml(d);if(y){var k=Ml(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return fT(this,x)});function F(){(function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")})(this,F);var x=[o.Z.SEGMENT_BASE,o.Z.SEGMENT_TEMPLATE,o.Z.SEGMENT_LIST];return D.call(this,o.Z.PERIOD,x,[new es(o.Z.ADAPTATION_SET,x,[new es(o.Z.REPRESENTATION,x)])])}return F}(es);function Lg(p){p=p||{};var d,y,D,F,x,I=this.context,k=p.debug;return d={parse:function(Y){var $,Q=window.performance.now();if(!($=F.xml_str2json(Y)))throw new Error("parsing the manifest failed");var j=window.performance.now();$.Patch?(($=$.Patch).add_asArray&&$.add_asArray.forEach(function(K){return x.run(K)}),$.replace_asArray&&$.replace_asArray.forEach(function(K){return x.run(K)})):($=$.MPD,x.run($));var W=window.performance.now();return y.info("Parsing complete: ( xml2json: "+(j-Q).toPrecision(3)+"ms, objectiron: "+(W-j).toPrecision(3)+"ms, total: "+((W-Q)/1e3).toPrecision(3)+"s)"),$.protocol="DASH",$},getMatchers:function(){return D},getIron:function(){return x}},y=k.getLogger(d),D=[new $0,new eT,new rT,new oT,new Q0],F=new Cg({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:D}),x=V0(I).create({adaptationset:new cT,period:new dT}),d}Lg.__dashjs_factory_name="DashParser";var hT=b.Z.getClassFactory(Lg);function xg(p){p=p||{};var d,y,D,F,x,I=this.context,k=p.debug,Y=p.settings,$=(0,T.Z)(I).getInstance(),Q=(0,nt.Z)(I).getInstance(),j=p.mssHandler,W=p.errHandler;function K(ce){$.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:ce.manifest})}function ve(ce){var me=null;return ce.indexOf("SmoothStreamingMedia")>-1?(j&&(me=j.createMssParser(),j.createMssFragmentProcessor(),j.registerEvents()),me):ce.indexOf("MPD")>-1||ce.indexOf("Patch")>-1?hT(I).create({debug:k}):me}return d={load:function(ce){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=new Date,he=new Ig(ce,Pe.w.MPD_TYPE);me&&(he.serviceLocation=me),_e&&(he.queryParams=_e),he.requestStartDate||(he.requestStartDate=X),$.trigger(c.Z.MANIFEST_LOADING_STARTED,{request:he}),D.load({request:he,success:function(ee,ye,R){var z,q,H;if(F)if(R&&R!==ce?(q=Q.parseBaseUrl(R),z=R):(Q.isRelative(ce)&&(ce=Q.resolve(ce,window.location.href)),q=Q.parseBaseUrl(ce)),ye!="No Content")if(x===null&&(x=ve(ee)),x!==null){F.setMatchers(x.getMatchers()),F.setIron(x.getIron());try{H=x.parse(ee)}catch{return void $.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}if(H){if(H.url=z||ce,H.originalUrl||(H.originalUrl=H.url),Y&&Y.get().streaming.enableManifestDurationMismatchFix&&H.mediaPresentationDuration&&H.Period_asArray.length>1){var L=H.Period_asArray.reduce(function(fe,ie){return fe+ie.duration},0);!isNaN(L)&&H.mediaPresentationDuration>L&&(y.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),H.mediaPresentationDuration=L)}H.baseUri=q,H.loadedTime=new Date,F.resolveManifestOnLoad(H),$.trigger(c.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:ee})}else $.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}else $.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))});else $.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ee,ye,R){$.trigger(c.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ce,", ").concat(R))})}})},reset:function(){$.off(c.Z.XLINK_READY,K,d),j&&j.reset(),F&&(F.reset(),F=null),D&&(D.abort(),D=null)}},y=k.getLogger(d),$.on(c.Z.XLINK_READY,K,d),D=Fr(I).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,urlUtils:Q,constants:i.Z,dashConstants:o.Z,errors:ae,requestTimeout:p.settings.get().streaming.manifestRequestTimeout}),F=Y0(I).create({errHandler:W,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,settings:p.settings}),x=null,d}xg.__dashjs_factory_name="ManifestLoader";var pT=b.Z.getClassFactory(xg);function Fg(){var p=this.context,d=(0,T.Z)(p).getInstance();return{error:function(y){d.trigger(c.Z.ERROR,{error:y})}}}Fg.__dashjs_factory_name="ErrorHandler";var gT=b.Z.getSingletonFactory(Fg),kg=E(1715);function Ug(){var p,d,y,D,F,x,I=this.context,k=(0,T.Z)(I).getInstance();function Y($,Q){if(!Q||!Q.Period_asArray||Q.Period_asArray.length===0)return Promise.resolve();var j=[];return Q.Period_asArray.forEach(function(W){j.push(function(K,ve){return new Promise(function(ce){if(K&&K.AdaptationSet_asArray&&K.AdaptationSet_asArray.length!==0){var me=[];K.AdaptationSet_asArray.forEach(function(_e){d.getIsTypeOf(_e,ve)&&me.push(function(X,he){return new Promise(function(ee){if(X.Representation_asArray&&X.Representation_asArray.length!==0){var ye=[],R=[];X.Representation_asArray.forEach(function(z,q){var H=d.getCodec(X,q,!1),L=function(fe,ie,pe){switch(fe){case i.Z.VIDEO:return function(se,V){return{codec:V,width:se.width||null,height:se.height||null,framerate:se.frameRate||null,bitrate:se.bandwidth||null}}(ie,pe);case i.Z.AUDIO:return function(se,V){var ue=se.audioSamplingRate||null;return{codec:V,bitrate:se.bandwidth||null,samplerate:ue}}(ie,pe);default:return null}}(he,z,H);R.push(L),ye.push(y.supportsCodec(L,he))}),Promise.all(ye).then(function(z){X.Representation_asArray=X.Representation_asArray.filter(function(q,H){return z[H]||x.debug("[Stream] Codec ".concat(R[H].codec," not supported ")),z[H]}),ee()}).catch(function(){ee()})}else ee()})}(_e,ve))}),Promise.all(me).then(function(){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(_e){var X=_e.Representation_asArray&&_e.Representation_asArray.length>0;return X||(k.trigger(c.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:_e}),x.warn("AdaptationSet has been removed because of no supported Representation")),X}),ce()}).catch(function(){ce()})}else ce()})}(W,$))}),Promise.all(j)}return p={setConfig:function($){$&&($.adapter&&(d=$.adapter),$.capabilities&&(y=$.capabilities),$.settings&&(D=$.settings),$.customParametersModel&&(F=$.customParametersModel))},filterUnsupportedFeatures:function($){return new Promise(function(Q){var j=[];j.push(Y(i.Z.VIDEO,$)),j.push(Y(i.Z.AUDIO,$)),Promise.all(j).then(function(){D.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(W){W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(K){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(ve){return!ve.Representation_asArray||ve.Representation_asArray.length===0||(ve.Representation_asArray=ve.Representation_asArray.filter(function(ce){var me=d.getEssentialPropertiesForRepresentation(ce);if(me&&me.length>0)for(var _e=0;_e<me.length;){if(!y.supportsEssentialProperty(me[_e]))return x.debug("[Stream] EssentialProperty not supported: "+me[_e].schemeIdUri),!1;_e+=1}return!0}),ve.Representation_asArray&&ve.Representation_asArray.length>0)})})}($),function(W){var K=F.getCustomCapabilitiesFilters();K&&K.length!==0&&W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(ve){ve.AdaptationSet_asArray=ve.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||ce.Representation_asArray.length===0||(ce.Representation_asArray=ce.Representation_asArray.filter(function(me){return!K.some(function(_e){return!_e(me)})}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}($),Q()}).catch(function(){Q()})})}},x=(0,g.Z)(I).getInstance().getLogger(p),p}Ug.__dashjs_factory_name="CapabilitiesFilter";var mT=b.Z.getSingletonFactory(Ug),yT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Bg(){var p;return{initialize:function(d){if(p=new yT,!d)return null;var y=d.indexOf("#");if(y!==-1)for(var D=d.substr(y+1).split("&"),F=0,x=D.length;F<x;++F){var I=D[F],k=I.indexOf("=");if(k!==-1){var Y=I.substring(0,k);p.hasOwnProperty(Y)&&(p[Y]=I.substr(k+1))}}},getURIFragmentData:function(){return p}}}Bg.__dashjs_factory_name="URIFragmentModel";var vT=b.Z.getSingletonFactory(Bg);function Zg(){var p,d=this.context,y=(0,T.Z)(d).getInstance();return{getValue:function(){return p},setValue:function(D){p=D,D&&y.trigger(c.Z.MANIFEST_LOADED,{data:D})}}}Zg.__dashjs_factory_name="ManifestModel";var ET=b.Z.getSingletonFactory(Zg),ed=-.5;function jg(){var p,d,y,D,F=this.context,x=(0,we.Z)(F).getInstance();function I($,Q){return isNaN($)?0:$>0?(Q&&d.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):$<ed?(Q&&d.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(ed,": ").concat(-50,"% playback speed.")),ed):$}function k($,Q){return isNaN($)?0:$<0?(Q&&d.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):$>1?(Q&&d.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):$}function Y(){var $=x.get().streaming.buffer.stableBufferTime>0?x.get().streaming.buffer.stableBufferTime:x.get().streaming.buffer.fastSwitchEnabled?20:12,Q=y.getLiveDelay();return!isNaN(Q)&&Q>0?Math.min($,Q):$}return p={getCatchupMaxDrift:function(){if(!isNaN(x.get().streaming.liveCatchup.maxDrift)&&x.get().streaming.liveCatchup.maxDrift>0)return x.get().streaming.liveCatchup.maxDrift;var $=D.getServiceDescriptionSettings();return $&&$.liveCatchup&&!isNaN($.liveCatchup.maxDrift)&&$.liveCatchup.maxDrift>0?$.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return x.get().streaming.liveCatchup.enabled!==null?x.get().streaming.liveCatchup.enabled:y.getInitialCatchupModeActivated()},getStableBufferTime:Y,getInitialBufferLevel:function(){var $=x.get().streaming.buffer.initialBufferLevel;return isNaN($)||$<0?0:Math.min(Y(),$)},getRetryAttemptsForType:function($){var Q=isNaN(x.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:x.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return y.getLowLatencyModeEnabled()?x.get().streaming.retryAttempts[$]*Q:x.get().streaming.retryAttempts[$]},getRetryIntervalsForType:function($){var Q=isNaN(x.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:x.get().streaming.retryIntervals.lowLatencyReductionFactor;return y.getLowLatencyModeEnabled()?x.get().streaming.retryIntervals[$]/Q:x.get().streaming.retryIntervals[$]},getCatchupPlaybackRates:function($){var Q=x.get().streaming.liveCatchup.playbackRate;if(!isNaN(Q.min)||!isNaN(Q.max))return{min:I(Q.min,$),max:k(Q.max,$)};var j=D.getServiceDescriptionSettings();if(j&&j.liveCatchup&&(!isNaN(j.liveCatchup.playbackRate.min)||!isNaN(j.liveCatchup.playbackRate.max))){var W=j.liveCatchup.playbackRate;return{min:I(W.min,$),max:k(W.max,$)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function($,Q){try{var j=x.get().streaming.abr[$][Q];if(!isNaN(j)&&j!==-1)return j;var W=D.getServiceDescriptionSettings();return W&&W[$]&&!isNaN(W[$][Q])?W[$][Q]:-1}catch{return-1}},setConfig:function($){$.playbackController&&(y=$.playbackController),$.serviceDescriptionController&&(D=$.serviceDescriptionController)},reset:function(){}},d=(0,g.Z)(F).getInstance().getLogger(p),p}jg.__dashjs_factory_name="MediaPlayerModel";var _T=b.Z.getSingletonFactory(jg),TT=E(1767);function Gg(p){var d=(p=p||{}).abrController,y=p.switchHistory,D=p.droppedFramesHistory,F=p.currentRequest,x=p.useBufferOccupancyABR,I=p.useL2AABR,k=p.useLoLPABR,Y=p.streamProcessor?p.streamProcessor.getScheduleController():null,$=p.streamProcessor?p.streamProcessor.getRepresentationInfo():null,Q=p.videoModel?p.videoModel:null;function j(){return $?$.mediaInfo:null}return{getMediaType:function(){var W=j();return W?W.type:null},getMediaInfo:j,getDroppedFramesHistory:function(){return D},getCurrentRequest:function(){return F},getSwitchHistory:function(){return y},getStreamInfo:function(){var W=j();return W?W.streamInfo:null},getScheduleController:function(){return Y},getAbrController:function(){return d},getRepresentationInfo:function(){return $},useBufferOccupancyABR:function(){return x},useL2AABR:function(){return I},useLoLPABR:function(){return k},getVideoModel:function(){return Q}}}Gg.__dashjs_factory_name="RulesContext";var qg=b.Z.getClassFactory(Gg),Ll=E(2068);function Hg(){var p=[],d=[];return{push:function(y){y.newValue===Ll.Z.NO_CHANGE&&(y.newValue=y.oldValue),p[y.oldValue]||(p[y.oldValue]={noDrops:0,drops:0,dropSize:0});var D=y.newValue-y.oldValue,F=D<0?1:0,x=F?-D:0,I=F?0:1;if(p[y.oldValue].drops+=F,p[y.oldValue].dropSize+=x,p[y.oldValue].noDrops+=I,d.push({idx:y.oldValue,noDrop:I,drop:F,dropSize:x}),d.length>8){var k=d.shift();p[k.idx].drops-=k.drop,p[k.idx].dropSize-=k.dropSize,p[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function(){return p},reset:function(){p=[],d=[]}}}Hg.__dashjs_factory_name="SwitchRequestHistory";var ST=b.Z.getClassFactory(Hg);function zg(){var p={},d={},y={};return{push:function(D,F,x){if(F){p[D]||(p[D]=[],d[D]=0,y[D]=0);var I=x&&x.droppedVideoFrames?x.droppedVideoFrames:0,k=x&&x.totalVideoFrames?x.totalVideoFrames:0,Y=I-d[D];d[D]=I;var $=k-y[D];y[D]=k;var Q=p[D];isNaN(F)||(Q[F]?(Q[F].droppedVideoFrames+=Y,Q[F].totalVideoFrames+=$):Q[F]={droppedVideoFrames:Y,totalVideoFrames:$})}},getFrameHistory:function(D){return p[D]},clearForStream:function(D){try{delete p[D],delete d[D],delete y[D]}catch{}},reset:function(){p={},d={},y={}}}}zg.__dashjs_factory_name="DroppedFramesHistory";var AT=b.Z.getClassFactory(zg);function Yg(p){var d,y,D,F,x,I=this.context,k=(p=p||{}).settings,Y=(0,T.Z)(I).getInstance();function $(ce,me,_e,X){var he=Math.pow(.5,_e/X.fast);ce.fastEstimate=(1-he)*me+he*ce.fastEstimate;var ee=Math.pow(.5,_e/X.slow);ce.slowEstimate=(1-ee)*me+ee*ce.slowEstimate,ce.totalWeight+=_e}function Q(ce,me,_e){return k.get().streaming.abr.movingAverageMethod!==i.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(X,he){var ee=X?x.throughputHalfLife:x.latencyHalfLife,ye=X?D[he]:F[he];if(!ye||ye.totalWeight<=0)return NaN;var R=ye.fastEstimate/(1-Math.pow(.5,ye.totalWeight/ee.fast)),z=ye.slowEstimate/(1-Math.pow(.5,ye.totalWeight/ee.slow));return X?Math.min(R,z):Math.max(R,z)}(ce,me):function(X,he,ee){var ye=function(z,q,H){var L,fe;if(z?(L=d[q],fe=H?3:4):(L=y[q],fe=4),L){if(fe>=L.length)fe=L.length;else if(z)for(var ie=1;ie<fe;++ie){var pe=L[L.length-ie]/L[L.length-ie-1];if((pe>=1.3||pe<=.7692307692307692)&&(fe+=1)===L.length)break}}else fe=0;return fe}(X,he,ee),R=(X?d:y)[he];return ye!==0&&R&&R.length!==0?(R=R.slice(-ye)).reduce(function(z,q){return z+q})/R.length:NaN}(ce,me,_e)}function j(ce,me){return Q(!0,ce,me)}function W(ce){d[ce]=d[ce]||[],y[ce]=y[ce]||[],D[ce]=D[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0},F[ce]=F[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function K(){d={},y={},D={},F={}}var ve={push:function(ce,me,_e){if(me.trace&&me.trace.length){var X,he=me.tresponse.getTime()-me.trequest.getTime()||1,ee=me._tfinish.getTime()-me.tresponse.getTime()||1,ye=me.trace.reduce(function(H,L){return H+L.b[0]},0),R=0;if((X=me._fileLoaderType&&me._fileLoaderType===i.Z.FILE_LOADER_TYPES.FETCH?me.trace.reduce(function(H,L){return H+L.d},0):_e?ee:he+ee)!==0&&(R=Math.round(8*ye/X)),me.cmsd){var z=me.cmsd.dynamic&&me.cmsd.dynamic.etp?me.cmsd.dynamic.etp:null;if(z){var q=k.get().streaming.cmsd.abr.etpWeightRatio;q>0&&q<=1&&(R=R*(1-q)+z*q)}}if(W(ce),function(H,L,fe){return H===i.Z.VIDEO?fe<k.get().streaming.cacheLoadThresholds[i.Z.VIDEO]:H===i.Z.AUDIO?fe<k.get().streaming.cacheLoadThresholds[i.Z.AUDIO]:void 0}(ce,0,ee)){if(d[ce].length>0&&!d[ce].hasCachedEntries)return;d[ce].hasCachedEntries=!0}else d[ce]&&d[ce].hasCachedEntries&&function(H){delete d[H],delete y[H],delete D[H],delete F[H],W(H)}(ce);d[ce].push(R),Y.trigger(u.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:R,mediaType:ce,httpRequest:me}),d[ce].length>20&&d[ce].shift(),y[ce].push(he),y[ce].length>20&&y[ce].shift(),$(D[ce],R,.001*ee,x.throughputHalfLife),$(F[ce],he,1,x.latencyHalfLife)}},getAverageThroughput:j,getSafeAverageThroughput:function(ce,me){var _e=j(ce,me);return isNaN(_e)||(_e*=k.get().streaming.abr.bandwidthSafetyFactor),_e},getAverageLatency:function(ce){return Q(!1,ce)},reset:K};return x={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},K(),ve}Yg.__dashjs_factory_name="ThroughputHistory";var wT=b.Z.getClassFactory(Yg);function td(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye,R,z,q,H,L,fe=this.context,ie=(0,g.Z)(fe).getInstance(),pe=(0,T.Z)(fe).getInstance();function se(){F={},x={},k={},I={},he={},R={},z={},q={},$===void 0&&($=!1),ee&&ee.reset(),X=void 0,ee=void 0,ye=void 0,clearTimeout(Y),Y=null}function V(Ne){var qe=Ne.request.mediaType,mt=Ne.streamId;if(qe&&mt&&I[mt]&&L.get().streaming.abr.autoSwitchBitrate[qe]){var Xe=I[mt][qe];if(Xe){var Tt=qg(fe).create({abrController:p,streamProcessor:Xe,currentRequest:Ne.request,useBufferOccupancyABR:R[qe],useL2AABR:z[qe],useLoLPABR:q[qe],videoModel:K}),_t=y.shouldAbandonFragment(Tt,mt);_t.quality>Ll.Z.NO_CHANGE&&Xe.getFragmentModel().getRequests({state:te.FRAGMENT_MODEL_LOADING,index:Ne.request.index})[0]&&(k[mt][qe].state=w.Z.ABANDON_LOAD,he[mt][qe].reset(),he[mt][qe].push({oldValue:Be(qe,mt),newValue:_t.quality,confidence:1,reason:_t.reason}),Le(qe,D.getActiveStreamInfo(),_t.quality,_t.reason),clearTimeout(Y),Y=setTimeout(function(){k[mt][qe].state=w.Z.ALLOW_LOAD,Y=null},L.get().streaming.abandonLoadTimeout))}}}function ue(Ne){Ne.mediaType===i.Z.VIDEO&&(X!==void 0&&ee.push(Ne.streamId,X,K.getPlaybackQuality()),X=Ne.newQuality)}function Se(Ne){var qe,mt;Ne.metric!==w.Z.HTTP_REQUEST||!Ne.value||Ne.value.type!==Pe.w.MEDIA_SEGMENT_TYPE||Ne.mediaType!==i.Z.AUDIO&&Ne.mediaType!==i.Z.VIDEO||ye.push(Ne.mediaType,Ne.value,L.get().streaming.abr.useDeadTimeLatency),Ne.metric!==w.Z.BUFFER_LEVEL||Ne.mediaType!==i.Z.AUDIO&&Ne.mediaType!==i.Z.VIDEO||(qe=Ne.mediaType,mt=.001*Ne.value.level,L.get().streaming.abr.ABRStrategy===i.Z.ABR_STRATEGY_DYNAMIC&&function(Xe,Tt){try{var _t=ve.getStableBufferTime(),pt=_t,Qt=.5*_t,Wt=R[Xe],mn=Tt>(Wt?Qt:pt);R[Xe]=mn,mn!==Wt&&(mn?d.info("["+Xe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Tt.toFixed(3)+")."):d.info("["+Xe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Tt.toFixed(3)+")."))}catch(_n){d.error(_n)}}(qe,mt))}function Ue(Ne,qe){try{var mt;return F[qe]=F[qe]||{},F[qe].hasOwnProperty(Ne)||(F[qe][Ne]=0),mt=function(Xe,Tt){var _t=F[Tt][Xe],pt=_t;if(!I[Tt]||!I[Tt][Xe])return pt;var Qt=De(Xe,Tt);Qt!==void 0&&(pt=Math.max(_t,Qt));var Wt=function(mn,_n){try{var Ke=ve.getAbrBitrateParameter("maxBitrate",mn);return Ke>-1?rt(I[_n][mn].getMediaInfo(),Ke,_n):void 0}catch{return}}(Xe,Tt);return Wt!==void 0&&(pt=Math.min(pt,Wt)),pt}(Ne,qe),mt=function(Xe,Tt,_t){var pt=F[_t][Tt],Qt=L.get().streaming.abr.maxRepresentationRatio[Tt];return isNaN(Qt)||Qt>=1||Qt<0?Xe:Math.min(Xe,Math.round(pt*Qt))}(mt,Ne,qe),mt=function(Xe,Tt,_t){if(Tt!==i.Z.VIDEO||!L.get().streaming.abr.limitBitrateByPortal||!I[_t]||!I[_t][Tt])return Xe;$||Zt();var pt=I[_t][Tt].getStreamInfo(),Qt=W.getAdaptationForType(pt.index,Tt,pt).Representation_asArray,Wt=Xe;if(Q>0&&j>0){for(;Wt>0&&Qt[Wt]&&Q<Qt[Wt].width&&Q-Qt[Wt-1].width<Qt[Wt].width-Q;)Wt-=1;for(;Wt<Qt.length-1&&Qt[Wt].width===Qt[Wt+1].width;)Wt+=1}return Wt}(mt,Ne,qe),L.get().streaming.cmsd.enabled&&L.get().streaming.cmsd.abr.applyMb&&(mt=function(Xe,Tt,_t){if(Tt!=="video")return Xe;var pt=me.getMaxBitrate(Tt);if(pt<0)return Xe;var Qt=ct(_t,"audio",Be("audio",_t));pt-=Qt?Qt.bitrate/1e3:0;var Wt=rt(I[_t][Tt].getMediaInfo(),pt,_t);return d.debug("Stream ID: "+_t+" ["+Tt+"] Apply max bit rate from CMSD: "+pt),Math.min(Xe,Wt)}(mt,Ne,qe)),mt}catch{return}}function De(Ne,qe){try{return function(mt,Xe){try{var Tt=ve.getAbrBitrateParameter("minBitrate",mt);if(Tt>-1){var _t=I[Xe][mt].getMediaInfo(),pt=ot(_t),Qt=rt(_t,Tt,Xe);return pt[Qt]&&Qt<pt.length-1&&pt[Qt].bitrate<1e3*Tt&&Qt++,Qt}return}catch{return}}(Ne,qe)}catch{return}}function Be(Ne){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return qe||(qe=D.getActiveStreamInfo().id),Ne&&I[qe]&&I[qe][Ne]&&qe?(x[qe]=x[qe]||{},x[qe].hasOwnProperty(Ne)||(x[qe][Ne]=0),x[qe][Ne]):0}catch{return 0}}function Le(Ne,qe,mt){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(qe&&qe.id&&Ne){var Tt=qe.id,_t=Be(Ne,Tt);(0,oe.SE)(mt);var pt=Ue(Ne,Tt);mt!==_t&&mt>=0&&mt<=pt&&lt(Ne,_t,mt,pt,Xe,Tt)}}function lt(Ne,qe,mt,Xe,Tt,_t){if(Ne&&I[_t]&&I[_t][Ne]){var pt=I[_t][Ne].getStreamInfo(),Qt=pt&&pt.manifestInfo&&pt.manifestInfo.isDynamic,Wt=H.getCurrentBufferLevel(Ne);d.info("Stream ID: "+_t+" ["+Ne+"] switch from "+qe+" to "+mt+"/"+Xe+" (buffer: "+Wt+") "+(Tt?JSON.stringify(Tt):".")),x[_t]=x[_t]||{},x[_t][Ne]=mt;var mn=ct(_t,Ne,mt);pe.trigger(c.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:qe,newQuality:mt,reason:Tt,streamInfo:pt,bitrateInfo:mn,maxIdx:Xe,mediaType:Ne},{streamId:pt.id,mediaType:Ne});var _n=ye.getAverageThroughput(Ne,Qt);isNaN(_n)||_e.setSavedBitrateSettings(Ne,_n)}}function ct(Ne,qe,mt){if(qe&&I&&I[Ne]&&I[Ne][qe]){var Xe=ot(I[Ne][qe].getMediaInfo());return Xe[mt]?Xe[mt]:null}return null}function rt(Ne,qe,mt){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Tt=Ne&&Ne.type?I[mt][Ne.type].getRepresentationInfo():null;if(L.get().streaming.abr.useDeadTimeLatency&&Xe&&Tt&&Tt.fragmentDuration){Xe/=1e3;var _t=Tt.fragmentDuration;if(Xe>_t)return 0;var pt=Xe/_t;qe*=1-pt}for(var Qt=ot(Ne),Wt=Qt.length-1;Wt>=0;Wt--){var mn=Qt[Wt];if(1e3*qe>=mn.bitrate)return Wt}return 0}function ot(Ne){var qe=[];if(!Ne||!Ne.bitrateList)return qe;for(var mt,Xe=Ne.bitrateList,Tt=Ne.type,_t=0,pt=Xe.length;_t<pt;_t++)(mt=new vl).mediaType=Tt,mt.qualityIndex=_t,mt.bitrate=Xe[_t].bandwidth,mt.width=Xe[_t].width,mt.height=Xe[_t].height,mt.scanType=Xe[_t].scanType,qe.push(mt);return qe}function Zt(){if(K){var Ne=L.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Q=K.getClientWidth()*Ne,j=K.getClientHeight()*Ne}}return p={initialize:function(){ee=AT(fe).create(),ye=wT(fe).create({settings:L}),(y=(0,TT.Z)(fe).create({dashMetrics:H,customParametersModel:ce,mediaPlayerModel:ve,settings:L})).initialize(),pe.on(u.Z.QUALITY_CHANGE_RENDERED,ue,p),pe.on(u.Z.METRIC_ADDED,Se,p),pe.on(c.Z.LOADING_PROGRESS,V,p)},isPlayingAtTopQuality:function(Ne){var qe=Ne?Ne.id:null,mt=Be(i.Z.AUDIO,qe),Xe=Be(i.Z.VIDEO,qe);return mt===Ue(i.Z.AUDIO,qe)&&Xe===Ue(i.Z.VIDEO,qe)},updateTopQualityIndex:function(Ne){var qe=Ne.type,mt=Ne.streamInfo.id,Xe=Ne.representationCount-1;return F[mt]=F[mt]||{},F[mt][qe]=Xe,Xe},clearDataForStream:function(Ne){ee&&ee.clearForStream(Ne),I[Ne]&&delete I[Ne],he[Ne]&&delete he[Ne],k[Ne]&&delete k[Ne]},getThroughputHistory:function(){return ye},getBitrateList:ot,getQualityForBitrate:rt,getTopBitrateInfoFor:function(Ne){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(qe||(qe=D.getActiveStreamInfo().id),Ne&&I&&I[qe]&&I[qe][Ne]){var mt=Ue(Ne,qe),Xe=ot(I[qe][Ne].getMediaInfo());return Xe[mt]?Xe[mt]:null}return null},getMinAllowedIndexFor:De,getMaxAllowedIndexFor:Ue,getInitialBitrateFor:function(Ne,qe){if(function(){if(!_e||!_e.hasOwnProperty("getSavedBitrateSettings"))throw new Error(i.Z.MISSING_CONFIG_ERROR)}(),Ne===i.Z.TEXT)return NaN;var mt=_e.getSavedBitrateSettings(Ne),Xe=ve.getAbrBitrateParameter("initialBitrate",Ne),Tt=L.get().streaming.abr.initialRepresentationRatio[Ne];if(Xe===-1)if(Tt>-1){var _t=I[qe][Ne].getStreamInfo(),pt=W.getAdaptationForType(_t.index,Ne,_t).Representation_asArray;Xe=Array.isArray(pt)?pt[Math.max(Math.round(pt.length*Tt)-1,0)].bandwidth/1e3:0}else Xe=isNaN(mt)?Ne===i.Z.VIDEO?1e3:100:mt;return Xe},getQualityFor:Be,getAbandonmentStateFor:function(Ne,qe){return k[Ne]&&k[Ne][qe]?k[Ne][qe].state:null},setPlaybackQuality:Le,checkPlaybackQuality:function(Ne,qe){try{if(!(Ne&&I&&I[qe]&&I[qe][Ne]))return!1;if(ee){var mt=K.getPlaybackQuality();mt&&ee.push(qe,X,mt)}if(!L.get().streaming.abr.autoSwitchBitrate[Ne])return!1;var Xe=Be(Ne,qe),Tt=qg(fe).create({abrController:p,switchHistory:he[qe][Ne],droppedFramesHistory:ee,streamProcessor:I[qe][Ne],currentValue:Xe,useBufferOccupancyABR:R[Ne],useL2AABR:z[Ne],useLoLPABR:q[Ne],videoModel:K}),_t=De(Ne,qe),pt=Ue(Ne,qe),Qt=y.getMaxQuality(Tt),Wt=Qt.quality;return _t!==void 0&&(Wt>Ll.Z.NO_CHANGE?Wt:Xe)<_t&&(Wt=_t),Wt>pt&&(Wt=pt),he[qe][Ne].push({oldValue:Xe,newValue:Wt}),Wt>Ll.Z.NO_CHANGE&&Wt!==Xe&&(k[qe][Ne].state===w.Z.ALLOW_LOAD||Wt<Xe)&&(lt(Ne,Xe,Wt,pt,Qt.reason,qe),!0)}catch{return!1}},setElementSize:Zt,setWindowResizeEventCalled:function(Ne){$=Ne},registerStreamType:function(Ne,qe){var mt=qe.getStreamInfo().id;I[mt]||(I[mt]={}),he[mt]||(he[mt]={}),k[mt]||(k[mt]={}),he[mt][Ne]=ST(fe).create(),I[mt][Ne]=qe,k[mt][Ne]={},k[mt][Ne].state=w.Z.ALLOW_LOAD,function(Xe){var Tt=L.get().streaming.abr.ABRStrategy;Tt===i.Z.ABR_STRATEGY_L2A?(R[Xe]=!1,q[Xe]=!1,z[Xe]=!0):Tt===i.Z.ABR_STRATEGY_LoLP?(R[Xe]=!1,q[Xe]=!0,z[Xe]=!1):Tt===i.Z.ABR_STRATEGY_BOLA?(R[Xe]=!0,q[Xe]=!1,z[Xe]=!1):Tt===i.Z.ABR_STRATEGY_THROUGHPUT?(R[Xe]=!1,q[Xe]=!1,z[Xe]=!1):Tt===i.Z.ABR_STRATEGY_DYNAMIC&&(R[Xe]=!(!R||!R[Xe])&&R[Xe],q[Xe]=!1,z[Xe]=!1)}(Ne),Ne===i.Z.VIDEO&&Zt()},unRegisterStreamType:function(Ne,qe){try{I[Ne]&&I[Ne][qe]&&delete I[Ne][qe],he[Ne]&&he[Ne][qe]&&delete he[Ne][qe],k[Ne]&&k[Ne][qe]&&delete k[Ne][qe]}catch{}},setConfig:function(Ne){Ne&&(Ne.streamController&&(D=Ne.streamController),Ne.domStorage&&(_e=Ne.domStorage),Ne.mediaPlayerModel&&(ve=Ne.mediaPlayerModel),Ne.customParametersModel&&(ce=Ne.customParametersModel),Ne.cmsdModel&&(me=Ne.cmsdModel),Ne.dashMetrics&&(H=Ne.dashMetrics),Ne.adapter&&(W=Ne.adapter),Ne.videoModel&&(K=Ne.videoModel),Ne.settings&&(L=Ne.settings))},reset:function(){se(),pe.off(c.Z.LOADING_PROGRESS,V,p),pe.off(u.Z.QUALITY_CHANGE_RENDERED,ue,p),pe.off(u.Z.METRIC_ADDED,Se,p),y&&y.reset()}},d=ie.getLogger(p),se(),p}td.__dashjs_factory_name="AbrController";var nd=b.Z.getSingletonFactory(td);nd.QUALITY_DEFAULT=0,b.Z.updateSingletonFactory(td.__dashjs_factory_name,nd);var bT=nd,RT=new Map([[i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Vg(){var p,d,y,D,F,x,I,k,Y=this.context,$=(0,T.Z)(Y).getInstance(),Q=[];function j(){y&&(y.playbackRate=1,y.removeEventListener("canplay",j))}function W(){return Q.length>0}function K(){if(y&&W()&&y.playbackRate===0){var ee=document.createEvent("Event");ee.initEvent("waiting",!0,!1),y.dispatchEvent(ee)}}function ve(ee,ye){y&&y.addEventListener(ee,ye)}function ce(ee,ye){y&&y.removeEventListener(ee,ye)}function me(){return y?y.readyState:NaN}function _e(){return y?y.buffered:null}function X(ee,ye,R,z,q){if(y){for(var H=0;H<y.textTracks.length;H++)if(y.textTracks[H].kind===ee&&(!ye||y.textTracks[H].label==ye)&&y.textTracks[H].language===R&&y.textTracks[H].isTTML===z&&y.textTracks[H].isEmbedded===q)return y.textTracks[H]}return null}function he(ee,ye){return ee===i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||me()>=ee?(ye(),null):function(R,z){var q=function H(){ce(R,H),z(R)};return ve(R,q),{func:q,event:R}}(RT.get(ee),ye)}return p={addEventListener:ve,addTextTrack:function(ee,ye,R,z,q){if(!y)return null;var H=X(ee,ye,R,z,q);return H||((H=y.addTextTrack(ee,ye,R)).isEmbedded=q,H.isTTML=z),H},appendChild:function(ee){y&&(y.appendChild(ee),ee.isTTML!==void 0&&(y.textTracks[y.textTracks.length-1].isTTML=ee.isTTML,y.textTracks[y.textTracks.length-1].isEmbedded=ee.isEmbedded))},getBufferRange:_e,getClientHeight:function(){return y?y.clientHeight:NaN},getClientWidth:function(){return y?y.clientWidth:NaN},getElement:function(){return y},getEnded:function(){return y?y.ended:null},getPlaybackQuality:function(){if(!y)return null;var ee="webkitDroppedFrameCount"in y&&"webkitDecodedFrameCount"in y,ye=null;return"getVideoPlaybackQuality"in y?ye=y.getVideoPlaybackQuality():ee&&(ye={droppedVideoFrames:y.webkitDroppedFrameCount,totalVideoFrames:y.webkitDroppedFrameCount+y.webkitDecodedFrameCount,creationTime:new Date}),ye},getPlaybackRate:function(){return y?y.playbackRate:null},getPlayedRanges:function(){return y?y.played:null},getReadyState:me,getSource:function(){return y?y.src:null},getTTMLRenderingDiv:function(){return x},getTextTrack:X,getTextTracks:function(){return y?y.textTracks:[]},getTime:function(){return y?isNaN(D)?y.currentTime:D:null},getVideoHeight:function(){return y?y.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(y){var ee=y.parentNode.host||y.parentNode;return ee?y.getBoundingClientRect().left-ee.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(y){var ee=y.parentNode.host||y.parentNode;return ee?y.getBoundingClientRect().top-ee.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return y?y.videoWidth:NaN},getVttRenderingDiv:function(){return I},initialize:function(){$.on(c.Z.PLAYBACK_PLAYING,K,this)},isPaused:function(){return y?y.paused:null},isSeeking:function(){return y?y.seeking||!isNaN(D):null},isStalled:W,pause:function(){y&&(y.pause(),y.autoplay=!1)},play:function(){if(y){y.autoplay=!0;var ee=y.play();ee&&ee.catch&&typeof Promise<"u"&&ee.catch(function(ye){ye.name==="NotAllowedError"&&$.trigger(c.Z.PLAYBACK_NOT_ALLOWED),d.warn("Caught pending play exception - continuing (".concat(ye,")"))})}},removeChild:function(ee){y&&y.removeChild(ee)},removeEventListener:ce,reset:function(){clearTimeout(k),$.off(c.Z.PLAYBACK_PLAYING,K,this)},setCurrentTime:function(ee,ye){y&&(F&&F.func&&F.event&&ce(F.event,F.func),D=ee,F=he(i.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(y)if(y.currentTime!==D)try{D=ye?function(R){var z=_e(),q=R,H=9999999999;if(z)for(var L=0;L<z.length;L++){var fe=z.start(L),ie=z.end(L),pe=Math.abs(fe-R),se=Math.abs(ie-R);if(R>=fe&&R<=ie)return R;pe<H&&(H=pe,q=fe),se<H&&(H=se,q=ie)}return q}(D):D,isNaN(D)||(y.currentTime=D),D=NaN}catch(R){y.readyState===0&&R.code===R.INVALID_STATE_ERR&&(k=setTimeout(function(){y.currentTime=D,D=NaN},400))}else D=NaN}))},setElement:function(ee){if(!(ee==null||ee&&/^(VIDEO|AUDIO)$/i.test(ee.nodeName)))throw"element is not video or audio DOM type!";(y=ee)&&(y.preload="auto")},setPlaybackRate:function(ee){var ye=arguments.length>1&&arguments[1]!==void 0&&arguments[1];y&&(!ye&&y.readyState<=2&&ee>0?y.addEventListener("canplay",j):y.playbackRate=ee)},setSource:function(ee){y&&(ee?y.src=ee:(y.removeAttribute("src"),y.load()))},setStallState:function(ee,ye){(function(R,z){z?function(q){q!==null&&y&&!y.seeking&&Q.indexOf(q)===-1&&Q.push(q)}(R):function(q){var H=Q.indexOf(q);q!==null&&H!==-1&&Q.splice(H,1)}(R)})(ee,ye)},setTTMLRenderingDiv:function(ee){(x=ee).style.position="absolute",x.style.display="flex",x.style.overflow="hidden",x.style.pointerEvents="none",x.style.top=0,x.style.left=0},setVttRenderingDiv:function(ee){I=ee},waitForReadyState:he,setDisableRemotePlayback:function(ee){y&&(y.disableRemotePlayback=ee)}},d=(0,g.Z)(Y).getInstance().getLogger(p),D=NaN,p}Vg.__dashjs_factory_name="VideoModel";var IT=b.Z.getSingletonFactory(Vg),NT=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Kg="dashjs_?_bitrate",Wg="dashjs_?_settings",ts="localStorage",Qg="lastBitrate",Xg="lastMediaSettings";function $g(p){p=p||{};var d,y,D,F=this.context,x=p.settings;function I(Q){if(D!==void 0)return D;var j;D=!1;try{typeof window<"u"&&(j=window[Q])}catch(W){return y.warn("DOMStorage access denied: "+W.message),D}if(!j||Q!==ts&&Q!=="sessionStorage")return D;try{j.setItem("1","1"),j.removeItem("1"),D=!0}catch(W){y.warn("DOMStorage is supported, but cannot be used: "+W.message)}return D}function k(){var Q=6e5;return Math.round(new Date().getTime()/Q)*Q}function Y(Q,j){return I(Q)&&x.get().streaming[j+"CachingInfo"].enabled}function $(){if(!x)throw new Error(i.Z.MISSING_CONFIG_ERROR)}return d={getSavedBitrateSettings:function(Q){if($(),!x.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var j=NaN;if(Y(ts,Qg)){var W=Kg.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},ve=new Date().getTime()-parseInt(K.timestamp,10)>=x.get().streaming.lastBitrateCachingInfo.ttl||!1,ce=parseFloat(K.bitrate);isNaN(ce)||ve?ve&&localStorage.removeItem(W):(j=ce,y.debug("Last saved bitrate for "+Q+" was "+ce))}catch{return null}}return j},setSavedBitrateSettings:function(Q,j){if(Y(ts,Qg)&&j){var W=Kg.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({bitrate:j.toFixed(3),timestamp:k()}))}catch(K){y.error(K.message)}}},getSavedMediaSettings:function(Q){if($(),!x.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var j=null;if(Y(ts,Xg)){var W=Wg.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},ve=new Date().getTime()-parseInt(K.timestamp,10)>=x.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;j=K.settings,ve&&(localStorage.removeItem(W),j=null)}catch{return null}}return j},setSavedMediaSettings:function(Q,j){if(Y(ts,Xg)){var W=Wg.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({settings:j,timestamp:k()}))}catch(K){y.error(K.message)}}}},y=(0,g.Z)(F).getInstance().getLogger(d),I(ts)&&NT.forEach(function(Q){var j=localStorage.getItem(Q.oldKey);if(j){localStorage.removeItem(Q.oldKey);try{localStorage.setItem(Q.newKey,j)}catch(W){y.error(W.message)}}}),d}$g.__dashjs_factory_name="DOMStorage";var CT=b.Z.getSingletonFactory($g),DT=E(2032),Jg=E(2011);function em(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K=this.context;function ve(X,he,ee,ye){var R=null,z=X?W.resolve(X.path):null,q=ye||{init:!0,url:z?z.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:he};d.debug("Start searching for initialization.");var H=_e(q);k.load({request:H,success:function(L){if(q.bytesLoaded=q.range.end,!(R=D.findInitRange(L)))return q.range.end=q.bytesLoaded+q.bytesToLoad,ve(X,he,ee,q);X.range=R,ee(X)},error:function(){ee(X)}}),d.debug("Perform init search: "+q.url)}function ce(X,he,ee,ye,R,z){if(ee&&(ee.start===void 0||ee.end===void 0)){var q=ee?ee.toString().split("-"):null;ee=q?{start:parseFloat(q[0]),end:parseFloat(q[1])}:null}R=R||me;var H=null,L=null,fe=!!ee,ie=X?W.resolve(X.path):null,pe={init:!1,url:ie?ie.url:void 0,range:fe?ee:{start:0,end:1500},searching:!fe,bytesLoaded:z?z.bytesLoaded:0,bytesToLoad:1500,mediaType:he},se=_e(pe);k.load({request:se,success:function(V){var ue=pe.bytesToLoad,Se=V.byteLength;if(pe.bytesLoaded=pe.range.end-pe.range.start,H=D.parse(V),(L=H.getBox("sidx"))&&L.isComplete){var Ue,De,Be=L.references;if(Be!=null&&Be.length>0&&(Ue=Be[0].reference_type===1),Ue){var Le,lt,ct,rt;d.debug("Initiate multiple SIDX load."),pe.range.end=pe.range.start+L.size;var ot=[],Zt=0,Ne=(L.offset||pe.range.start)+L.size,qe=function(Xe){Xe?(ot=ot.concat(Xe),++Zt>=lt&&(ot.sort(function(Tt,_t){return Tt.startTime-_t.startTime<0?-1:0}),R(ot,X,ye))):R(null,X,ye)};for(Le=0,lt=Be.length;Le<lt;Le++)ct=Ne,rt=Ne+Be[Le].referenced_size-1,Ne+=Be[Le].referenced_size,ce(X,he,{start:ct,end:rt},ye,qe,pe)}else d.debug("Parsing segments from SIDX. representation "+he+" - id: "+X.id+" for range : "+pe.range.start+" - "+pe.range.end),De=function(Xe,Tt){for(var _t,pt,Qt,Wt,mn=Xe.references,_n=mn.length,Ke=Xe.timescale,vt=Xe.earliest_presentation_time,ut=Tt.range.start+Xe.offset+Xe.first_offset+Xe.size,It=[],xt=0;xt<_n;xt++)Qt=mn[xt].subsegment_duration,Wt=mn[xt].referenced_size,(_t=new Jg.Z).duration=Qt,_t.startTime=vt,_t.timescale=Ke,pt=ut+Wt-1,_t.mediaRange=ut+"-"+pt,It.push(_t),vt+=Qt,ut+=Wt;return It}(L,pe),R(De,X,ye)}else{if(L)pe.range.start=L.offset||pe.range.start,pe.range.end=pe.range.start+(L.size||ue);else{if(Se<pe.bytesLoaded)return void R(null,X,ye);var mt=H.getLastBox();mt&&mt.size?(pe.range.start=mt.offset+mt.size,pe.range.end=pe.range.start+ue):pe.range.end+=ue}ce(X,he,pe.range,ye,null,pe)}},error:function(){R(null,X,ye)}}),d.debug("Perform SIDX load for type ".concat(he," : ").concat(pe.url," with range ").concat(pe.range.start," - ").concat(pe.range.end))}function me(X,he,ee){ee({segments:X,representation:he,error:X?void 0:new de.Z(Y.SEGMENT_BASE_LOADER_ERROR_CODE,Y.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function _e(X){if(X.url){var he=new C.Z;return he.setInfo(X),he}}return p={setConfig:function(X){X.baseURLController&&(W=X.baseURLController),X.dashMetrics&&(x=X.dashMetrics),X.mediaPlayerModel&&(I=X.mediaPlayerModel),X.errHandler&&(y=X.errHandler),X.boxParser&&(D=X.boxParser),X.debug&&(d=X.debug.getLogger(p)),X.requestModifier&&(F=X.requestModifier),X.errors&&(Y=X.errors),X.urlUtils&&(j=X.urlUtils),X.constants&&($=X.constants),X.dashConstants&&(Q=X.dashConstants)},initialize:function(){k=Fr(K).create({errHandler:y,dashMetrics:x,mediaPlayerModel:I,requestModifier:F,boxParser:D,errors:Y,urlUtils:j,constants:$,dashConstants:Q})},loadInitialization:function(X,he){return new Promise(function(ee){ve(X,he,ee)})},loadSegments:function(X,he,ee){return new Promise(function(ye){ce(X,he,ee,ye)})},reset:function(){k&&(k.abort(),k=null)}}}em.__dashjs_factory_name="SegmentBaseLoader";var OT=b.Z.getSingletonFactory(em);function tm(p){var d;p=p||{};var y=new DataView(p.data),D=0;function F(I,k){var Y=!0,$=0;if(k===void 0&&(k=!1),I.tag>16777215?(y.getUint32(D)!==I.tag&&(Y=!1),$=4):I.tag>65535?(256*y.getUint16(D)+y.getUint8(D+2)!==I.tag&&(Y=!1),$=3):I.tag>255?(y.getUint16(D)!==I.tag&&(Y=!1),$=2):(y.getUint8(D)!==I.tag&&(Y=!1),$=1),!Y&&I.required&&!k)throw new Error("required tag not found");return Y&&(D+=$),Y}function x(I){var k=1,Y=128,$=-1,Q=0,j=y.getUint8(D),W=0;for(W=0;W<8;W+=1){if((j&Y)===Y){Q=I===void 0?j&~Y:j,$=W;break}Y>>=1}for(W=0;W<$;W+=1,k+=1)Q=Q<<8|255&y.getUint8(D+k);return D+=k,Q}return d={getPos:function(){return D},setPos:function(I){D=I},consumeTag:F,consumeTagAndSize:function(I,k){var Y=F(I,k);return Y&&x(),Y},parseTag:function(I){var k;return F(I),k=x(),d[I.parse](k)},skipOverElement:function(I,k){var Y,$=F(I,k);return $&&(Y=x(),D+=Y),$},getMatroskaCodedNum:x,getMatroskaFloat:function(I){var k;switch(I){case 4:k=y.getFloat32(D),D+=4;break;case 8:k=y.getFloat64(D),D+=8}return k},getMatroskaUint:function(I){if(I>4)return function($){for(var Q=Math.floor(Number.MAX_SAFE_INTEGER/256),j=0,W=0;W<$;W+=1){if(j>Q)throw new Error("Value exceeds safe integer limit");j*=256;var K=y.getUint8(D+W);if(j>Number.MAX_SAFE_INTEGER-K)throw new Error("Value exceeds safe integer limit");j+=K}return D+=$,j}(I);for(var k=0,Y=0;Y<I;Y+=1)k<<=8,k|=255&y.getUint8(D+Y);return D+=I,k>>>0},moreData:function(){return D<y.byteLength}}}tm.__dashjs_factory_name="EBMLParser";var nm=b.Z.getClassFactory(tm);function rm(){var p,d,y,D,F,x,I,k,Y,$,Q=this.context;function j(W){var K=new C.Z;return K.setInfo(W),K}return p={setConfig:function(W){if(!(W.baseURLController&&W.dashMetrics&&W.mediaPlayerModel&&W.errHandler))throw new Error(i.Z.MISSING_CONFIG_ERROR);$=W.baseURLController,x=W.dashMetrics,I=W.mediaPlayerModel,D=W.errHandler,Y=W.errors,d=W.debug.getLogger(p),F=W.requestModifier},initialize:function(){k=Fr(Q).create({errHandler:D,dashMetrics:x,mediaPlayerModel:I,requestModifier:F,errors:Y})},loadInitialization:function(W,K){return new Promise(function(ve){var ce=null,me=W?$.resolve(W.path):null,_e=W?W.range.split("-"):null,X={range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:ce,url:me?me.url:void 0,init:!0,mediaType:K};d.info("Start loading initialization."),ce=j(X),k.load({request:ce,success:function(){ve(W)},error:function(){ve(W)}}),d.debug("Perform init load: "+X.url)})},loadSegments:function(W,K,ve){return new Promise(function(ce){var me=null,_e=W?$.resolve(W.path):null,X=_e?_e.url:void 0;me=j({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:me,url:X,init:!1,mediaType:K}),d.debug("Parsing ebml header"),k.load({request:me,success:function(he){(function(ee,ye,R,z){if(ee&&ee.byteLength!==0){var q,H,L,fe,ie=nm(Q).create({data:ee}),pe=R?R.split("-"):null,se=null,V={url:ye,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:se};for(d.debug("Parse EBML header: "+V.url),ie.skipOverElement(y.EBML),ie.consumeTag(y.Segment),L=ie.getMatroskaCodedNum(),L+=ie.getPos(),fe=ie.getPos();ie.moreData()&&!ie.consumeTagAndSize(y.Segment.Info,!0);)if(!(ie.skipOverElement(y.Segment.SeekHead,!0)||ie.skipOverElement(y.Segment.Tracks,!0)||ie.skipOverElement(y.Segment.Cues,!0)||ie.skipOverElement(y.Void,!0)))throw new Error("no valid top level element found");for(;q===void 0;){var ue=ie.getMatroskaCodedNum(!0),Se=ie.getMatroskaCodedNum();ue===y.Segment.Info.Duration.tag?q=ie[y.Segment.Info.Duration.parse](Se):ie.setPos(ie.getPos()+Se)}se=j(V),k.load({request:se,success:function(Ue){H=function(De,Be,Le,lt){var ct,rt,ot,Zt,Ne,qe,mt,Xe;for(ot=[],Ne=0,qe=(rt=function(Tt){var _t,pt,Qt=[],Wt=nm(Q).create({data:Tt});for(Wt.consumeTagAndSize(y.Segment.Cues);Wt.moreData()&&Wt.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for((_t={}).CueTime=Wt.parseTag(y.Segment.Cues.CuePoint.CueTime),_t.CueTracks=[];Wt.moreData()&&Wt.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){var mn=Wt.getMatroskaCodedNum(),_n=Wt.getPos();if((pt={}).Track=Wt.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),pt.Track===0)throw new Error("Cue track cannot be 0");pt.ClusterPosition=Wt.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),_t.CueTracks.push(pt),Wt.setPos(_n+mn)}if(_t.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");Qt.push(_t)}if(Qt.length===0)throw new Error("mandatory cuepoint not found");return Qt}(De)).length;Ne<qe;Ne+=1)Zt=new Jg.Z,ct=Ne<rt.length-1?rt[Ne+1].CueTime-rt[Ne].CueTime:lt-rt[Ne].CueTime,Zt.duration=ct,Zt.startTime=rt[Ne].CueTime,Zt.timescale=1e3,mt=rt[Ne].CueTracks[0].ClusterPosition+Be,Xe=Ne<rt.length-1?rt[Ne+1].CueTracks[0].ClusterPosition+Be-1:Le-1,Zt.mediaRange=mt+"-"+Xe,ot.push(Zt);return d.debug("Parsed cues: "+ot.length+" cues."),ot}(Ue,fe,L,q),z(H)},error:function(){d.error("Download Error: Cues "+V.url),z(null)}}),d.debug("Perform cues load: "+V.url+" bytes="+V.range.start+"-"+V.range.end)}else z(null)})(he,X,ve,function(ee){ce({segments:ee,representation:W,error:ee?void 0:new de.Z(Y.SEGMENT_BASE_LOADER_ERROR_CODE,Y.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ce({representation:W,error:new de.Z(Y.SEGMENT_BASE_LOADER_ERROR_CODE,Y.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){k&&(k.abort(),k=null)}},y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},p}rm.__dashjs_factory_name="WebmSegmentBaseLoader";var PT=b.Z.getSingletonFactory(rm);function im(p){p=p||{};var d,y,D,F=this.context,x=p.eventBus,I=p.events,k=p.dashMetrics,Y=p.mediaPlayerModel,$=p.errHandler,Q=p.baseURLController,j=p.debug,W=p.boxParser,K=p.requestModifier,ve=p.errors;function ce(me){return(me?me.split("/")[1]:"").toLowerCase()==="webm"}return d={initialize:function(){y.initialize(),D.initialize()},getSegmentBaseInitSegment:function(me){return ce(me.representation.mimeType)?D.loadInitialization(me.representation,me.mediaType):y.loadInitialization(me.representation,me.mediaType)},getSegmentList:function(me){return ce(me.mimeType)?D.loadSegments(me.representation,me.mediaType,me.representation?me.representation.indexRange:null):y.loadSegments(me.representation,me.mediaType,me.representation?me.representation.indexRange:null)},reset:function(){y.reset(),D.reset()}},y=OT(F).getInstance(),D=PT(F).getInstance(),y.setConfig({baseURLController:Q,dashMetrics:k,mediaPlayerModel:Y,errHandler:$,eventBus:x,events:I,errors:ve,debug:j,boxParser:W,requestModifier:K}),D.setConfig({baseURLController:Q,dashMetrics:k,mediaPlayerModel:Y,errHandler:$,eventBus:x,events:I,errors:ve,debug:j,requestModifier:K}),d}im.__dashjs_factory_name="SegmentBaseController";var MT=b.Z.getSingletonFactory(im),om=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},rd=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.essentialProperties={},this.essentialPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},am=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},LT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function xT(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var FT=function(){function p(D){var F=this;(function(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")})(this,p),this.valid=D[0]=="/",this.path=D.split("/").filter(function(x){return x.length!==0}).map(function(x){var I={name:x},k=x.indexOf("[");if(k!=-1){I.name=x.substring(0,k);var Y=x.substring(k+1,x.length-1);F.valid=F.valid&&Y.indexOf("[")==-1;var $=Y.indexOf("=");$!=-1?(I.attribute={name:Y.substring(1,$),value:Y.substring($+1)},["'",'"'].indexOf(I.attribute.value[0])!=-1&&(I.attribute.value=I.attribute.value.substring(1,I.attribute.value.length-1))):I.position=parseInt(Y,10)-1}return I})}var d,y;return d=p,(y=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return this.path[this.path.length-1].name==="text()"}},{key:"getMpdTarget",value:function(D,F){for(var x=null,I=D,k=1,Y="MPD";k<this.path.length&&I!==null;){x=I;var $=this.path[k];if(Y=$.name,k!==this.path.length-1||!Y.startsWith("@")&&Y!=="text()"){var Q=x[Y+"_asArray"]||[];Q.length===0&&x[Y]&&Q.push(x[Y]),$.position?I=Q[$.position]||null:$.attribute?function(){var j=$.attribute;I=Q.filter(function(W){return W[j.name]==j.value})[0]||null}():I=Q[0]||null}k++}return I===null?null:Y.startsWith("@")?{name:Y.substring(1),leaf:I,target:I}:Y==="text()"?{name:"__text",leaf:I,target:I}:{name:Y,leaf:I,target:F?x:I}}}])&&xT(d.prototype,y),p}();function kT(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var UT=function(){function p(D,F,x){(function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")})(this,p),this.action=D,this.xpath=F,this.value=x,this.position=null}var d,y;return d=p,(y=[{key:"getMpdTarget",value:function(D){var F=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(D,F)}}])&&kT(d.prototype,y),p}();function sm(){var p,d,y=this.context;return p={getIsPatch:function(D){return D&&D.hasOwnProperty(o.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(D){return D&&D.hasOwnProperty(o.Z.PUBLISH_TIME)?new Date(D[o.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(D){return D&&D.hasOwnProperty(o.Z.ORIGINAL_PUBLISH_TIME)?new Date(D[o.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(D){return D&&D[o.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(D){return D?(D.__children||[]).map(function(F){var x=Object.keys(F)[0];if(x!=="add"&&x!=="remove"&&x!=="replace")return d.warn("Ignoring node of invalid action: ".concat(x)),null;var I=F[x],k=I.sel;if(x==="add"&&I.type){if(!I.type.startsWith("@"))return d.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;k="".concat(k,"/").concat(I.type)}var Y=new FT(k);if(!Y.isValid())return d.warn("Ignoring action with invalid selector: ".concat(x," - ").concat(k)),null;var $=null;Y.findsAttribute()||Y.findsTextReplace()?$=I.__text||"":x!=="remove"&&($=I.__children.reduce(function(j,W){var K=Object.keys(W)[0];return K!=="#text"&&(j[K]=j[K]||[],j[K].push(W[K])),j},{}));var Q=new UT(x,Y,$);return x==="add"&&(Q.position=I.pos),Q}).filter(function(F){return!!F}):[]}},d=(0,g.Z)(y).getInstance().getLogger(p),p}sm.__dashjs_factory_name="PatchManifestModel";var BT=b.Z.getSingletonFactory(sm);function um(){var p,d,y,D,F,x,I,k=this.context;function Y(q,H,L){var fe,ie=d.getAdaptationsForType(D[0].mpd.manifest,q,H);if(!ie||ie.length===0)return null;if(ie.length>1&&L){var pe=j(L,H);if(F[L.id]&&F[L.id][H]){for(var se=0,V=ie.length;se<V;se++)if($(F[L.id][H],pe[se]))return ie[se]}for(var ue=0,Se=ie.length;ue<Se;ue++)if(fe=ie[ue],d.getRolesForAdaptation(fe).filter(function(Ue){return Ue.value===o.Z.MAIN})[0])return ie[ue]}return ie[0]}function $(q,H){if(!q||!H)return!1;var L=q.id===H.id,fe=q.codec===H.codec,ie=q.viewpoint===H.viewpoint,pe=JSON.stringify(q.viewpointsWithSchemeIdUri)===JSON.stringify(H.viewpointsWithSchemeIdUri),se=q.lang===H.lang,V=q.roles.toString()===H.roles.toString(),ue=JSON.stringify(q.rolesWithSchemeIdUri)===JSON.stringify(H.rolesWithSchemeIdUri),Se=q.accessibility.toString()===H.accessibility.toString(),Ue=JSON.stringify(q.accessibilitiesWithSchemeIdUri)===JSON.stringify(H.accessibilitiesWithSchemeIdUri),De=q.audioChannelConfiguration.toString()===H.audioChannelConfiguration.toString(),Be=JSON.stringify(q.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(H.audioChannelConfigurationsWithSchemeIdUri);return L&&fe&&ie&&pe&&se&&V&&ue&&Se&&Ue&&De&&Be}function Q(q,H,L,fe,ie,pe){var se,V,ue,Se,Ue,De,Be=[];if(!fe||fe.length===0)return[];var Le=d.getAdaptationsForPeriod(H);for(Se=0,De=fe.length;Se<De;Se++)if(se=fe[Se],V=X(Le[ue=d.getIndexForAdaptation(se,q,L.index)]),pe){var lt=V.accessibility.length;for(Ue=0;Ue<lt;Ue++)if(V){var ct=V.accessibility[Ue];if(ct.indexOf("cea-608:")===0){var rt=ct.substring(8).split(";");if(rt[0].substring(0,2)==="CC")for(Ue=0;Ue<rt.length;Ue++)V||(V=X.call(this,Le[ue])),he(V,rt[Ue].substring(0,3),rt[Ue].substring(4)),Be.push(V),V=null;else for(Ue=0;Ue<rt.length;Ue++)V||(V=X.call(this,Le[ue])),he(V,"CC"+(Ue+1),rt[Ue]),Be.push(V),V=null}else ct.indexOf("cea-608")===0&&(he(V,x.CC1,"eng"),Be.push(V),V=null)}}else ie===x.IMAGE?(V.type=x.IMAGE,Be.push(V),V=null):V&&Be.push(V);return Be}function j(q,H,L){var fe=D,ie=L,pe=[];if(ie)ye(),fe=W(ie);else{if(!(D.length>0))return pe;ie=D[0].mpd.manifest}var se=_e(q,fe),V=d.getAdaptationsForType(ie,q?q.index:null,H);return pe=Q(ie,se,q,V,H),H===x.TEXT&&(V=d.getAdaptationsForType(ie,q?q.index:null,x.VIDEO),pe=pe.concat(Q(ie,se,q,V,H,!0))),pe}function W(q){var H=K(q);return d.getRegularPeriods(H)}function K(q){var H=ce(q);return d.getMpd(H)}function ve(){D=[],F={}}function ce(q){return q||(D.length>0?D[0].mpd.manifest:null)}function me(q){try{var H=_e(q.streamInfo,D),L=d.getAdaptationsForPeriod(H);return q&&q.streamInfo&&q.streamInfo.id!==void 0&&L?L[q.index]:null}catch{return null}}function _e(q,H){for(var L=H.length,fe=0;fe<L;fe++){var ie=H[fe];if(q&&q.id===ie.id)return ie}return null}function X(q){if(!q)return null;var H,L,fe,ie,pe,se=new rd,V=q.period.mpd.manifest.Period_asArray[q.period.index].AdaptationSet_asArray[q.index];if(se.id=q.id,se.index=q.index,se.type=q.type,se.streamInfo=ee(q.period),se.representationCount=d.getRepresentationCount(V),se.labels=d.getLabelsForAdaptation(V),se.lang=d.getLanguageForAdaptation(V),se.segmentAlignment=d.getSegmentAlignment(V),se.subSegmentAlignment=d.getSubSegmentAlignment(V),H=d.getViewpointForAdaptation(V),se.viewpoint=H.length?H[0].value:void 0,se.viewpointsWithSchemeIdUri=H,pe=d.getAccessibilityForAdaptation(V),se.accessibility=pe.map(function(Be){var Le=Be.value,lt=Le;return Be.schemeIdUri&&Be.schemeIdUri.search("cea-608")>=0&&I!==void 0&&(lt=Le?"cea-608:"+Le:"cea-608",se.embeddedCaptions=!0),lt}),se.accessibilitiesWithSchemeIdUri=pe,L=d.getAudioChannelConfigurationForAdaptation(V),se.audioChannelConfiguration=L.map(function(Be){return Be.value}),se.audioChannelConfigurationsWithSchemeIdUri=L,se.audioChannelConfiguration.length===0&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0&&(fe=d.getAudioChannelConfigurationForRepresentation(V.Representation_asArray[0]),se.audioChannelConfiguration=fe.map(function(Be){return Be.value}),se.audioChannelConfigurationsWithSchemeIdUri=fe),ie=d.getRolesForAdaptation(V),se.roles=ie.map(function(Be){return Be.value}),se.rolesWithSchemeIdUri=ie,se.codec=d.getCodec(V),se.mimeType=d.getMimeType(V),se.contentProtection=d.getContentProtectionData(V),se.bitrateList=d.getBitrateListForAdaptation(V),se.selectionPriority=d.getSelectionPriority(V),se.contentProtection){var ue=se.contentProtection.map(function(Be){return d.getKID(Be)}).filter(function(Be){return Be!==null});if(ue.length){var Se=ue[0];se.contentProtection.forEach(function(Be){Be.keyId=Se})}}if(se.isText=d.getIsText(V),se.supplementalProperties=d.getSupplementalPropertiesForAdaptation(V),(!se.supplementalProperties||Object.keys(se.supplementalProperties).length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var Ue=V.Representation_asArray.map(function(Be){return d.getSupplementalPropertiesForRepresentation(Be)});Ue.every(function(Be){return JSON.stringify(Be)===JSON.stringify(Ue[0])})&&(se.supplementalProperties=Ue[0])}if(se.supplementalPropertiesAsArray=d.getSupplementalPropertiesAsArrayForAdaptation(V),(!se.supplementalPropertiesAsArray||se.supplementalPropertiesAsArray.length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var De=V.Representation_asArray.map(function(Be){return d.getSupplementalPropertiesAsArrayForRepresentation(Be)});De.every(function(Be){return JSON.stringify(Be)===JSON.stringify(De[0])})&&(se.supplementalPropertiesAsArray=De[0])}return se.essentialProperties=d.getEssentialPropertiesForAdaptation(V),se.essentialPropertiesAsArray=d.getEssentialPropertiesAsArrayForAdaptation(V),se.isFragmented=d.getIsFragmented(V),se.isEmbedded=!1,se}function he(q,H,L){q.id=H,q.index=100+parseInt(H.substring(2,3)),q.type=x.TEXT,q.codec="cea-608-in-SEI",q.isEmbedded=!0,q.isFragmented=!1;var fe=wl()(L);q.lang=fe||L,q.roles=["caption"],q.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function ee(q){var H,L,fe=new am;return fe.id=q.id,fe.index=q.index,fe.start=q.start,fe.duration=q.duration,fe.manifestInfo=(H=q.mpd,(L=new LT).dvrWindowSize=H.timeShiftBufferDepth,L.loadedTime=H.manifest.loadedTime,L.availableFrom=H.availabilityStartTime,L.minBufferTime=H.manifest.minBufferTime,L.maxFragmentDuration=H.maxSegmentDuration,L.duration=d.getDuration(H.manifest),L.isDynamic=d.getIsDynamic(H.manifest),L.serviceDescriptions=d.getServiceDescriptions(H.manifest),L.protocol=H.manifest.protocol,L),fe.isLast=q.mpd.manifest.Period_asArray.length===1||Math.abs(fe.start+fe.duration-fe.manifestInfo.duration)<1,fe}function ye(){if(!x)throw new Error("setConfig function has to be called previously")}function R(q){return D.length>0?D[0].mpd.manifest.Period_asArray[q]:null}function z(q,H,L){var fe,ie,pe,se,V;if(q){for(fe=q.AdaptationSet_asArray,se=0;se<fe.length;se+=1)for(pe=fe[se].Representation_asArray,V=0;V<pe.length;V+=1)if(H===(ie=pe[V]).id)return L?V:ie}return null}return p={getBandwidthForRepresentation:function(q,H){var L;return(L=z(R(H),q))?L.bandwidth:null},getIndexForRepresentation:function(q,H){return function(L,fe){var ie=z(L,fe,!0);return ie!==null?ie:-1}(R(H),q)},getMaxIndexForBufferType:function(q,H){return function(L,fe){var ie,pe,se,V;if(!L||!fe)return-1;for(pe=L.AdaptationSet_asArray,V=0;V<pe.length;V+=1)if(se=(ie=pe[V]).Representation_asArray,d.getIsTypeOf(ie,fe))return se.length;return-1}(R(H),q)},convertRepresentationToRepresentationInfo:function(q){if(q){var H=new om,L=q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index],fe=d.getRepresentationFor(q.index,L);return H.id=q.id,H.quality=q.index,H.bandwidth=d.getBandwidth(fe),H.fragmentDuration=q.segmentDuration||(q.segments&&q.segments.length>0?q.segments[0].duration:NaN),H.MSETimeOffset=q.MSETimeOffset,H.mediaInfo=X(q.adaptation),H}return null},getStreamsInfo:function(q,H){var L=[],fe=D;if(q&&(ye(),fe=W(q)),fe.length>0){(!H||H>fe.length)&&(H=fe.length);for(var ie=0;ie<H;ie++)L.push(ee(fe[ie]))}return L},getMediaInfoForType:function(q,H){if(D.length===0||!q)return null;var L=_e(q,D);if(!L)return null;var fe=d.getAdaptationsForPeriod(L),ie=Y(q.index,H,q);return ie?X(fe[d.getIndexForAdaptation(ie,D[0].mpd.manifest,q.index)]):null},getAllMediaInfoForType:j,getAdaptationForType:Y,getRealAdaptation:function(q,H){var L,fe,ie=_e(q,D);return L=H?H.id:null,D.length>0&&ie&&(fe=L?d.getAdaptationForId(L,D[0].mpd.manifest,ie.index):d.getAdaptationForIndex(H?H.index:null,D[0].mpd.manifest,ie.index)),fe},getProducerReferenceTimes:function(q,H){var L,fe,ie=_e(q,D);return L=H?H.id:null,D.length>0&&ie&&(fe=L?d.getAdaptationForId(L,D[0].mpd.manifest,ie.index):d.getAdaptationForIndex(H?H.index:null,D[0].mpd.manifest,ie.index)),fe?d.getProducerReferenceTimesForAdaptation(fe):[]},getRealPeriodByIndex:function(q){return d.getRealPeriodForIndex(q,D[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(q){try{return d.getEssentialPropertiesForRepresentation(q)}catch{return[]}},getVoRepresentations:function(q){var H=me(q);return d.getRepresentationsForAdaptation(H)},getEventsFor:function(q,H,L){var fe=[];if(D.length>0){var ie=D[0].mpd.manifest;if(q instanceof am){var pe=_e(q,D);fe=d.getEventsForPeriod(pe)}else if(q instanceof rd){var se=_e(L,D);fe=d.getEventStreamForAdaptationSet(ie,me(q),se)}else if(q instanceof om){var V=_e(L,D);fe=d.getEventStreamForRepresentation(ie,H,V)}}return fe},getEvent:function(q,H,L,fe){try{if(!q||!H||isNaN(L)||!fe)return null;var ie=q.scheme_id_uri,pe=q.value;if(!H[ie+"/"+pe])return null;var se,V=new Cr,ue=q.timescale||1,Se=fe.adaptation.period.start,Ue=H[ie+"/"+pe],De=isNaN(fe.presentationTimeOffset)?isNaN(Ue.presentationTimeOffset)?0:Ue.presentationTimeOffset:fe.presentationTimeOffset,Be=q.presentation_time_delta/ue;se=q.version===0?Se+L-De+Be:Se-De+Be;var Le=q.event_duration/ue,lt=q.id,ct=q.message_data;return V.eventStream=Ue,V.eventStream.value=pe,V.eventStream.timescale=ue,V.duration=Le,V.id=lt,V.calculatedPresentationTime=se,V.messageData=ct,V.presentationTimeDelta=Be,V}catch{return null}},getMpd:K,setConfig:function(q){q&&(q.constants&&(x=q.constants),q.cea608parser&&(I=q.cea608parser),q.errHandler&&d.setConfig({errHandler:q.errHandler}),q.BASE64&&d.setConfig({BASE64:q.BASE64}))},updatePeriods:function(q){if(!q)return null;ye(),D=W(q)},getIsTextTrack:function(q){return d.getIsText(q)},getUTCTimingSources:function(){var q=ce();return d.getUTCTimingSources(q)},getSuggestedPresentationDelay:function(){var q=D.length>0?D[0].mpd:null;return d.getSuggestedPresentationDelay(q)},getAvailabilityStartTime:function(q){var H=K(q);return d.getAvailabilityStartTime(H)},getIsTypeOf:function(q,H){return d.getIsTypeOf(q,H)},getIsDynamic:function(q){var H=ce(q);return d.getIsDynamic(H)},getDuration:function(q){var H=ce(q);return d.getDuration(H)},getRegularPeriods:W,getContentSteering:function(q){return d.getContentSteering(q)},getLocation:function(q){return d.getLocation(q)},getPatchLocation:function(q){var H=d.getPatchLocation(q),L=d.getPublishTime(q);return H&&H.length!==0&&L?H.filter(function(fe){return isNaN(fe.ttl)||L.getTime()+fe.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return d.getManifestUpdatePeriod(q,H)},getPublishTime:function(q){return d.getPublishTime(q)},getIsDVB:function(q){return d.hasProfile(q,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(q){return y.getIsPatch(q)},getBaseURLsFromElement:function(q){return d.getBaseURLsFromElement(q)},getRepresentationSortFunction:function(){return d.getRepresentationSortFunction()},getCodec:function(q,H,L){return d.getCodec(q,H,L)},getPeriodById:function(q){if(!q||D.length===0)return null;var H=D.filter(function(L){return L.id===q});return H&&H.length>0?H[0]:null},setCurrentMediaInfo:function(q,H,L){F[q]=F[q]||{},F[q][H]=F[q][H]||{},F[q][H]=L},isPatchValid:function(q,H){var L=d.getId(q),fe=y.getMpdId(H),ie=d.getPublishTime(q),pe=y.getPublishTime(H),se=y.getOriginalPublishTime(H);return!!(L&&fe&&L==fe&&ie&&se&&ie.getTime()==se.getTime()&&pe&&ie.getTime()<pe.getTime())},applyPatchToManifest:function(q,H){y.getPatchOperations(H).forEach(function(L){var fe=L.getMpdTarget(q);if(fe!==null){var ie=fe.name,pe=fe.target,se=fe.leaf;if(L.xpath.findsAttribute()||ie==="__text")switch(L.action){case"add":case"replace":pe[ie]=L.value;break;case"remove":delete pe[ie]}else{var V=(pe[ie+"_asArray"]||[]).indexOf(se),ue=L.position==="prepend"||L.position==="before";if((L.action==="remove"||L.action==="replace")&&(delete pe[ie],V!=-1)){var Se=pe[ie+"_asArray"];Se.splice(V,1),Se.length>1?pe[ie]=Se:Se.length==1?pe[ie]=Se[0]:delete pe[ie+"_asArray"]}L.action!=="add"&&L.action!=="replace"||Object.keys(L.value).forEach(function(Ue){var De=L.value[Ue],Be=pe[Ue+"_asArray"]||[];if(Be.length===0&&pe[Ue]&&Be.push(pe[Ue]),Be.length===0)Be=De;else{var Le=Be.length;Le=Ue==ie&&V!=-1?V+(ue?0:1)+(L.action=="replace"?-1:0):ue?0:Be.length,Be.splice.apply(Be,[Le,0].concat(De))}pe[Ue+"_asArray"]=Be,pe[Ue]=Be.length==1?Be[0]:Be})}}})},areMediaInfosEqual:$,reset:ve},d=ln(k).getInstance(),y=BT(k).getInstance(),ve(),p}um.__dashjs_factory_name="DashAdapter";var ZT=b.Z.getSingletonFactory(um);function jT(p,d){for(var y=0;y<d.length;y++){var D=d[y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,D.key,D)}}var GT=function(){function p(){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,p)}var d,y;return d=p,y=[{key:"round10",value:function(D,F){return function(x,I,k){return k===void 0||+k==0?Math[x](I):(k=+k,(I=+I)===null||isNaN(I)||typeof k!="number"||k%1!=0?NaN:(I=I.toString().split("e"),+((I=(I=Math[x](+(I[0]+"e"+(I[1]?+I[1]-k:-k)))).toString().split("e"))[0]+"e"+(I[1]?+I[1]+k:k))))}("round",D,F)}}],y&&jT(d,y),p}(),qT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},HT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null},zT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null},YT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.target=null,this.state=w.Z.BUFFER_EMPTY},VT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null},KT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null};function id(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}var WT=function p(){id(this,p),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},QT=function p(){id(this,p),this.id=null,this.index=null,this.start=null,this.duration=null},XT=function p(){id(this,p),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},$T=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},JT=function p(){(function(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]};function lm(p){var d,y,D=(p=p||{}).settings,F=this.context,x=(0,T.Z)(F).getInstance();function I(){x.trigger(c.Z.METRICS_CHANGED)}function k(K){x.trigger(c.Z.METRIC_CHANGED,{mediaType:K}),I()}function Y(K,ve,ce){x.trigger(c.Z.METRIC_UPDATED,{mediaType:K,metric:ve,value:ce}),k(K)}function $(K,ve,ce){x.trigger(c.Z.METRIC_ADDED,{mediaType:K,metric:ve,value:ce}),k(K)}function Q(K,ve){var ce=null;return K&&(y.hasOwnProperty(K)?ce=y[K]:ve||(ce=new qT,y[K]=ce)),ce}function j(K,ve,ce){var me=Q(K);me!==null&&(me[ve].push(ce),me[ve].length>D.get().streaming.metrics.maxListDepth&&me[ve].shift())}function W(K,ve,ce){j(K,ve,ce),$(K,ve,ce)}return d={clearCurrentMetricsForType:function(K){delete y[K],k(K)},clearAllCurrentMetrics:function(){y={},I()},getMetricsFor:Q,addHttpRequest:function K(ve,ce,me,_e,X,he,ee,ye,R,z,q,H,L,fe,ie,pe,se){var V=new Pe.w;he!=null&&he!==_e&&(K(ve,null,me,_e,X,null,null,ye,R,null,null,null,L,null,null,pe,se),V.actualurl=he),V.tcpid=ce,V.type=me,V.url=_e,V.range=ye,V.trequest=R,V.tresponse=z,V.responsecode=H,V.cmsd=se,V._tfinish=q,V._stream=ve,V._mediaduration=L,V._quality=X,V._responseHeaders=fe,V._serviceLocation=ee,V._fileLoaderType=pe,ie?ie.forEach(function(ue){(function(Se,Ue,De,Be){var Le=new Pe.O;Le.s=Ue,Le.d=De,Le.b=Be,Se.trace.push(Le),Se.interval||(Se.interval=0),Se.interval+=De})(V,ue.s,ue.d,ue.b)}):(delete V.interval,delete V.trace),W(ve,w.Z.HTTP_REQUEST,V)},addRepresentationSwitch:function(K,ve,ce,me,_e){var X=new HT;X.t=ve,X.mt=ce,X.to=me,_e?X.lto=_e:delete X.lto,W(K,w.Z.TRACK_SWITCH,X)},addBufferLevel:function(K,ve,ce){var me=new zT;me.t=ve,me.level=ce,W(K,w.Z.BUFFER_LEVEL,me)},addBufferState:function(K,ve,ce){var me=new YT;me.target=ce,me.state=ve,W(K,w.Z.BUFFER_STATE,me)},addDVRInfo:function(K,ve,ce,me){var _e=new VT;_e.time=ve,_e.range=me,_e.manifestInfo=ce,W(K,w.Z.DVR_INFO,_e)},addDroppedFrames:function(K,ve){var ce=new KT,me=Q(K).DroppedFrames;ve&&(ce.time=ve.creationTime,ce.droppedFrames=ve.droppedVideoFrames,me.length>0&&me[me.length-1]==ce||W(K,w.Z.DROPPED_FRAMES,ce))},addSchedulingInfo:function(K,ve,ce,me,_e,X,he,ee,ye){var R=new $T;R.mediaType=K,R.t=ve,R.type=ce,R.startTime=me,R.availabilityStartTime=_e,R.duration=X,R.quality=he,R.range=ee,R.state=ye,W(K,w.Z.SCHEDULING_INFO,R)},addRequestsQueue:function(K,ve,ce){var me=new JT;me.loadingRequests=ve,me.executedRequests=ce,Q(K).RequestsQueue=me,$(K,w.Z.REQUESTS_QUEUE,me)},addManifestUpdate:function(K,ve,ce,me,_e,X,he,ee,ye,R){var z=new WT;z.mediaType=K,z.type=ve,z.requestTime=ce,z.fetchTime=me,z.availabilityStartTime=_e,z.presentationStartTime=X,z.clientTimeOffset=he,z.currentTime=ee,z.buffered=ye,z.latency=R,j(i.Z.STREAM,w.Z.MANIFEST_UPDATE,z),$(K,w.Z.MANIFEST_UPDATE,z)},updateManifestUpdateInfo:function(K,ve){if(K){for(var ce in ve)K[ce]=ve[ce];Y(K.mediaType,w.Z.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function(K,ve,ce,me,_e){if(K){var X=new QT;X.id=ve,X.index=ce,X.start=me,X.duration=_e,K.streamInfo.push(X),Y(K.mediaType,w.Z.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function(K,ve,ce,me,_e,X,he,ee){if(K&&K.representationInfo){var ye=new XT;ye.id=ve,ye.index=ce,ye.streamIndex=me,ye.mediaType=_e,ye.startNumber=he,ye.fragmentInfoType=ee,ye.presentationTimeOffset=X,K.representationInfo.push(ye),Y(K.mediaType,w.Z.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ve){ve.hasOwnProperty("subreplevel")&&!ve.subreplevel&&delete ve.subreplevel}):delete K.trace,W(i.Z.STREAM,w.Z.PLAY_LIST,K)},addDVBErrors:function(K){W(i.Z.STREAM,w.Z.DVB_ERRORS,K)}},y={},d}lm.__dashjs_factory_name="MetricsModel";var eS=b.Z.getSingletonFactory(lm);function cm(p){p=p||{};var d,y,D,F,x=this.context,I=p.metricsModel;function k(Q){var j=I.getMetricsFor(Q,!0);if(!j)return null;var W,K=j.HttpList,ve=null;if(!K||K.length<=0)return null;for(W=K.length-1;W>=0;){if(K[W].responsecode){ve=K[W];break}W--}return ve}function Y(Q){var j=I.getMetricsFor(Q,!0);return j&&j.HttpList?j.HttpList:[]}function $(Q,j){if(!Q)return null;var W=Q[j];return W&&W.length!==0?W[W.length-1]:null}return d={getCurrentRepresentationSwitch:function(Q){return $(I.getMetricsFor(Q,!0),w.Z.TRACK_SWITCH)},getCurrentBufferState:function(Q){return $(I.getMetricsFor(Q,!0),w.Z.BUFFER_STATE)},getCurrentBufferLevel:function(Q){var j=$(I.getMetricsFor(Q,!0),w.Z.BUFFER_LEVEL);return j?GT.round10(j.level/1e3,-3):0},getCurrentHttpRequest:k,getHttpRequests:Y,getCurrentDroppedFrames:function(){return $(I.getMetricsFor(i.Z.VIDEO,!0),w.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Q){return $(I.getMetricsFor(Q,!0),w.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(Q){return $(Q?I.getMetricsFor(Q,!0):I.getMetricsFor(i.Z.VIDEO,!0)||I.getMetricsFor(i.Z.AUDIO,!0),w.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return $(I.getMetricsFor(i.Z.STREAM),w.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Q,j){if(!j)return null;var W={},K=k(Q);K&&(W=At.Z.parseHttpHeaders(K._responseHeaders));var ve=W[j.toLowerCase()];return ve===void 0?null:ve},getLatestMPDRequestHeaderValueByID:function(Q){if(!Q)return null;var j,W,K,ve={};for(K=(j=Y(i.Z.STREAM)).length-1;K>=0;K--)if((W=j[K]).type===Pe.w.MPD_TYPE){ve=At.Z.parseHttpHeaders(W._responseHeaders);break}var ce=ve[Q.toLowerCase()];return ce===void 0?null:ce},addRepresentationSwitch:function(Q,j,W,K,ve){I.addRepresentationSwitch(Q,j,W,K,ve)},addDVRInfo:function(Q,j,W,K){I.addDVRInfo(Q,j,W,K)},updateManifestUpdateInfo:function(Q){var j=this.getCurrentManifestUpdate();I.updateManifestUpdateInfo(j,Q)},addManifestUpdateStreamInfo:function(Q){if(Q){var j=this.getCurrentManifestUpdate();I.addManifestUpdateStreamInfo(j,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function(Q,j){if(Q){var W=this.getCurrentManifestUpdate();I.addManifestUpdateRepresentationInfo(W,Q.id,Q.index,Q.streamIndex,j,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function(Q){I.addManifestUpdate(i.Z.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function(Q,j,W,K,ve,ce){I.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,j,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,W,Q.duration,K,ve,Q.fileLoaderType,ce)},addSchedulingInfo:function(Q,j){I.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,j)},addRequestsQueue:function(Q,j,W){I.addRequestsQueue(Q,j,W)},addBufferLevel:function(Q,j,W){I.addBufferLevel(Q,j,W)},addBufferState:function(Q,j,W){I.addBufferState(Q,j,W)},addDroppedFrames:function(Q){I.addDroppedFrames(i.Z.VIDEO,Q)},addPlayList:function(){F&&(I.addPlayList(F),F=null)},addDVBErrors:function(Q){I.addDVBErrors(Q)},createPlaylistMetrics:function(Q,j){(F=new Ze).start=new Date,F.mstart=Q,F.starttype=j},createPlaylistTraceMetrics:function(Q,j,W){y===!0&&(y=!1,(D=new Me).representationid=Q,D.start=new Date,D.mstart=j,D.playbackspeed=W!==null?W.toString():null)},updatePlayListTraceMetrics:function(Q){if(D)for(var j in D)D[j]=Q[j]},pushPlayListTraceMetrics:function(Q,j){if(y===!1&&F&&D&&D.start){var W=D.start,K=Q.getTime()-W.getTime();D.duration=K,D.stopreason=j,F.trace.push(D),y=!0}},clearAllCurrentMetrics:function(){I.clearAllCurrentMetrics()}},I=I||eS(x).getInstance({settings:p.settings}),y=!0,D=null,F=null,d}cm.__dashjs_factory_name="DashMetrics";var tS=b.Z.getSingletonFactory(cm);function fm(){var p,d,y,D,F=this.context,x=(0,T.Z)(F).getInstance(),I=(0,we.Z)(F).getInstance();function k(_e){D=_e}function Y(_e,X,he,ee){var ye,R=X.adaptation.period.mpd,z=R.availabilityStartTime;if(ee)ye=he&&R.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(z.getTime()+1e3*(_e+R.timeShiftBufferDepth)):R.availabilityEndTime;else if(he){var q=X.availabilityTimeOffset;ye=new Date(z.getTime()+1e3*(_e-q))}else ye=z;return ye}function $(_e,X){return(_e.getTime()-X.mpd.availabilityStartTime.getTime()+1e3*D)/1e3}function Q(_e,X){return _e+(X.adaptation.period.start-X.presentationTimeOffset)}function j(_e){var X={start:NaN,end:NaN},he=_e[0].getAdapter().getRegularPeriods()[0],ee=$(new Date,he);if(!_e||_e.length===0)return{range:X,now:ee};_e.forEach(function(R){var z=R.getAdapter(),q=z.getMediaInfoForType(R.getStreamInfo(),i.Z.VIDEO)||z.getMediaInfoForType(R.getStreamInfo(),i.Z.AUDIO),H=z.getVoRepresentations(q)[0],L={start:NaN,end:NaN};if(H)if(H.segmentInfoType===o.Z.SEGMENT_TIMELINE)L=function(ie){var pe,se,V,ue,Se=ie.adaptation.period.mpd.manifest.Period_asArray[ie.adaptation.period.index].AdaptationSet_asArray[ie.adaptation.index],Ue=d.getRepresentationFor(ie.index,Se),De=Ue.SegmentTemplate||Ue.SegmentList,Be=De.SegmentTimeline,Le=De.timescale,lt=Be.S_asArray,ct={start:0,end:0},rt=lt[0].t,ot=!isNaN(rt),Zt=ot?rt:0,Ne=0;for(ot&&(ct.start=Q(Zt/Le,ie)),V=0,ue=lt.length;V<ue;V++)se=0,(pe=lt[V]).hasOwnProperty("r")&&(se=pe.r),Ne+=pe.d*(1+se);return ct.end=Q((Zt+Ne)/Le,ie),ct}(H);else{var fe=H.adaptation.period;L.start=fe.start,L.end=Math.max(ee,fe.start+fe.duration)}!isNaN(L.start)&&(isNaN(X.start)||X.start>L.start)&&(X.start=L.start),!isNaN(L.end)&&(isNaN(X.end)||X.end<L.end)&&(X.end=L.end)}),X.end=Math.min(ee,X.end);var ye=K(_e,X.end,!0);return X.end=isNaN(ye)?X.end:ye,X.start=he&&he.mpd&&he.mpd.timeShiftBufferDepth&&!isNaN(he.mpd.timeShiftBufferDepth)&&!isNaN(X.end)?Math.max(X.end-he.mpd.timeShiftBufferDepth,X.start):X.start,X.start=K(_e,X.start),{range:X,now:ee}}function W(_e,X){y=_e-X.end}function K(_e,X){var he=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var ee=0,ye=!1,R=NaN;!ye&&ee<_e.length;){var z=_e[ee].getStreamInfo();z.start<=X&&(!isFinite(z.duration)||z.start+z.duration>=X)?(R=X,ye=!0):!he&&z.start>X&&(isNaN(R)||z.start<R)?R=z.start:he&&z.start+z.duration<X&&(isNaN(R)||z.start+z.duration>R)&&(R=z.start+z.duration),ee+=1}return R}catch{return X}}function ve(_e){_e.offset===void 0||isNaN(_e.offset)||k(_e.offset/1e3)}function ce(){D=0,y=0}function me(){x.off(c.Z.UPDATE_TIME_SYNC_OFFSET,ve,this),ce()}return p={initialize:function(){ce(),x.on(c.Z.UPDATE_TIME_SYNC_OFFSET,ve,this)},getClientTimeOffset:function(){return D},setClientTimeOffset:k,getClientReferenceTime:function(){return Date.now()-1e3*y+1e3*D},calcAvailabilityStartTimeFromPresentationTime:function(_e,X,he){return Y(_e,X,he)},calcAvailabilityEndTimeFromPresentationTime:function(_e,X,he){return Y(_e,X,he,!0)},calcPresentationTimeFromWallTime:$,calcPresentationTimeFromMediaTime:Q,calcPeriodRelativeTimeFromMpdRelativeTime:function(_e,X){return X-_e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(_e,X){return _e-X.adaptation.period.start+X.presentationTimeOffset},calcWallTimeForSegment:function(_e,X){var he,ee,ye;return X&&(he=_e.representation.adaptation.period.mpd.suggestedPresentationDelay,ee=_e.presentationStartTime+he,ye=new Date(_e.availabilityStartTime.getTime()+1e3*ee)),ye},calcTimeShiftBufferWindow:function(_e,X){if(!X)return function(ee){var ye={start:NaN,end:NaN},R=0,z=NaN;return ee.forEach(function(q){var H=q.getStreamInfo();R+=H.duration,(isNaN(z)||H.start<z)&&(z=H.start)}),ye.start=z,ye.end=z+R,ye}(_e);if(I.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var he=j(_e);return W(he.now,he.range),he.range}return function(ee){var ye={start:NaN,end:NaN};if(!ee||ee.length===0)return ye;var R=ee[0].getAdapter().getRegularPeriods()[0],z=$(new Date,R),q=R.mpd.timeShiftBufferDepth,H=isNaN(q)?0:z-q;if(ye.start=K(ee,H),ye.end=!isNaN(ye.start)&&z<ye.start?z:K(ee,z,!0),!isNaN(q)&&ye.end<z-q&&(ye.end=NaN),I.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var L=j(ee);if(L.range.end<ye.start)return x.trigger(u.Z.CONFORMANCE_VIOLATION,{level:$a.LEVELS.WARNING,event:$a.EVENTS.INVALID_DVR_WINDOW}),W(L.now,L.range),L.range}return ye}(_e)},reset:me},d=ln(F).getInstance(),me(),p}fm.__dashjs_factory_name="TimelineConverter";var nS=b.Z.getSingletonFactory(fm),od=E(4593),xl=E(6934);function ad(p){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},ad(p)}function sd(p,d){return sd=Object.setPrototypeOf||function(y,D){return y.__proto__=D,y},sd(p,d)}function rS(p,d){return!d||ad(d)!=="object"&&typeof d!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):d}function Fl(p){return Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Fl(p)}var iS=function(p){(function(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),I&&sd(x,I)})(F,p);var d,y,D=(d=F,y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var x,I=Fl(d);if(y){var k=Fl(this).constructor;x=Reflect.construct(I,arguments,k)}else x=I.apply(this,arguments);return rS(this,x)});function F(){var x;return function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}(this,F),(x=D.call(this)).captionData=null,x.label=null,x.defaultTrack=!1,x.kind=null,x.isFragmented=!1,x.isEmbedded=!1,x.isTTML=null,x}return F}(rd),oS=E(2295);function dm(){var p=0;function d(k){for(var Y="",$=0;$<k.length;++$)Y+=k[$].uchar;return Y.length-Y.replace(/^\s+/,"").length}function y(k){return"left: "+3.125*k.x+"%; top: "+6.66*k.y1+"%; width: "+(100-3.125*k.x)+"%; height: "+6.66*Math.max(k.y2-1-k.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(k){return k==="red"?"rgb(255, 0, 0)":k==="green"?"rgb(0, 255, 0)":k==="blue"?"rgb(0, 0, 255)":k==="cyan"?"rgb(0, 255, 255)":k==="magenta"?"rgb(255, 0, 255)":k==="yellow"?"rgb(255, 255, 0)":k==="white"?"rgb(255, 255, 255)":k==="black"?"rgb(0, 0, 0)":k}function F(k,Y){var $=k.videoHeight/15;return Y?"font-size: "+$+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(Y.foreground?D(Y.foreground):"rgb(255, 255, 255)")+"; font-style: "+(Y.italics?"italic":"normal")+"; text-decoration: "+(Y.underline?"underline":"none")+"; white-space: pre; background-color: "+(Y.background?D(Y.background):"transparent")+";":"font-size: "+$+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function x(k){return k.replace(/^\s+/g,"")}function I(k){return k.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(k,Y,$,Q){var j,W,K=null,ve=!1,ce=-1,me={start:Y,end:$,spans:[]},_e="style_cea608_white_black",X={},he={},ee=[];for(j=0;j<15;++j){var ye=Q.rows[j],R="",z=null;if(ye.isEmpty()===!1){var q=d(ye.chars);K===null&&(K={x:q,y1:j,y2:j+1,p:[]}),q!==ce&&ve&&(K.p.push(me),me={start:Y,end:$,spans:[]},K.y2=j,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K={x:q,y1:j,y2:j+1,p:[]});for(var H=0;H<ye.chars.length;++H){var L=ye.chars[H],fe=L.penState;if(z===null||!fe.equals(z)){R.trim().length>0&&(me.spans.push({name:_e,line:R,row:j}),R="");var ie="style_cea608_"+fe.foreground+"_"+fe.background;fe.underline&&(ie+="_underline"),fe.italics&&(ie+="_italics"),he.hasOwnProperty(ie)||(he[ie]=JSON.parse(JSON.stringify(fe))),z=fe,_e=ie}R+=L.uchar}R.trim().length>0&&me.spans.push({name:_e,line:R,row:j}),ve=!0,ce=q}else ve=!1,ce=-1,K&&(K.p.push(me),me={start:Y,end:$,spans:[]},K.y2=j,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null)}K&&(K.p.push(me),K.y2=j+1,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null);var pe=[];for(j=0;j<ee.length;++j){var se=ee[j],V="sub_cea608_"+p++,ue=document.createElement("div");ue.id=V;var Se=y(se);ue.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Se;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=F(k);var De=document.createElement("div");De.className="cueUniWrapper",De.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Be=0;Be<se.p.length;++Be){var Le=se.p[Be],lt=0;for(W=0;W<Le.spans.length;++W){var ct=Le.spans[W];if(ct.line.length>0){if(W!==0&&lt!=ct.row){var rt=document.createElement("br");rt.className="lineBreak",De.appendChild(rt)}var ot=!1;lt===ct.row&&(ot=!0),lt=ct.row;var Zt=he[ct.name],Ne=document.createElement("span");Ne.className="spanPadding "+ct.name+" customSpanColor",Ne.style.cssText=F(k,Zt),W!==0&&ot?W===Le.spans.length-1?Ne.textContent=I(ct.line):Ne.textContent=ct.line:Le.spans.length>1&&W<Le.spans.length-1&&ct.row===Le.spans[W+1].row?Ne.textContent=x(ct.line):Ne.textContent=ct.line.trim(),De.appendChild(Ne)}}}Ue.appendChild(De),ue.appendChild(Ue);var qe={bodyStyle:["%",90]};for(var mt in he)he.hasOwnProperty(mt)&&(qe[mt]=["%",90]);pe.push({type:"html",start:Y,end:$,cueHTMLElement:ue,cueID:V,cellResolution:[32,15],isFromCEA608:!0,fontSize:qe,lineHeight:{},linePadding:{}})}return pe}}}dm.__dashjs_factory_name="EmbeddedTextHtmlRender";var aS=b.Z.getSingletonFactory(dm);function hm(p){var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X=p.errHandler,he=p.manifestModel,ee=p.mediaController,ye=p.videoModel,R=p.textTracks,z=p.vttParser,q=p.vttCustomRenderingParser,H=p.ttmlParser,L=p.streamInfo,fe=p.settings,ie=this.context,pe=(0,T.Z)(ie).getInstance(),se=!1;function V(){I=null,Y=NaN,$=[],Q=null,k=!1,x=[],F=null}function ue(rt){var ot=new iS;for(var Zt in rt)ot[Zt]=rt[Zt];ot.labels=rt.labels,ot.defaultTrack=function(Ne){var qe=!1;return W.length>1&&Ne.isEmbedded?qe=Ne.id&&Ne.id===i.Z.CC1:W.length===1?Ne.id&&typeof Ne.id=="string"&&Ne.id.substring(0,2)==="CC"&&(qe=!0):W.length===0&&(qe=Ne.index===x[0].index),qe}(rt),ot.isFragmented=rt.isFragmented,ot.isEmbedded=!!rt.isEmbedded,ot.isTTML=function(Ne){return Ne.codec&&Ne.codec.search(i.Z.STPP)>=0||Ne.mimeType&&Ne.mimeType.search(i.Z.TTML)>=0}(rt),ot.kind=function(Ne,qe){var mt=Ne.roles&&Ne.roles.length>0?qe[Ne.roles[0]]:qe.caption;return mt=mt===qe.caption||mt===qe.subtitle?mt:qe.caption}(rt,{subtitle:"subtitles",caption:"captions"}),R.addTextTrack(ot)}function Se(rt){var ot=rt.chunk;ot.mediaInfo.embeddedCaptions&&De(ot.bytes,ot)}function Ue(rt){j=rt}function De(rt,ot){var Zt=ot.mediaInfo,Ne=Zt.type,qe=Zt.mimeType,mt=Zt.codec||qe;mt?Zt.codec.indexOf("application/mp4")!==-1?function(Xe,Tt,_t){var pt;if(Tt.segmentType==="InitializationSegment")k=!0,Y=D.getMediaTimescaleFromMoov(Xe);else{if(!k)return;(pt=D.getSamplesInfo(Xe).sampleList).length>0&&(Q=pt[0].cts-Tt.start*Y),_t.search(i.Z.STPP)>=0?function(Qt,Wt,mn){var _n,Ke;for(F=F!==null?F:lt(mn),_n=0;_n<Wt.length;_n++){var vt=Wt[_n],ut=vt.cts,It=Le(),xt=It+ut/Y,Jt=xt+vt.duration/Y;d.buffered.add(xt,Jt);var Xt=new DataView(Qt,vt.offset,vt.subSizes[0]),tn=xl.Utils.dataViewToString(Xt,i.Z.UTF8),un=[],gt=vt.offset+vt.subSizes[0];for(Ke=1;Ke<vt.subSizes.length;Ke++){var Ut=new Uint8Array(Qt,gt,vt.subSizes[Ke]),Ht=String.fromCharCode.apply(null,Ut);un.push(Ht),gt+=vt.subSizes[Ke]}try{var zt=he.getValue().ttmlTimeIsRelative?ut/Y:0,$t=F.parse(tn,zt,ut/Y,(ut+vt.duration)/Y,un);R.addCaptions(j,It,$t)}catch(We){I.removeExecutedRequestsBeforeTime(),this.remove(),y.error("TTML parser error: "+We.message)}}}(Xe,pt,_t):function(Qt,Wt){var mn,_n,Ke,vt=[];for(mn=0;mn<Wt.length;mn++){var ut=Wt[mn];ut.cts-=Q;var It=Le()+ut.cts/Y,xt=It+ut.duration/Y;d.buffered.add(It,xt);var Jt=Qt.slice(ut.offset,ut.offset+ut.size),Xt=xl.parseBuffer(Jt);for(_n=0;_n<Xt.boxes.length;_n++){var tn=Xt.boxes[_n];if(y.debug("VTT box1: "+tn.type),tn.type!=="vtte"&&tn.type==="vttc"){y.debug("VTT vttc boxes.length = "+tn.boxes.length);var un={styles:{}};for(Ke=0;Ke<tn.boxes.length;Ke++){var gt=tn.boxes[Ke];if(y.debug("VTT box2: "+gt.type),gt.type==="payl")un.start=ut.cts/Y,un.end=(ut.cts+ut.duration)/Y,un.data=gt.cue_text;else if(gt.type==="sttg"&&gt.settings&&gt.settings!=="")try{var Ut=gt.settings.split(" ");un.styles=z.getCaptionStyles(Ut)}catch{}}un&&un.data&&(vt.push(un),y.debug("VTT  ".concat(un.start," - ").concat(un.end," :  ").concat(un.data)))}}}vt.length>0&&R.addCaptions(j,0,vt)}(Xe,pt)}}(rt,ot,mt):Ne===i.Z.VIDEO?function(Xe,Tt){var _t,pt;if(Tt.segmentType===Pe.w.INIT_SEGMENT_TYPE)K===0&&(K=D.getMediaTimescaleFromMoov(Xe));else if(Tt.segmentType===Pe.w.MEDIA_SEGMENT_TYPE){if(K===0)return void y.warn("CEA-608: No timescale for embeddedTextTrack yet");var Qt=(pt=D.getSamplesInfo(Xe)).lastSequenceNumber,Wt=Math.trunc(Tt.start),mn=Math.trunc(Tt.end);if(me[0]||me[1]||function(){for(var It,xt=0;xt<W.length;xt++){if((It=R.getTrackIdxForId(W[xt].id))===-1)return void y.warn("CEA-608: data before track is ready.");var Jt=Be(It);me[xt]=new(_()).Cea608Parser(xt+1,{newCue:Jt},null)}}(),K){if(function(It,xt,Jt,Xt,tn){return It!==null&&xt!==null&&Xt!==null&&tn!==null&&(xt===It?Xt!==tn:xt!==It+Jt)}(ve,Qt,pt.numSequences,ce,Wt))for(_t=0;_t<me.length;_t++)me[_t]&&me[_t].reset();for(var _n=function(It,xt){if(xt.length===0)return null;for(var Jt={splits:[],fields:[[],[]]},Xt=new DataView(It),tn=0;tn<xt.length;tn++)for(var un=xt[tn],gt=_().findCea608Nalus(Xt,un.offset,un.size),Ut=null,Ht=0,zt=0;zt<gt.length;zt++)for(var $t=_().extractCea608DataFromRange(Xt,gt[zt]),We=0;We<2;We++)if($t[We].length>0){un.cts!==Ut?Ht=0:Ht+=1;var Fe=Le();Jt.fields[We].push([un.cts+Fe*K,$t[We],Ht]),Ut=un.cts}return Jt.fields.forEach(function(ft){ft.sort(function(Ee,be){return Ee[0]===be[0]?Ee[2]-be[2]:Ee[0]-be[0]})}),Jt}(Xe,pt.sampleList),Ke=0;Ke<me.length;Ke++){var vt=_n.fields[Ke],ut=me[Ke];if(ut)for(_t=0;_t<vt.length;_t++)ut.addData(vt[_t][0]/K,vt[_t][1])}ve=Qt,ce=mn}}}(rt,ot):function(Xe,Tt,_t){var pt,Qt,Wt=new DataView(Xe,0,Xe.byteLength);Qt=xl.Utils.dataViewToString(Wt,i.Z.UTF8);try{pt=lt(_t).parse(Qt,0),R.addCaptions(R.getCurrentTrackIdx(),0,pt),d.buffered&&d.buffered.add(Tt.start,Tt.end)}catch(mn){X.error(new de.Z(ae.TIMED_TEXT_ERROR_ID_PARSE_CODE,ae.TIMED_TEXT_ERROR_MESSAGE_PARSE+mn.message,Qt))}}(rt,ot,mt):y.error("No text type defined")}function Be(rt){return function(ot,Zt,Ne){var qe;(qe=ye.getTTMLRenderingDiv()?_e.createHTMLCaptionsFromScreen(ye.getElement(),ot,Zt,Ne):[{start:ot,end:Zt,data:Ne.getDisplayText(),styles:{}}])&&R.addCaptions(rt,0,qe)}}function Le(){return isNaN(d.timestampOffset)?0:d.timestampOffset}function lt(rt){var ot;return rt.search(i.Z.VTT)>=0?ot=fe.get().streaming.text.webvtt.customRenderingEnabled&&q?q:z:(rt.search(i.Z.TTML)>=0||rt.search(i.Z.STPP)>=0)&&(ot=H),ot}function ct(rt){W.forEach(function(ot){var Zt=R.getTrackIdxForId(ot.id);Zt>=0&&R.deleteCuesFromTrackIdx(Zt,rt.from,rt.to)})}return d={initialize:function(){se||(W=[],j=null,K=0,me=[],ve=null,ce=null,se=!0,_e=aS(ie).getInstance(),pe.on(c.Z.VIDEO_CHUNK_RECEIVED,Se,d),pe.on(c.Z.BUFFER_CLEARED,ct,d))},addMediaInfos:function(rt,ot,Zt){if(x=x.concat(ot),rt===i.Z.TEXT&&ot[0].isFragmented&&!ot[0].isEmbedded){I=Zt,d.buffered=(0,oS.Z)(ie).create(),$=ee.getTracksFor(i.Z.TEXT,L.id).filter(function(Xe){return Xe.isFragmented});for(var Ne=ee.getCurrentTrackFor(i.Z.TEXT,L.id),qe=0;qe<$.length;qe++)if($[qe]===Ne){Ue(qe);break}}for(var mt=0;mt<ot.length;mt++)ue(ot[mt])},resetMediaInfos:function(){x=[]},getStreamId:function(){return L.id},append:De,abort:function(){},addEmbeddedTrack:function(rt){if(se&&rt)if(rt.id===i.Z.CC1||rt.id===i.Z.CC3){for(var ot=0;ot<W.length;ot++)if(W[ot].id===rt.id)return;W.push(rt)}else y.warn("Embedded track "+rt.id+" not supported!")},resetEmbedded:function(){pe.off(c.Z.VIDEO_CHUNK_RECEIVED,Se,d),pe.off(c.Z.BUFFER_CLEARED,ct,d),R&&R.deleteAllTextTracks(),se=!1,W=[],me=[null,null],ve=null,ce=null},getConfig:function(){return{fragmentModel:I,fragmentedTracks:$,videoModel:ye}},setCurrentFragmentedTrackIdx:Ue,remove:function(rt,ot){rt===void 0&&rt===ot&&(rt=d.buffered.start(0),ot=d.buffered.end(d.buffered.length-1)),d.buffered.remove(rt,ot),R.deleteCuesFromTrackIdx(j,rt,ot)},reset:function(){V(),x=[],D=null}},y=(0,g.Z)(ie).getInstance().getLogger(d),D=(0,Js.Z)(ie).getInstance(),V(),d}hm.__dashjs_factory_name="TextSourceBuffer";var sS=b.Z.getClassFactory(hm),ud=E(4403);function pm(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}var uS=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function gm(p){var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye=this.context,R=(0,T.Z)(ye).getInstance(),z=p.videoModel,q=p.streamInfo,H=p.settings;function L(Ke,vt,ut,It,xt,Jt){var Xt=0,tn=0;Ke/vt>ut/It?Xt=(tn=vt)/It*ut:tn=(Xt=Ke)/ut*It;var un,gt,Ut=0,Ht=0;return Xt/tn>xt?(Ht=tn,Ut=tn*xt):(Ut=Xt,Ht=Xt/xt),un=(Ke-Ut)/2,gt=(vt-Ht)/2,Jt?{x:un+.1*Ut,y:gt+.1*Ht,w:.8*Ut,h:.8*Ht}:{x:un,y:gt,w:Ut,h:Ht}}function fe(Ke,vt){var ut=z.getClientWidth(),It=z.getClientHeight(),xt=z.getVideoWidth(),Jt=z.getVideoHeight(),Xt=z.getVideoRelativeOffsetTop(),tn=z.getVideoRelativeOffsetLeft();if(xt!==0&&Jt!==0){var un=xt/Jt,gt=!1;Ke.isFromCEA608&&(un=1.1666666666666667,gt=!0);var Ut=L.call(this,ut,It,xt,Jt,un,gt),Ht=Ut.w,zt=Ut.h,$t=Ut.x,We=Ut.y;if(Ht!=$||zt!=Q||$t!=k||We!=Y||vt){if(k=$t+tn,Y=We+Xt,$=Ht,Q=zt,j){var Fe=j.style;Fe&&(Fe.left=k+"px",Fe.top=Y+"px",Fe.width=$+"px",Fe.height=Q+"px",Fe.zIndex=ve&&document[ve]||ce?_e:null,R.trigger(u.Z.CAPTION_CONTAINER_RESIZE))}var ft=Ke.activeCues;if(ft)for(var Ee=ft.length,be=0;be<Ee;++be){var et=ft[be];et.scaleCue(et)}}}}function ie(Ke){var vt,ut,It,xt,Jt,Xt=$,tn=Q;if(Ke.cellResolution){var un=[Xt/Ke.cellResolution[0],tn/Ke.cellResolution[1]];if(Ke.linePadding){for(vt in Ke.linePadding)if(Ke.linePadding.hasOwnProperty(vt)){ut=(Ke.linePadding[vt]*un[0]).toString();for(var gt=document.getElementsByClassName("spanPadding"),Ut=0;Ut<gt.length;Ut++)gt[Ut].style.cssText=gt[Ut].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ut),gt[Ut].style.cssText=gt[Ut].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ut)}}if(Ke.fontSize){for(vt in Ke.fontSize)if(Ke.fontSize.hasOwnProperty(vt)){Ke.fontSize[vt][0]==="%"?It=Ke.fontSize[vt][1]/100:Ke.fontSize[vt][0]==="c"&&(It=Ke.fontSize[vt][1]),ut=(It*un[1]).toString(),Jt=vt!=="defaultFontSize"?document.getElementsByClassName(vt):document.getElementsByClassName("paragraph");for(var Ht=0;Ht<Jt.length;Ht++)Jt[Ht].style.cssText=Jt[Ht].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ut)}if(Ke.lineHeight){for(vt in Ke.lineHeight)if(Ke.lineHeight.hasOwnProperty(vt)){Ke.lineHeight[vt][0]==="%"?xt=Ke.lineHeight[vt][1]/100:Ke.fontSize[vt][0]==="c"&&(xt=Ke.lineHeight[vt][1]),ut=(xt*un[1]).toString(),Jt=document.getElementsByClassName(vt);for(var zt=0;zt<Jt.length;zt++)Jt[zt].style.cssText=Jt[zt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ut)}}}}if(Ke.isd){var $t=document.getElementById(Ke.cueID);$t&&j.removeChild($t),se(Ke)}}function pe(Ke,vt){var ut=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,It=/^#(.*)$/;if(ut.test(vt)){var xt=ut.exec(vt),Jt=parseInt(xt[4],10)-1;return"data:image/png;base64,"+btoa(Ke.images[Jt])}if(It.test(vt)){var Xt=It.exec(vt)[1];return"data:image/png;base64,"+Ke.embeddedImages[Xt]}return vt}function se(Ke){if(j){_n.call(this);var vt=document.createElement("div");j.appendChild(vt),me=(0,ud.renderHTML)(Ke.isd,vt,function(ut){return pe(Ke,ut)},j.clientHeight,j.clientWidth,H.get().streaming.text.imsc.displayForcedOnlyMode,function(ut){y.info("renderCaption :",ut)},me,H.get().streaming.text.imsc.enableRollUp),vt.id=Ke.cueID,R.trigger(u.Z.CAPTION_RENDERED,{captionDiv:vt,currentTrackIdx:I})}}function V(Ke,vt){return!!vt&&vt.endTime>=Ke.startTime}function ue(Ke,vt){return!!H.get().streaming.text.extendSegmentedCues&&!!function(ut,It,xt){for(var Jt=0;Jt<xt.length;Jt++){var Xt=xt[Jt];if(JSON.stringify(ut[Xt])!==JSON.stringify(It[Xt]))return!1}return!0}(vt,Ke,uS)&&(vt.endTime=Math.max(vt.endTime,Ke.endTime),!0)}function Se(Ke,vt){vt&&vt.forEach(function(ut){ut.kind&&ut.kind==="image"&&(ut.src=pe(Ke,ut.src)),Se(Ke,ut.contents)})}function Ue(Ke,vt,ut){var It=qe(Ke),xt=H.get().streaming.text.dispatchForManualRendering;if(It&&Array.isArray(ut)&&ut.length!==0)for(var Jt=0;Jt<ut.length;Jt++){var Xt=null,tn=ut[Jt];It.cellResolution=tn.cellResolution,It.isFromCEA608=tn.isFromCEA608,isNaN(tn.start)||isNaN(tn.end)||(xt?Xt=De(tn,vt):rt(tn)&&j?Xt=lt(tn,vt,It):tn.data&&(Xt=ct(tn,vt,It)));try{if(Xt){if(!Tt(It,Xt))if(H.get().streaming.text.webvtt.customRenderingEnabled)It.manualCueList||(It.manualCueList=[]),It.manualCueList.push(Xt);else{var un=void 0;It.cues&&It.cues.length!==0&&(un=It.cues[It.cues.length-1]),V(Xt,un)?ue(Xt,un)||(un.isd&&(un.onexit=function(){}),It.mode!==i.Z.TEXT_DISABLED&&It.addCue(Xt)):It.mode!==i.Z.TEXT_DISABLED&&It.addCue(Xt)}var gt=H.get().streaming.buffer.bufferToKeep;pt(It,0,z.getTime()-gt)}else y.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(Ut){throw Qt(It),It.addCue(Xt),Ut}}}function De(Ke,vt){var ut=ot(Ke,vt);return ut.onenter=function(){rt(Ke)&&ee&&ee.cueID!==ut.cueID&&Le(ee),delete ut.type,ee=ut,Be(ut)},ut.onexit=function(){Le(ut),ee=null},ut}function Be(Ke){R.trigger(u.Z.CUE_ENTER,Ke)}function Le(Ke){R.trigger(u.Z.CUE_EXIT,{cueID:Ke.cueID})}function lt(Ke,vt,ut){var It=this,xt=ot(Ke,vt);return j.style.left=k+"px",j.style.top=Y+"px",j.style.width=$+"px",j.style.height=Q+"px",xt.onenter=function(){var Jt=this;ut.mode===i.Z.TEXT_SHOWING&&(this.isd?(he?requestAnimationFrame(function(){return se(Jt)}):se(this),y.debug("Cue enter id:"+this.cueID)):(j.appendChild(this.cueHTMLElement),ie.call(It,this),R.trigger(u.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:I})))},xt.onexit=function(){if(j)for(var Jt=j.childNodes,Xt=0;Xt<Jt.length;++Xt)Jt[Xt].id===this.cueID&&(y.debug("Cue exit id:"+Jt[Xt].id),j.removeChild(Jt[Xt]),--Xt)},xt}function ct(Ke,vt,ut){var It=ot(Ke,vt);if(It.isActive=!1,Ke.styles)try{Ke.styles.align!==void 0&&"align"in It&&(It.align=Ke.styles.align),Ke.styles.line!==void 0&&"line"in It&&(It.line=Ke.styles.line),Ke.styles.snapToLines!==void 0&&"snapToLines"in It&&(It.snapToLines=Ke.styles.snapToLines),Ke.styles.position!==void 0&&"position"in It&&(It.position=Ke.styles.position),Ke.styles.size!==void 0&&"size"in It&&(It.size=Ke.styles.size)}catch(xt){y.error(xt)}return It.onenter=function(){ut.mode===i.Z.TEXT_SHOWING&&R.trigger(u.Z.CAPTION_RENDERED,{currentTrackIdx:I})},It}function rt(Ke){return Ke.type==="html"}function ot(Ke,vt){return rt(Ke)?function(ut,It){var xt=new D(ut.start+It,ut.end+It,"");return xt.cueHTMLElement=ut.cueHTMLElement,xt.isd=ut.isd,xt.images=ut.images,xt.embeddedImages=ut.embeddedImages,xt.cueID=ut.cueID,xt.scaleCue=ie.bind(self),xt.cellResolution=ut.cellResolution,xt.lineHeight=ut.lineHeight,xt.linePadding=ut.linePadding,xt.fontSize=ut.fontSize,xt.isd&&Se(xt,xt.isd.contents),xt}(Ke,vt):function(ut,It){var xt=new D(ut.start-It,ut.end-It,ut.data);return xt.cueID="".concat(xt.startTime,"_").concat(xt.endTime),xt}(Ke,vt)}function Zt(Ke){if(W)for(var vt=W.childNodes,ut=0;ut<vt.length;++ut)vt[ut].id===Ke.cueID&&(W.removeChild(vt[ut]),--ut)}function Ne(){var Ke,vt=[],ut=function(xt,Jt){var Xt;if(typeof Symbol>"u"||xt[Symbol.iterator]==null){if(Array.isArray(xt)||(Xt=function(zt,$t){if(zt){if(typeof zt=="string")return pm(zt,$t);var We=Object.prototype.toString.call(zt).slice(8,-1);return We==="Object"&&zt.constructor&&(We=zt.constructor.name),We==="Map"||We==="Set"?Array.from(zt):We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We)?pm(zt,$t):void 0}}(xt))||Jt&&xt&&typeof xt.length=="number"){Xt&&(xt=Xt);var tn=0,un=function(){};return{s:un,n:function(){return tn>=xt.length?{done:!0}:{done:!1,value:xt[tn++]}},e:function(zt){throw zt},f:un}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt,Ut=!0,Ht=!1;return{s:function(){Xt=xt[Symbol.iterator]()},n:function(){var zt=Xt.next();return Ut=zt.done,zt},e:function(zt){Ht=!0,gt=zt},f:function(){try{Ut||Xt.return==null||Xt.return()}finally{if(Ht)throw gt}}}}(z.getTextTracks());try{for(ut.s();!(Ke=ut.n()).done;){var It=Ke.value;It.manualMode===i.Z.TEXT_SHOWING&&vt.push(It)}}catch(xt){ut.e(xt)}finally{ut.f()}return vt}function qe(Ke){return Ke>=0&&F[Ke]?z.getTextTrack(F[Ke].kind,F[Ke].id,F[Ke].lang,F[Ke].isTTML,F[Ke].isEmbedded):null}function mt(Ke){var vt=this;if(Ke!==I){var ut=qe(I=Ke);Xe.call(this,ut),K&&(clearInterval(K),K=null),ut&&ut.renderingType==="html"&&(fe.call(this,ut,!0),window.ResizeObserver?(X=new window.ResizeObserver(function(){fe.call(vt,ut,!0)})).observe(z.getElement()):K=setInterval(fe.bind(this,ut),500))}}function Xe(Ke){_n.call(this),Ke&&Ke.renderingType==="html"?Wt.call(this):mn.call(this)}function Tt(Ke,vt){if(!Ke.cues)return!1;for(var ut=0;ut<Ke.cues.length;ut++)if(Ke.cues[ut].startTime===vt.startTime&&Ke.cues[ut].endTime===vt.endTime)return!0;return!1}function _t(Ke,vt,ut){var It=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!Ke&&(isNaN(vt)||(It?Ke.startTime:Ke.endTime)>=vt)&&(isNaN(ut)||(It?Ke.endTime:Ke.startTime)<=ut)}function pt(Ke,vt,ut){var It,xt;if(!(ut<vt)&&Ke&&(Ke.cues||Ke.manualCueList)){var Jt=Ke.cues&&Ke.cues.length>0?"native":"custom",Xt=Jt==="native"?Ke.cues:Ke.manualCueList;if(!Xt||Xt.length===0)return;for(var tn=Xt.length-1;tn>=0;tn--)!_t(Xt[tn],vt,ut,!0)||(It=Xt[tn],xt=z.getTime(),It.startTime>=xt&&It.endTime<=xt)||(Jt==="native"?Ke.removeCue(Xt[tn]):(Zt(Xt[tn]),delete Ke.manualCueList[tn]))}}function Qt(Ke,vt,ut){var It=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Ke&&(Ke.cues||Ke.manualCueList)){var xt=Ke.cues&&Ke.cues.length>0?"native":"custom",Jt=xt==="native"?Ke.cues:Ke.manualCueList;if(!Jt||Jt.length===0)return;for(var Xt=Jt.length-1,tn=Xt;tn>=0;tn--)_t(Jt[tn],vt,ut,It)&&(xt==="native"?(Jt[tn].onexit&&Jt[tn].onexit(),Ke.removeCue(Jt[tn])):(Zt(Jt[tn]),delete Ke.manualCueList[tn]))}}function Wt(){var Ke=document.getElementById("native-cue-style");if(!Ke){(Ke=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ke);var vt=Ke.sheet,ut=z.getElement();try{ut&&(ut.id?vt.insertRule("#"+ut.id+"::cue {background: transparent}",0):ut.classList.length!==0?vt.insertRule("."+ut.className+"::cue {background: transparent}",0):vt.insertRule("video::cue {background: transparent}",0))}catch(It){y.info(""+It.message)}}}function mn(){var Ke=document.getElementById("native-cue-style");Ke&&document.head.removeChild(Ke)}function _n(){if(j)for(;j.firstChild;)j.removeChild(j.firstChild)}return d={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(D=window.VTTCue||window.TextTrackCue,F=[],x=[],I=-1,k=0,Y=0,$=0,Q=0,j=null,W=null,K=null,ce=!1,_e=2147483647,me=null,he="requestAnimationFrame"in window,document.fullscreenElement!==void 0?ve="fullscreenElement":document.webkitIsFullScreen!==void 0?ve="webkitIsFullScreen":document.msFullscreenElement?ve="msFullscreenElement":document.mozFullScreen&&(ve="mozFullScreen"))},getStreamId:function(){return q.id},addTextTrack:function(Ke){F.push(Ke)},addCaptions:Ue,createTracks:function(){var Ke=H.get().streaming.text.dispatchForManualRendering;F.sort(function($t,We){return $t.index-We.index}),j=z.getTTMLRenderingDiv(),W=z.getVttRenderingDiv();for(var vt,ut,It,xt,Jt,Xt,tn=-1,un=0;un<F.length;un++){var gt=(ut=(vt=F[un]).kind,It=vt.id!==void 0?vt.id:vt.lang,xt=vt.lang,Jt=vt.isTTML,Xt=vt.isEmbedded,z.addTextTrack(ut,It,xt,Jt,Xt));x.push(gt),F[un].defaultTrack&&(gt.default=!0,tn=un);var Ut=qe(un);Ut&&(Ut.mode=i.Z.TEXT_SHOWING,j&&(F[un].isTTML||F[un].isEmbedded)?Ut.renderingType="html":Ut.renderingType="default"),Ue(un,0,F[un].captionData),R.trigger(u.Z.TEXT_TRACK_ADDED)}if(mt.call(this,tn),tn>=0){R.on(u.Z.PLAYBACK_METADATA_LOADED,function $t(){var We=qe(tn);We&&We.renderingType==="html"&&fe.call(this,We,!0),R.off(u.Z.PLAYBACK_METADATA_LOADED,$t,this)},this);for(var Ht=0;Ht<F.length;Ht++){var zt=qe(Ht);zt&&(zt.mode=Ht!==tn||Ke?i.Z.TEXT_HIDDEN:i.Z.TEXT_SHOWING,zt.manualMode=Ht===tn?i.Z.TEXT_SHOWING:i.Z.TEXT_HIDDEN)}}R.trigger(c.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:I,tracks:F,streamId:q.id})},getCurrentTrackIdx:function(){return I},setCurrentTrackIdx:mt,getTrackIdxForId:function(Ke){for(var vt=-1,ut=0;ut<F.length;ut++)if(F[ut].id===Ke){vt=ut;break}return vt},getCurrentTrackInfo:function(){return F[I]},setModeForTrackIdx:function(Ke,vt){var ut=qe(Ke);ut&&ut.mode!==vt&&(ut.mode=vt),ut&&ut.manualMode!==vt&&(ut.manualMode=vt)},deleteCuesFromTrackIdx:function(Ke,vt,ut){var It=qe(Ke);It&&Qt(It,vt,ut)},deleteAllTextTracks:function(){for(var Ke=x?x.length:0,vt=0;vt<Ke;vt++){var ut=qe(vt);ut&&Qt.call(this,ut,q.start,q.start+q.duration,!1)}x=[],F=[],K&&(clearInterval(K),K=null),X&&z&&(X.unobserve(z.getElement()),X=null),I=-1,_n.call(this)},manualCueProcessing:function(Ke){var vt=Ne();if(vt&&vt.length>0){var ut=vt[0].manualCueList;ut&&ut.length>0&&ut.forEach(function(It){It.startTime<=Ke&&It.endTime>=Ke&&!It.isActive?(It.isActive=!0,H.get().streaming.text.dispatchForManualRendering?Be(It):WebVTT.processCues(window,[It],W,It.cueID)):It.isActive&&(It.startTime>Ke||It.endTime<Ke)&&(It.isActive=!1,H.get().streaming.text.dispatchForManualRendering?Le(It):Zt(It))})}},disableManualTracks:function(){var Ke=Ne();if(Ke&&Ke.length>0){var vt=Ke[0].manualCueList;vt&&vt.length>0&&vt.forEach(function(ut){if(ut.isActive){if(ut.isActive=!1,H.get().streaming.text.dispatchForManualRendering)Le(ut);else if(W)for(var It=W.childNodes,xt=0;xt<It.length;++xt)It[xt].id===ut.cueID&&(W.removeChild(It[xt]),--xt)}})}}},y=(0,g.Z)(ye).getInstance().getLogger(d),d}gm.__dashjs_factory_name="TextTracks";var lS=b.Z.getClassFactory(gm);function mm(){var p,d,y,D,F,x,I=this.context;function k(j){var W=j.split(":"),K=W.length-1;return j=60*parseInt(W[K-1],10)+parseFloat(W[K]),K===2&&(j+=3600*parseInt(W[0],10)),j}function Y(j){var W=j.split(D),K=W[1].split(x);return K.shift(),W[1]=K[0],K.shift(),{cuePoints:W,styles:$(K)}}function $(j){var W={};return j.forEach(function(K){if(K.split(/:/).length>1){var ve=K.split(/:/)[1],ce=!1;ve&&ve.search(/%/)!=-1&&(ce=!0,ve=parseInt(ve.replace(/%/,""),10)),(K.match(/align/)||K.match(/A/))&&(W.align=ve),(K.match(/line/)||K.match(/L/))&&(W.line=ve==="auto"?ve:parseInt(ve,10),ce&&(W.snapToLines=!1)),(K.match(/position/)||K.match(/P/))&&(W.position=ve),(K.match(/size/)||K.match(/S/))&&(W.size=ve)}}),W}function Q(j,W){for(var K,ve=W,ce="",me="";j[ve]!==""&&ve<j.length;)ve++;if((K=ve-W)>1)for(var _e=0;_e<K;_e++){if((me=j[W+_e]).match(D)){ce="";break}ce+=me,_e!==K-1&&(ce+=`
`)}else(me=j[W]).match(D)||(ce=me);return ce}return p={parse:function(j){var W,K,ve=[];if(!j)return ve;W=(j=j.split(y)).length,K=-1;for(var ce=0;ce<W;ce++){var me=j[ce];if(me.length>0&&me!=="WEBVTT"&&me.match(D)){var _e=Y(me),X=_e.cuePoints,he=_e.styles,ee=Q(j,ce+1),ye=k(X[0].replace(F,"")),R=k(X[1].replace(F,""));!isNaN(ye)&&!isNaN(R)&&ye>=K&&R>ye?ee!==""?(K=ye,ve.push({start:ye,end:R,data:ee,styles:he})):d.error("Skipping cue due to empty/malformed cue text"):d.error("Skipping cue due to incorrect cue timing")}}return ve},getCaptionStyles:$},d=(0,g.Z)(I).getInstance().getLogger(p),y=/(?:\r\n|\r|\n)/gm,D=/-->/,F=/(^[\s]+|[\s]+$)/g,x=/\s\b/g,p}mm.__dashjs_factory_name="VTTParser";var cS=b.Z.getSingletonFactory(mm);function ym(){var p,d;return p={parse:function(y){var D=[];return d.oncue=function(F){F.start=F.startTime,F.end=F.endTime,F.data=F.text,F.styles={align:F.align,line:F.line,position:F.position,size:F.size},D.push(F)},d.parse(y),D}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(d=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),p}ym.__dashjs_factory_name="VttCustomRenderingParser";var fS=b.Z.getSingletonFactory(ym);function vm(){var p,d,y=this.context,D=(0,T.Z)(y).getInstance(),F=0;return p={parse:function(x,I,k,Y,$){var Q,j,W,K="",ve=[],ce={},me={},_e="",X="",he={onOpenTag:function(q,H,L){if(L[" imagetype"]&&!L[" imageType"]&&(D.trigger(u.Z.CONFORMANCE_VIOLATION,{level:$a.LEVELS.ERROR,event:$a.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),L[" imageType"]=L[" imagetype"]),H==="image"&&(q==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||q==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!L[" imageType"]||L[" imageType"].value!=="PNG")return void d.warn("smpte-tt imageType != PNG. Discarded");_e=L["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){_e&&(me[_e]=X.trim()),X="",_e=""},onText:function(q){_e&&(X+=q)}};if(!x)throw K="no ttml data to parse",new Error(K);ce.data=x,D.trigger(c.Z.TTML_TO_PARSE,ce);var ee=(0,ud.fromXML)(ce.data,function(q){K=q},he);D.trigger(c.Z.TTML_PARSED,{ttmlString:ce.data,ttmlDoc:ee});var ye,R=ee.getMediaTimeEvents();for(W=0;W<R.length;W++){var z=(0,ud.generateISD)(ee,R[W],function(q){K=q});z.contents.some(function(q){return q.contents.length})&&(Q=R[W]+I)<(j=R[W+1]+I)&&ve.push({start:Q,end:j,type:"html",cueID:(ye="cue_TTML_"+F,F++,ye),isd:z,images:$,embeddedImages:me})}if(K!=="")throw d.error(K),new Error(K);return ve}},d=(0,g.Z)(y).getInstance().getLogger(p),p}vm.__dashjs_factory_name="TTMLParser";var dS=b.Z.getSingletonFactory(vm);function Em(p,d){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);d&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(p,F).enumerable})),y.push.apply(y,D)}return y}function _m(p){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Em(Object(y),!0).forEach(function(D){hS(p,D,y[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):Em(Object(y)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(y,D))})}return p}function hS(p,d,y){return d in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y,p}function Tm(p,d){(d==null||d>p.length)&&(d=p.length);for(var y=0,D=new Array(d);y<d;y++)D[y]=p[y];return D}function Sm(p){var d,y,D,F=this.context,x=(0,T.Z)(F).getInstance(),I=(0,nt.Z)(F).getInstance(),k=p.adapter,Y=p.baseURLController;function $(W,K){var ve,ce,me=!1;if(Y.resolve()){var _e=k.getVoRepresentations(W);_e&&_e.length>0&&(ve=Y.resolve(_e[0].path).url)}var X=W.essentialPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===i.Z.FONT_DOWNLOAD_DVB_SCHEME}),he=W.supplementalPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===i.Z.FONT_DOWNLOAD_DVB_SCHEME});X.length>0?(me=!0,ce=X):ce=he,ce.forEach(function(ee){if(function(q){return!(!(q.value&&q.value==="1"&&q.dvbUrl&&q.dvbUrl.length>0&&q.dvbFontFamily&&q.dvbFontFamily.length>0&&q.dvbMimeType)||q.dvbMimeType!==i.Z.OFF_MIMETYPE&&q.dvbMimeType!==i.Z.WOFF_MIMETYPE)}(ee)){var ye=(R=ee.dvbUrl,z=ve,I.isPathAbsolute(R)?R:I.isRelative(R)?z?I.resolve(R,z):I.resolve(R):R);D.push({fontFamily:ee.dvbFontFamily,url:ye,mimeType:ee.dvbMimeType,trackId:W.id,streamId:K,isEssential:me,status:"unloaded",fontFace:new FontFace(ee.dvbFontFamily,"url(".concat(ye,")"),{display:"swap"})})}var R,z})}function Q(W,K){var ve=D[W];D[W]=_m(_m({},ve),{},{status:K})}function j(){D=[]}return d={addFontsFromTracks:function(W,K){if(W&&Array.isArray(W)&&K)for(var ve=0;ve<W.length;ve++)$(W[ve],K)},downloadFonts:function(){for(var W=function(ve){var ce=D[ve];document.fonts.add(ce.fontFace),x.trigger(u.Z.DVB_FONT_DOWNLOAD_ADDED,ce),ce.fontFace.load().then(function(){Q(ve,"loaded"),x.trigger(u.Z.DVB_FONT_DOWNLOAD_COMPLETE,ce)},function(me){Q(ve,"error"),y.debug("Font download error: ",me),x.trigger(u.Z.DVB_FONT_DOWNLOAD_FAILED,ce)})},K=0;K<D.length;K++)W(K)},getFonts:function(){return D},getFontsForTrackId:function(W){return D.filter(function(K){return K.trackId&&K.trackId===W})},reset:function(){(function(){var W,K=function(me,_e){var X;if(typeof Symbol>"u"||me[Symbol.iterator]==null){if(Array.isArray(me)||(X=function(q,H){if(q){if(typeof q=="string")return Tm(q,H);var L=Object.prototype.toString.call(q).slice(8,-1);return L==="Object"&&q.constructor&&(L=q.constructor.name),L==="Map"||L==="Set"?Array.from(q):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?Tm(q,H):void 0}}(me))||_e&&me&&typeof me.length=="number"){X&&(me=X);var he=0,ee=function(){};return{s:ee,n:function(){return he>=me.length?{done:!0}:{done:!1,value:me[he++]}},e:function(q){throw q},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,R=!0,z=!1;return{s:function(){X=me[Symbol.iterator]()},n:function(){var q=X.next();return R=q.done,q},e:function(q){z=!0,ye=q},f:function(){try{R||X.return==null||X.return()}finally{if(z)throw ye}}}}(D);try{for(K.s();!(W=K.n()).done;){var ve=W.value,ce=document.fonts.delete(ve.fontFace);y.debug("Removal of fontFamily: ".concat(ve.fontFamily," was ").concat(ce?"successful":"unsuccessful"))}}catch(me){K.e(me)}finally{K.f()}})(),j()}},y=(0,g.Z)(F).getInstance().getLogger(d),j(),d}Sm.__dashjs_factory_name="DVBFonts";var pS=b.Z.getClassFactory(Sm);function Am(p){var d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce=this.context,me=p.adapter,_e=p.errHandler,X=p.manifestModel,he=p.mediaController,ee=p.baseURLController,ye=p.videoModel,R=p.settings;function z(ue){if(ve.error("Could not download ".concat(ue.isEssential?"an essential":"a"," font - fontFamily: ").concat(ue.fontFamily,", url: ").concat(ue.url)),ue.isEssential){var Se=F[ue.streamId].getTrackIdxForId(ue.trackId);F[ue.streamId].setModeForTrackIdx(Se,i.Z.TEXT_DISABLED)}}function q(ue){if(ve.debug("Successfully downloaded ".concat(ue.isEssential?"an essential":"a"," font - fontFamily: ").concat(ue.fontFamily,", url: ").concat(ue.url)),ue.isEssential){var Se=F[ue.streamId].getTrackIdxForId(ue.trackId);Se===F[ue.streamId].getCurrentTrackIdx()?F[ue.streamId].setModeForTrackIdx(Se,i.Z.TEXT_SHOWING):F[ue.streamId].setModeForTrackIdx(Se,i.Z.TEXT_HIDDEN)}}function H(ue){var Se=ue.tracks,Ue=ue.index,De=ue.streamId;if(R.get().streaming.text.defaultEnabled===!1&&!ie()||W)pe(De,-1);else{var Be=he.getCurrentTrackFor(i.Z.TEXT,De);if(Be){var Le={lang:Be.lang,role:Be.roles[0],index:Be.index,codec:Be.codec,accessibility:Be.accessibility[0]};Se.some(function(lt,ct){if(he.matchSettings(Le,lt))return pe(De,ct),Ue=ct,!0})}$=!1}y[De].lastEnabledIndex=Ue,Y.trigger(u.Z.TEXT_TRACKS_ADDED,{enabled:ie(),index:Ue,tracks:Se,streamId:De}),j=!0,K.addFontsFromTracks(Se,De),K.getFonts().forEach(function(lt){if(lt.isEssential){var ct=F[lt.streamId].getTrackIdxForId(lt.trackId);F[lt.streamId].setModeForTrackIdx(ct,i.Z.TEXT_DISABLED)}}),K.downloadFonts()}function L(ue){try{var Se=ue.streamId;if(!F[Se]||isNaN(ue.time))return;F[Se].manualCueProcessing(ue.time)}catch{}}function fe(ue){try{var Se=ue.streamId;if(!F[Se])return;F[Se].disableManualTracks()}catch{}}function ie(){var ue=!0;return $&&!Q&&(ue=!1),ue}function pe(ue,Se){($=Se===-1)&&he&&he.saveTextSettingsDisabled();var Ue=se(ue);if(Ue!==Se&&F[ue]){F[ue].disableManualTracks();var De=F[ue].getCurrentTrackInfo(),Be=De?ye.getTextTrack(De.kind,De.id,De.lang,De.isTTML,De.isEmbedded):null;Be&&Be.mode!==i.Z.TEXT_DISABLED&&F[ue].setModeForTrackIdx(Ue,i.Z.TEXT_HIDDEN),F[ue].setCurrentTrackIdx(Se),De=F[ue].getCurrentTrackInfo();var Le=R.get().streaming.text.dispatchForManualRendering;De&&!Le&&De.mode!==i.Z.TEXT_DISABLED&&F[ue].setModeForTrackIdx(Se,i.Z.TEXT_SHOWING),De&&De.isFragmented&&!De.isEmbedded?function(lt,ct,rt){if(D[lt])for(var ot=D[lt].getConfig().fragmentedTracks,Zt=0;Zt<ot.length;Zt++){var Ne=ot[Zt];if(ct.lang===Ne.lang&&(Ne.id?ct.id===Ne.id:ct.index===Ne.index)){var qe=he.getCurrentTrackFor(i.Z.TEXT,lt);(Ne.id?qe.id!==Ne.id:qe.index!==Ne.index)?(F[lt].deleteCuesFromTrackIdx(rt),D[lt].setCurrentFragmentedTrackIdx(Zt)):rt===-1&&Y.trigger(c.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:lt,mediaType:i.Z.TEXT})}}}(ue,De,Ue):De&&!De.isFragmented&&function(lt,ct){Y.trigger(c.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ct},{streamId:lt,mediaType:i.Z.TEXT})}(ue,De),he.setTrack(De)}}function se(ue){return F[ue].getCurrentTrackIdx()}function V(){D={},F={},y={},$=!0,j=!1,W=!1}return d={deactivateStream:function(ue){if(ue){var Se=ue.id;D[Se]&&D[Se].resetMediaInfos(),F[Se]&&F[Se].deleteAllTextTracks()}},initialize:function(){K=pS(ce).create({adapter:me,baseURLController:ee}),Y.on(c.Z.TEXT_TRACKS_QUEUE_INITIALIZED,H,d),Y.on(c.Z.DVB_FONT_DOWNLOAD_FAILED,z,d),Y.on(c.Z.DVB_FONT_DOWNLOAD_COMPLETE,q,d),R.get().streaming.text.webvtt.customRenderingEnabled&&(Y.on(c.Z.PLAYBACK_TIME_UPDATED,L,d),Y.on(c.Z.PLAYBACK_SEEKING,fe,d))},initializeForStream:function(ue){var Se=ue.id,Ue=lS(ce).create({videoModel:ye,settings:R,streamInfo:ue});Ue.initialize(),F[Se]=Ue;var De=sS(ce).create({errHandler:_e,adapter:me,dvbFonts:K,manifestModel:X,mediaController:he,videoModel:ye,textTracks:Ue,vttParser:x,vttCustomRenderingParser:I,ttmlParser:k,streamInfo:ue,settings:R});De.initialize(),D[Se]=De,y[Se]={},y[Se].lastEnabledIndex=-1},createTracks:function(ue){var Se=ue.id;F[Se]&&F[Se].createTracks()},getTextSourceBuffer:function(ue){var Se=ue.id;if(D&&D[Se])return D[Se]},getAllTracksAreDisabled:function(){return $},addEmbeddedTrack:function(ue,Se){var Ue=ue.id;D[Ue]&&D[Ue].addEmbeddedTrack(Se)},enableText:function(ue,Se){return(0,oe.PS)(Se,"boolean"),ie()!==Se&&(Se&&pe(ue,y[ue].lastEnabledIndex),Se||(y[ue].lastEnabledIndex=se(ue),j?pe(ue,-1):W=!0)),!0},isTextEnabled:ie,setTextTrack:pe,getCurrentTrackIdx:se,enableForcedTextStreaming:function(ue){return(0,oe.PS)(ue,"boolean"),Q=ue,!0},addMediaInfosToBuffer:function(ue,Se,Ue){var De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Be=ue.id;D[Be]&&D[Be].addMediaInfos(Se,Ue,De)},reset:function(){K.reset(),V(),Y.off(c.Z.TEXT_TRACKS_QUEUE_INITIALIZED,H,d),Y.off(c.Z.DVB_FONT_DOWNLOAD_FAILED,z,d),Y.off(c.Z.DVB_FONT_DOWNLOAD_COMPLETE,q,d),R.get().streaming.text.webvtt.customRenderingEnabled&&(Y.off(c.Z.PLAYBACK_TIME_UPDATED,L,d),Y.off(c.Z.PLAYBACK_SEEKING,fe,d)),Object.keys(D).forEach(function(ue){D[ue].resetEmbedded(),D[ue].reset()})}},Q=!1,j=!1,W=!1,x=cS(ce).getInstance(),I=fS(ce).getInstance(),k=dS(ce).getInstance(),Y=(0,T.Z)(ce).getInstance(),ve=(0,g.Z)(ce).getInstance().getLogger(d),V(),d}Am.__dashjs_factory_name="TextController";var gS=b.Z.getClassFactory(Am);function ld(){var p,d,y,D,F,x,I,k,Y,$,Q,j,W,K,ve,ce,me,_e,X,he,ee,ye,R,z,q,H,L,fe,ie,pe,se,V,ue,Se,Ue,De,Be,Le,lt,ct="You must first call initialize() and set a source before calling this method",rt="You must first call initialize() and set a valid source and view before calling this method",ot="You must first call attachView() to set the video element before calling this method",Zt="You must first call attachSource() with a valid source before calling this method",Ne="MediaPlayer not initialized!",qe=this.context,mt=(0,T.Z)(qe).getInstance(),Xe=(0,we.Z)(qe).getInstance(),Tt=(0,g.Z)(qe).getInstance({settings:Xe});function _t(){un(null),Xt(null),D=null,K&&(K.reset(),K=null),ve&&(ve.reset(),ve=null),he&&he.reset(),Xe.reset(),me&&(me.reset(),me=null)}function pt(){return!!y&&!!De.getElement()}function Qt(){return(0,DT.e)()}function Wt(){if(!I)throw rt;return fe.isPaused()}function mn(){if(!I)throw rt;return fe.getIsDynamic()}function _n(Ee){var be=q&&q.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,et=V.getCurrentDVRInfo(be);if(!et)return 0;var Ct=fe.getOriginalLiveDelay(),Ft=et.range.start+Ee;return Ft>et.range.end-Ct&&(Ft=et.range.end-Ct),Ft}function Ke(Ee){if(!I)throw rt;var be=Jt().currentTime;if(Ee!==void 0)be=q.getTimeRelativeToStreamId(be,Ee);else if(fe.getIsDynamic()){var et=q&&q.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,Ct=V.getCurrentDVRInfo(et);be=Ct===null||be===0?0:Math.max(0,be-Ct.range.start)}return be}function vt(){if(!I)throw rt;var Ee=Jt().duration;if(fe.getIsDynamic()){var be=q&&q.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,et=V.getCurrentDVRInfo(be);Ee=et?et.range.end-et.range.start:0}return Ee}function ut(Ee){(0,oe.PS)(Ee,"boolean"),k=Ee}function It(){he.restoreDefaultUTCTimingSources()}function xt(){return V}function Jt(){if(!De.getElement())throw ot;return De.getElement()}function Xt(Ee){if(!F)throw Ne;De.setElement(Ee),Ee&&($t(),function(){if(!ve){var be=dashjs.MetricsReporting;if(typeof be=="function"){var et=be(qe).create();ve=et.createMetricsReporting({debug:Tt,eventBus:mt,mediaElement:Jt(),adapter:_e,dashMetrics:V,mediaPlayerModel:X,events:c.Z,constants:i.Z,metricsConstants:w.Z})}}}(),function(){if(!ce){var be=dashjs.MssHandler;typeof be=="function"&&(ae.extend(be.errors),ce=be(qe).create({eventBus:mt,mediaPlayerModel:X,dashMetrics:V,manifestModel:ue,playbackController:fe,streamController:q,protectionController:K,baseURLController:ye,errHandler:ee,events:c.Z,constants:i.Z,debug:Tt,initSegmentType:Pe.w.INIT_SEGMENT_TYPE,BASE64:od,ISOBoxer:xl,settings:Xe}))}}(),q&&q.switchToVideoElement(Y)),I&&Ut(),ft(Y)}function tn(Ee){if(!x)throw ct;var be=q.getActiveStreamInfo();return be?W.getTracksFor(Ee,be.id):[]}function un(Ee){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!F)throw Ne;typeof Ee=="string"&&Be.initialize(Ee),be==null&&(be=NaN),isNaN(be)||(be=Math.max(0,be)),Y=be,y=Ee,(x||I)&&Ut(),pt()&&ft(Y)}function gt(){if(!x)throw ct;var Ee=q.getActiveStreamInfo();return Ee?q.getStreamById(Ee.id):null}function Ut(){I=!1,x=!1,_e.reset(),q.reset(),L.reset(),se.reset(),fe.reset(),ie.reset(),pe.reset(),$.reset(),W.reset(),lt.reset(),K&&(Xe.get().streaming.protection.keepProtectionMediaKeys?K.stop():(K.reset(),K=null,$t())),H.reset(),Se.reset(),Ue.reset()}function Ht(){var Ee=zt();q||(q=dg(qe).getInstance()),H||(H=gS(qe).create({errHandler:ee,manifestModel:ue,adapter:_e,mediaController:W,baseURLController:ye,videoModel:De,settings:Xe})),z.setConfig({capabilities:R,customParametersModel:he,adapter:_e,settings:Xe,manifestModel:ue,errHandler:ee}),q.setConfig({capabilities:R,capabilitiesFilter:z,manifestLoader:Ee,manifestModel:ue,mediaPlayerModel:X,customParametersModel:he,protectionController:K,textController:H,adapter:_e,dashMetrics:V,errHandler:ee,timelineConverter:j,videoModel:De,playbackController:fe,serviceDescriptionController:ie,contentSteeringController:pe,abrController:$,mediaController:W,settings:Xe,baseURLController:ye,uriFragmentModel:Be,segmentBaseController:lt}),L.setConfig({settings:Xe,playbackController:fe,streamController:q,videoModel:De,timelineConverter:j,adapter:_e}),fe.setConfig({streamController:q,serviceDescriptionController:ie,dashMetrics:V,adapter:_e,videoModel:De,timelineConverter:j,settings:Xe}),se.setConfig({streamController:q,playbackController:fe,mediaPlayerModel:X,videoModel:De,settings:Xe}),$.setConfig({streamController:q,domStorage:Le,mediaPlayerModel:X,customParametersModel:he,cmsdModel:Ue,dashMetrics:V,adapter:_e,videoModel:De,settings:Xe}),Se.setConfig({abrController:$,dashMetrics:V,playbackController:fe}),Ue.setConfig({}),$.initialize(),q.initialize(k,D),H.initialize(),L.initialize(),se.initialize(),Se.initialize(),Ue.initialize(),pe.initialize(),lt.initialize()}function zt(){return pT(qe).create({debug:Tt,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,requestModifier:(0,Oe.Z)(qe).getInstance(),mssHandler:ce,settings:Xe})}function $t(){if(K)return K;var Ee=dashjs.Protection;if(typeof Ee=="function"){var be=Ee(qe).create();return c.Z.extend(Ee.events),u.Z.extend(Ee.events,{publicOnly:!0}),ae.extend(Ee.errors),R||(R=(0,kg.Z)(qe).getInstance()),K=be.createProtectionSystem({debug:Tt,errHandler:ee,videoModel:De,customParametersModel:he,capabilities:R,eventBus:mt,events:c.Z,BASE64:od,constants:i.Z,cmcdModel:Se,settings:Xe})}return null}function We(){if(!F)throw Ne;if(me)return me;var Ee=dashjs.OfflineController;if(typeof Ee=="function"){c.Z.extend(Ee.events),u.Z.extend(Ee.events,{publicOnly:!0}),ae.extend(Ee.errors);var be=zt(),et=ug(qe).create();return et.setConfig({manifestModel:ue,adapter:_e,manifestLoader:be,errHandler:ee,contentSteeringController:pe}),me=Ee(qe).create({debug:Tt,manifestUpdater:et,baseURLController:ye,manifestLoader:be,manifestModel:ue,mediaPlayerModel:X,abrController:$,playbackController:fe,adapter:_e,errHandler:ee,dashMetrics:V,timelineConverter:j,segmentBaseController:lt,schemeLoaderFactory:Q,eventBus:mt,events:c.Z,errors:ae,constants:i.Z,settings:Xe,dashConstants:o.Z,urlUtils:(0,nt.Z)(qe).getInstance()})}return null}function Fe(Ee){var be=q&&q.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,et=V.getCurrentDVRInfo(be);return et?Ee+(et.manifestInfo.availableFrom.getTime()/1e3+et.range.start):0}function ft(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;me&&me.resetRecords(),!x&&y&&(x=!0,d.info("Streaming Initialized"),Ht(),typeof y=="string"?q.load(y,Ee):q.loadWithManifest(y,Ee)),!I&&pt()&&(I=!0,d.info("Playback Initialized"))}return p={initialize:function(Ee,be,et){var Ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;R||(R=(0,kg.Z)(qe).getInstance()).setConfig({settings:Xe}),ee||(ee=gT(qe).getInstance()),R.supportsMediaSource()?(F||(F=!0,j=nS(qe).getInstance(),$||($=bT(qe).getInstance()).setConfig({settings:Xe}),Q||(Q=lr(qe).getInstance()),fe||(fe=h(qe).getInstance()),W||(W=k0(qe).getInstance()),q||(q=dg(qe).getInstance()),L||(L=P0(qe).getInstance()),se||(se=M0(qe).getInstance()),ie||(ie=x0(qe).getInstance()),pe||(pe=Ti(qe).getInstance()),z||(z=mT(qe).getInstance()),_e=ZT(qe).getInstance(),ue=ET(qe).getInstance(),Se=En(qe).getInstance(),Ue=kt(qe).getInstance(),V=tS(qe).getInstance({settings:Xe}),Le=CT(qe).getInstance({settings:Xe}),_e.setConfig({constants:i.Z,cea608parser:_(),errHandler:ee,BASE64:od}),ye||(ye=q0(qe).create()),ye.setConfig({adapter:_e,contentSteeringController:pe}),ie.setConfig({adapter:_e}),lt||(lt=MT(qe).getInstance({dashMetrics:V,mediaPlayerModel:X,errHandler:ee,baseURLController:ye,events:c.Z,eventBus:mt,debug:Tt,boxParser:(0,Js.Z)(qe).getInstance(),requestModifier:(0,Oe.Z)(qe).getInstance(),errors:ae})),W.setConfig({domStorage:Le,settings:Xe,customParametersModel:he}),X.setConfig({playbackController:fe,serviceDescriptionController:ie}),pe.setConfig({adapter:_e,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,manifestModel:ue,serviceDescriptionController:ie,eventBus:mt,requestModifier:(0,Oe.Z)(qe).getInstance()}),It(),ut(et===void 0||et),We()),Ee&&Xt(Ee),be&&un(be,Ct),d.info("[dash.js "+Qt()+"] MediaPlayer has been initialized")):ee.error(new de.Z(ae.CAPABILITY_MEDIASOURCE_ERROR_CODE,ae.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(R=Ee.capabilities),Ee.capabilitiesFilter&&(z=Ee.capabilitiesFilter),Ee.streamController&&(q=Ee.streamController),Ee.textController&&(H=Ee.textController),Ee.gapController&&(L=Ee.gapController),Ee.playbackController&&(fe=Ee.playbackController),Ee.serviceDescriptionController&&(ie=Ee.serviceDescriptionController),Ee.contentSteeringController&&(pe=Ee.contentSteeringController),Ee.catchupController&&(se=Ee.catchupController),Ee.mediaPlayerModel&&(X=Ee.mediaPlayerModel),Ee.customParametersModel&&(he=Ee.customParametersModel),Ee.abrController&&($=Ee.abrController),Ee.schemeLoaderFactory&&(Q=Ee.schemeLoaderFactory),Ee.mediaController&&(W=Ee.mediaController),Ee.settings&&(Xe=Ee.settings))},on:function(Ee,be,et,Ct){mt.on(Ee,be,et,Ct)},off:function(Ee,be,et){mt.off(Ee,be,et)},extend:function(Ee,be,et){b.Z.extend(Ee,be,et,qe)},attachView:Xt,attachSource:un,refreshManifest:function(Ee){if(!F)throw Ne;if(!pt())return Ee(null,Zt);var be=this;typeof Ee=="function"&&mt.on(c.Z.INTERNAL_MANIFEST_LOADED,function et(Ct){mt.off(c.Z.INTERNAL_MANIFEST_LOADED,et,be),Ct.error?Ee(null,Ct.error):Ee(Ct.manifest)},be),q.refreshManifest()},isReady:pt,preload:function(){if(!De.getElement()&&!x){if(!y)throw Zt;ft(Y)}},play:function(){if(!I)throw rt;(!k||Wt()&&I)&&fe.play(!0)},isPaused:Wt,pause:function(){if(!I)throw rt;fe.pause()},isSeeking:function(){if(!I)throw rt;return fe.isSeeking()},isDynamic:mn,getLowLatencyModeEnabled:function(){if(!I)throw rt;return fe.getLowLatencyModeEnabled()},seek:function(Ee){if(!I)throw rt;if((0,oe.PS)(Ee,"number"),isNaN(Ee))throw i.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var be=fe.getIsDynamic()?_n(Ee):Ee,et=Jt();!fe.getIsDynamic()&&et.duration&&(be=Math.min(et.duration,be)),fe.seek(be,!1,!1,!0)},seekToOriginalLive:function(){I&&mn()&&fe.seekToOriginalLive()},setPlaybackRate:function(Ee){Jt().playbackRate=Ee},getPlaybackRate:function(){return Jt().playbackRate},setMute:function(Ee){(0,oe.PS)(Ee,"boolean"),Jt().muted=Ee},isMuted:function(){return Jt().muted},setVolume:function(Ee){if(typeof Ee!="number"||isNaN(Ee)||Ee<0||Ee>1)throw i.Z.BAD_ARGUMENT_ERROR;Jt().volume=Ee},getVolume:function(){return Jt().volume},time:Ke,duration:vt,timeAsUTC:function(){if(!I)throw rt;return Ke()<0?NaN:Fe(Ke())},durationAsUTC:function(){if(!I)throw rt;return Fe(vt())},getActiveStream:gt,getDVRWindowSize:function(){var Ee=q&&q.hasVideoTrack()?i.Z.VIDEO:i.Z.AUDIO,be=V.getCurrentDVRInfo(Ee);return be?be.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:_n,getAvailableBaseUrls:function(){var Ee=ue.getValue();return Ee?ye.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=ue.getValue();if(!Ee)return[];var be=_e.getLocation(Ee),et=pe.getSynthesizedLocationElements(be);return be.concat(et)},getTargetLiveDelay:function(){if(!I)throw rt;return fe.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var be=Math.floor(Ee/3600),et=Math.floor(Ee%3600/60),Ct=Math.floor(Ee%3600%60);return(be===0?"":be<10?"0"+be.toString()+":":be.toString()+":")+(et<10?"0"+et.toString():et.toString())+":"+(Ct<10?"0"+Ct.toString():Ct.toString())},formatUTC:function(Ee,be,et){var Ct=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ft=new Date(1e3*Ee),Tn=Ft.toLocaleDateString(be),Gn=Ft.toLocaleTimeString(be,{hour12:et});return Ct?Gn+" "+Tn:Gn},getVersion:Qt,getDebug:function(){return Tt},getBufferLength:function(Ee){var be=[i.Z.VIDEO,i.Z.AUDIO,i.Z.TEXT];if(Ee)return be.indexOf(Ee)!==-1?xt().getCurrentBufferLevel(Ee)||NaN:(d.warn("getBufferLength requested for invalid type"),NaN);var et=be.map(function(Ct){return tn(Ct).length>0?xt().getCurrentBufferLevel(Ct):Number.MAX_VALUE}).reduce(function(Ct,Ft){return Math.min(Ct,Ft)});return et===Number.MAX_VALUE?NaN:et},getTTMLRenderingDiv:function(){return De?De.getTTMLRenderingDiv():null},getVideoElement:Jt,getSource:function(){if(!y)throw Zt;return y},updateSource:function(Ee){y=Ee,q.load(y)},getCurrentLiveLatency:function(){if(!F)throw Ne;return I?fe.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!x)throw ct;return $.getTopBitrateInfoFor(Ee)},setAutoPlay:ut,getAutoPlay:function(){return k},getDashMetrics:xt,getQualityFor:function(Ee){if(!x)throw ct;if(Ee===i.Z.IMAGE){var be=gt();if(!be)return-1;var et=be.getThumbnailController();return et?et.getCurrentTrackIndex():-1}return $.getQualityFor(Ee)},setQualityFor:function(Ee,be){var et=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!x)throw ct;if(Ee===i.Z.IMAGE){var Ct=gt();if(!Ct)return;var Ft=Ct.getThumbnailController();Ft&&Ft.setTrackByIndex(be)}$.setPlaybackQuality(Ee,q.getActiveStreamInfo(),be,{forceReplace:et})},updatePortalSize:function(){$.setElementSize(),$.setWindowResizeEventCalled(!0)},enableText:function(Ee){var be=q.getActiveStreamInfo();return!(!be||!H)&&H.enableText(be.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!q.getActiveStreamInfo()||!H)&&H.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=q.getActiveStreamInfo();return!(!Ee||!H)&&H.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!I)throw rt;var be=q.getActiveStreamInfo();be&&H&&H.setTextTrack(be.id,Ee)},getBitrateInfoListFor:function(Ee){if(!x)throw ct;var be=gt();return be?be.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!x)throw ct;return _e.getStreamsInfo(Ee)},getTracksFor:tn,getTracksForTypeFromManifest:function(Ee,be,et){if(!x)throw ct;return(et=et||_e.getStreamsInfo(be,1)[0])?_e.getAllMediaInfoForType(et,Ee,be):[]},getCurrentTrackFor:function(Ee){if(!x)throw ct;var be=q.getActiveStreamInfo();return W.getCurrentTrackFor(Ee,be.id)},setInitialMediaSettingsFor:function(Ee,be){if(!F)throw Ne;W.setInitialSettings(Ee,be)},getInitialMediaSettingsFor:function(Ee){if(!F)throw Ne;return W.getInitialSettings(Ee)},setCurrentTrack:function(Ee){var be=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!x)throw ct;W.setTrack(Ee,be)},addABRCustomRule:function(Ee,be,et){he.addAbrCustomRule(Ee,be,et)},removeABRCustomRule:function(Ee){he.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){he.removeAllAbrCustomRule()},getABRCustomRules:function(){return he.getAbrCustomRules()},getAverageThroughput:function(Ee){var be=$.getThroughputHistory(),et=fe.getIsDynamic();return be?be.getAverageThroughput(Ee,et):0},retrieveManifest:function(Ee,be){var et=zt(),Ct=this;mt.on(c.Z.INTERNAL_MANIFEST_LOADED,function Ft(Tn){Tn.error?be(null,Tn.error):be(Tn.manifest),mt.off(c.Z.INTERNAL_MANIFEST_LOADED,Ft,Ct),et.reset()},Ct),Be.initialize(Ee),et.load(Ee)},addUTCTimingSource:function(Ee,be){he.addUTCTimingSource(Ee,be)},removeUTCTimingSource:function(Ee,be){he.removeUTCTimingSource(Ee,be)},clearDefaultUTCTimingSources:function(){he.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:It,setXHRWithCredentialsForType:function(Ee,be){he.setXHRWithCredentialsForType(Ee,be)},getXHRWithCredentialsForType:function(Ee){return he.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return $t()},attachProtectionController:function(Ee){K=Ee},setProtectionData:function(Ee){D=Ee,q&&q.setProtectionData(D)},registerLicenseRequestFilter:function(Ee){he.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){he.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){he.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){he.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){he.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){he.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){he.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){he.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!De.getElement())throw ot;De.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!De.getElement())throw ot;De.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=q.getActiveStreamInfo();if(Ee&&H)return H.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,be){if(typeof be=="function")if(Ee<0)be(null);else{var et=fe.getIsDynamic()?_n(Ee):Ee,Ct=q.getStreamForTime(et);if(Ct!==null){var Ft=Ct.getThumbnailController();if(Ft)return Ft.provide(et,be);be(null)}else be(null)}},getDashAdapter:function(){return _e},getOfflineController:function(){return We()},triggerSteeringRequest:function(){if(pe)return pe.loadSteeringData()},getCurrentSteeringResponseData:function(){if(pe)return pe.getCurrentSteeringResponseData()},getSettings:function(){return Xe.get()},updateSettings:function(Ee){Xe.update(Ee)},resetSettings:function(){Xe.reset()},reset:_t,destroy:function(){_t(),b.Z.deleteSingletonInstances(qe)}},d=Tt.getLogger(p),F=!1,I=!1,x=!1,k=!0,Y=NaN,K=null,me=null,D=null,_e=null,lt=null,c.Z.extend(u.Z),X=_T(qe).getInstance(),he=(0,tr.Z)(qe).getInstance(),De=IT(qe).getInstance(),Be=vT(qe).getInstance(),p}ld.__dashjs_factory_name="MediaPlayer";var kl=b.Z.getClassFactory(ld);kl.events=u.Z,kl.errors=ae,b.Z.updateClassFactory(ld.__dashjs_factory_name,kl);var mS=kl},8825:function(A,N,E){function P(T){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},P(T)}function _(T,c){return _=Object.setPrototypeOf||function(b,g){return b.__proto__=g,b},_(T,c)}function i(T,c){return!c||P(c)!=="object"&&typeof c!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(T):c}function o(T){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},o(T)}var w=new(function(T){(function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),h&&_(f,h)})(u,T);var c,b,g=(c=u,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,h=o(c);if(b){var C=o(this).constructor;f=Reflect.construct(h,arguments,C)}else f=h.apply(this,arguments);return i(this,f)});function u(){var f;return function(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}(this,u),(f=g.call(this)).AST_IN_FUTURE="astInFuture",f.BASE_URLS_UPDATED="baseUrlsUpdated",f.BUFFER_EMPTY="bufferStalled",f.BUFFER_LOADED="bufferLoaded",f.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",f.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",f.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",f.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",f.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",f.DYNAMIC_TO_STATIC="dynamicToStatic",f.ERROR="error",f.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",f.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",f.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",f.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",f.LOG="log",f.MANIFEST_LOADING_STARTED="manifestLoadingStarted",f.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",f.MANIFEST_LOADED="manifestLoaded",f.METRICS_CHANGED="metricsChanged",f.METRIC_CHANGED="metricChanged",f.METRIC_ADDED="metricAdded",f.METRIC_UPDATED="metricUpdated",f.PERIOD_SWITCH_STARTED="periodSwitchStarted",f.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",f.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",f.QUALITY_CHANGE_RENDERED="qualityChangeRendered",f.TRACK_CHANGE_RENDERED="trackChangeRendered",f.STREAM_INITIALIZING="streamInitializing",f.STREAM_UPDATED="streamUpdated",f.STREAM_ACTIVATED="streamActivated",f.STREAM_DEACTIVATED="streamDeactivated",f.STREAM_INITIALIZED="streamInitialized",f.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",f.TEXT_TRACKS_ADDED="allTextTracksAdded",f.TEXT_TRACK_ADDED="textTrackAdded",f.CUE_ENTER="cueEnter",f.CUE_EXIT="cueExit",f.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",f.TTML_PARSED="ttmlParsed",f.TTML_TO_PARSE="ttmlToParse",f.CAPTION_RENDERED="captionRendered",f.CAPTION_CONTAINER_RESIZE="captionContainerResize",f.CAN_PLAY="canPlay",f.CAN_PLAY_THROUGH="canPlayThrough",f.PLAYBACK_ENDED="playbackEnded",f.PLAYBACK_ERROR="playbackError",f.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",f.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",f.PLAYBACK_LOADED_DATA="playbackLoadedData",f.PLAYBACK_PAUSED="playbackPaused",f.PLAYBACK_PLAYING="playbackPlaying",f.PLAYBACK_PROGRESS="playbackProgress",f.PLAYBACK_RATE_CHANGED="playbackRateChanged",f.PLAYBACK_SEEKED="playbackSeeked",f.PLAYBACK_SEEKING="playbackSeeking",f.PLAYBACK_STALLED="playbackStalled",f.PLAYBACK_STARTED="playbackStarted",f.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",f.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",f.PLAYBACK_WAITING="playbackWaiting",f.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",f.EVENT_MODE_ON_START="eventModeOnStart",f.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",f.CONFORMANCE_VIOLATION="conformanceViolation",f.REPRESENTATION_SWITCH="representationSwitch",f.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",f.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",f.INBAND_PRFT="inbandPrft",f.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",f.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",f}return u}(E(8342).Z));N.Z=w},3393:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=new(function(){function _(){(function(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")})(this,_),this.init()}var i,o;return i=_,(o=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.TEXT_DISABLED="disabled",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.FONT_DOWNLOAD_DVB_SCHEME="urn:dvb:dash:fontdownload:2014",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.OFF_MIMETYPE="application/font-sfnt",this.WOFF_MIMETYPE="application/font-woff",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&E(i.prototype,o),_}());N.Z=P},3860:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=new(function(){function _(){(function(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")})(this,_),this.init()}var i,o;return i=_,(o=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&E(i.prototype,o),_}());N.Z=P},8080:function(A,N,E){E.d(N,{default:function(){return O}});var P=function M(){(function(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,M),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};P.SSL_CONNECTION_FAILED_PREFIX="SSL",P.DNS_RESOLUTION_FAILED="C00",P.HOST_UNREACHABLE="C01",P.CONNECTION_REFUSED="C02",P.CONNECTION_ERROR="C03",P.CORRUPT_MEDIA_ISOBMFF="M00",P.CORRUPT_MEDIA_OTHER="M01",P.BASE_URL_CHANGED="F00",P.BECAME_REPORTER="S00";var _=P,i=E(1180);function o(M){var oe,ne,Oe=(M=M||{}).eventBus,nt=M.dashMetrics,je=M.metricsConstants,Ze=M.events;function Me(Mt){var qt=new _;if(ne){for(var jt in Mt)Mt.hasOwnProperty(jt)&&(qt[jt]=Mt[jt]);qt.mpdurl||(qt.mpdurl=ne.originalUrl||ne.url),qt.terror||(qt.terror=new Date),nt.addDVBErrors(qt)}}function He(Mt){Mt.error||(ne=Mt.manifest)}function at(Mt){Me({errorcode:_.BASE_URL_CHANGED,servicelocation:Mt.entry})}function St(){Me({errorcode:_.BECAME_REPORTER})}function dt(Mt){var qt;Mt.metric===je.HTTP_REQUEST&&((qt=Mt.value).responsecode===0||qt.responsecode==null||qt.responsecode>=400||qt.responsecode<100||qt.responsecode>=600)&&Me({errorcode:qt.responsecode||_.CONNECTION_ERROR,url:qt.url,terror:qt.tresponse,servicelocation:qt._serviceLocation})}function Vt(Mt){var qt;switch(Mt.error?Mt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:qt=_.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:qt=_.CORRUPT_MEDIA_OTHER;break;default:return}Me({errorcode:qt})}return oe={initialize:function(){Oe.on(Ze.MANIFEST_UPDATED,He,oe),Oe.on(Ze.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,at,oe),Oe.on(Ze.METRIC_ADDED,dt,oe),Oe.on(Ze.METRIC_UPDATED,dt,oe),Oe.on(Ze.PLAYBACK_ERROR,Vt,oe),Oe.on(i.Z.BECAME_REPORTING_PLAYER,St,oe)},reset:function(){Oe.off(Ze.MANIFEST_UPDATED,He,oe),Oe.off(Ze.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,at,oe),Oe.off(Ze.METRIC_ADDED,dt,oe),Oe.off(Ze.METRIC_UPDATED,dt,oe),Oe.off(Ze.PLAYBACK_ERROR,Vt,oe),Oe.off(i.Z.BECAME_REPORTING_PLAYER,St,oe)}}}o.__dashjs_factory_name="DVBErrorsTranslator";var w=dashjs.FactoryMaker.getSingletonFactory(o),T=E(2295);function c(M){M=M||{};var oe,ne,Oe=!1,nt=this.context,je=M.mediaElement;return oe={initialize:function(Ze){Ze&&Ze.length&&(Ze.forEach(function(Me){var He=Me.starttime,at=He+Me.duration;ne.add(He,at)}),Oe=!!Ze[0]._useWallClockTime)},reset:function(){ne.clear()},isEnabled:function(){var Ze,Me=ne.length;if(!Me)return!0;Ze=Oe?new Date().getTime()/1e3:je.currentTime;for(var He=0;He<Me;He+=1){var at=ne.start(He),St=ne.end(He);if(at<=Ze&&Ze<St)return!0}return!1}},ne=(0,T.Z)(nt).create(),oe}c.__dashjs_factory_name="RangeController";var b=dashjs.FactoryMaker.getClassFactory(c);function g(){return{serialise:function M(oe){var ne,Oe,nt=[],je=[];for(ne in oe)if(oe.hasOwnProperty(ne)&&ne.indexOf("_")!==0){if((Oe=oe[ne])==null&&(Oe=""),Array.isArray(Oe)){if(!Oe.length)continue;je=[],Oe.forEach(function(Ze){var Me=Object.prototype.toString.call(Ze).slice(8,-1)!=="Object";je.push(Me?Ze:M(Ze))}),Oe=je.map(encodeURIComponent).join(",")}else typeof Oe=="string"?Oe=encodeURIComponent(Oe):Oe instanceof Date?Oe=Oe.toISOString():typeof Oe=="number"&&(Oe=Math.round(Oe));nt.push(ne+"="+Oe)}return nt.join("&")}}}g.__dashjs_factory_name="MetricSerialiser";var u=dashjs.FactoryMaker.getSingletonFactory(g);function f(){var M,oe,ne,Oe=window.crypto||window.msCrypto,nt=Uint32Array,je=Math.pow(2,8*nt.BYTES_PER_ELEMENT)-1;function Ze(){Oe&&(M||(M=new nt(10)),Oe.getRandomValues(M),oe=0)}return ne={random:function(Me,He){var at;return Me||(Me=0),He||(He=1),Oe?(oe===M.length&&Ze(),at=M[oe]/je,oe+=1):at=Math.random(),at*(He-Me)+Me}},Ze(),ne}f.__dashjs_factory_name="RNG";var h=dashjs.FactoryMaker.getSingletonFactory(f),C=E(5717);function B(M){var oe;M=M||{};var ne,Oe,nt,je,Ze,Me,He,at=this.context,St=[],dt=M.metricsConstants;function Vt(){je=!1,Ze=!1,Me=null,He=null}return oe={report:function(Mt,qt){Array.isArray(qt)||(qt=[qt]),Ze&&He.isEnabled()&&qt.forEach(function(jt){var hn=ne.serialise(jt);Mt!==dt.DVB_ERRORS&&(hn="metricname=".concat(Mt,"&").concat(hn)),function(bn,qn,Bn){var zn=new XMLHttpRequest;zn.withCredentials=Oe.getXHRWithCredentialsForType(dt.HTTP_REQUEST_DVB_REPORTING_TYPE);var Er=function(){var xn=St.indexOf(zn);xn!==-1&&(St.splice(xn,1),!(zn.status>=200&&zn.status<300)&&Bn&&Bn())};St.push(zn);try{zn.open("GET",bn),zn.onloadend=Er,zn.onerror=Er,zn.send()}catch{zn.onerror()}}(hn="".concat(Me,"?").concat(hn),0,function(){Ze=!1})})},initialize:function(Mt,qt){var jt;if(He=qt,!(Me=Mt.dvbReportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");je||((jt=Mt.dvbProbability)&&(jt===1e3||jt/1e3>=nt.random())&&(Ze=!0),je=!0)},reset:function(){Vt()}},ne=u(at).getInstance(),nt=h(at).getInstance(),Oe=(0,C.Z)(at).getInstance(),Vt(),oe}B.__dashjs_factory_name="DVBReporting";var G=dashjs.FactoryMaker.getClassFactory(B);function U(M){M=M||{};var oe,ne={"urn:dvb:dash:reporting:2014":G},Oe=this.context,nt=M.debug?M.debug.getLogger(oe):{},je=M.metricsConstants,Ze=M.mediaPlayerModel||{};return{create:function(Me,He){var at;try{(at=ne[Me.schemeIdUri](Oe).create({metricsConstants:je,mediaPlayerModel:Ze})).initialize(Me,He)}catch(St){at=null,nt.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Me.schemeIdUri," (").concat(St.message,")"))}return at},register:function(Me,He){ne[Me]=He},unregister:function(Me){delete ne[Me]}}}U.__dashjs_factory_name="ReportingFactory";var re=dashjs.FactoryMaker.getSingletonFactory(U);function Z(M){var oe=[],ne=re(this.context).getInstance(M);return{initialize:function(Oe,nt){Oe.some(function(je){var Ze=ne.create(je,nt);if(Ze)return oe.push(Ze),!0})},reset:function(){oe.forEach(function(Oe){return Oe.reset()}),oe=[]},report:function(Oe,nt){oe.forEach(function(je){return je.report(Oe,nt)})}}}Z.__dashjs_factory_name="ReportingController";var te=dashjs.FactoryMaker.getClassFactory(Z);function de(){return{reconstructFullMetricName:function(M,oe,ne){var Oe=M;return oe&&(Oe+="("+oe,ne&&ne.length&&(Oe+=","+ne),Oe+=")"),Oe},validateN:function(M){if(!M)throw new Error("missing n");if(isNaN(M))throw new Error("n is NaN");if(M<0)throw new Error("n must be positive");return M}}}de.__dashjs_factory_name="HandlerHelpers";var J=dashjs.FactoryMaker.getSingletonFactory(de);function le(M){var oe,ne,Oe,nt,je;M=M||{};var Ze=this.context,Me=J(Ze).getInstance(),He=[],at=M.metricsConstants;function St(){var dt=function(){try{return Object.keys(He).map(function(Vt){return He[Vt]}).reduce(function(Vt,Mt){return Vt.level<Mt.level?Vt:Mt})}catch{return}}();dt&&je!==dt.t&&(je=dt.t,oe.report(Oe,dt))}return{initialize:function(dt,Vt,Mt){Vt&&(ne=Me.validateN(Mt),oe=Vt,Oe=Me.reconstructFullMetricName(dt,Mt),nt=setInterval(St,ne))},reset:function(){clearInterval(nt),nt=null,ne=0,oe=null,je=null},handleNewMetric:function(dt,Vt,Mt){dt===at.BUFFER_LEVEL&&(He[Mt]=Vt)}}}le.__dashjs_factory_name="BufferLevelHandler";var ge=dashjs.FactoryMaker.getClassFactory(le),Ce=dashjs.FactoryMaker.getClassFactory(function(M){var oe,ne=(M=M||{}).eventBus,Oe=M.metricsConstants;function nt(){ne.off(i.Z.METRICS_INITIALISATION_COMPLETE,nt,this),ne.trigger(i.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(je,Ze){Ze&&(oe=Ze,ne.on(i.Z.METRICS_INITIALISATION_COMPLETE,nt,this))},reset:function(){oe=null},handleNewMetric:function(je,Ze){je===Oe.DVB_ERRORS&&oe&&oe.report(je,Ze)}}});function ae(M){var oe,ne,Oe,nt,je;M=M||{};var Ze=[],Me=J(this.context).getInstance(),He=M.metricsConstants;function at(){var St=Ze;St.length&&oe&&oe.report(nt,St),Ze=[]}return{initialize:function(St,dt,Vt,Mt){dt&&(ne=Me.validateN(Vt),oe=dt,Mt&&Mt.length&&(Oe=Mt),nt=Me.reconstructFullMetricName(St,Vt,Mt),je=setInterval(at,ne))},reset:function(){clearInterval(je),je=null,ne=null,Oe=null,Ze=[],oe=null},handleNewMetric:function(St,dt){St===He.HTTP_REQUEST&&(Oe&&Oe!==dt.type||Ze.push(dt))}}}ae.__dashjs_factory_name="HttpListHandler";var we=dashjs.FactoryMaker.getClassFactory(ae);function Pe(){var M,oe;return{initialize:function(ne,Oe){M=ne,oe=Oe},reset:function(){oe=null,M=void 0},handleNewMetric:function(ne,Oe){ne===M&&oe&&oe.report(M,Oe)}}}Pe.__dashjs_factory_name="GenericMetricHandler";var Ge=dashjs.FactoryMaker.getClassFactory(Pe);function Re(M){var oe,ne=(M=M||{}).debug?M.debug.getLogger(oe):{},Oe=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,nt=this.context,je={BufferLevel:ge,DVBErrors:Ce,HttpList:we,PlayList:Ge,RepSwitchList:Ge,TcpList:Ge};return{create:function(Ze,Me){var He,at=Ze.match(Oe);if(at){try{(He=je[at[1]](nt).create({eventBus:M.eventBus,metricsConstants:M.metricsConstants})).initialize(at[1],Me,at[3],at[5])}catch(St){He=null,ne.error("MetricsHandlerFactory: Could not create handler for type ".concat(at[1]," with args ").concat(at[3],", ").concat(at[5]," (").concat(St.message,")"))}return He}},register:function(Ze,Me){je[Ze]=Me},unregister:function(Ze){delete je[Ze]}}}Re.__dashjs_factory_name="MetricsHandlerFactory";var xe=dashjs.FactoryMaker.getSingletonFactory(Re);function $e(M){M=M||{};var oe,ne=[],Oe=this.context,nt=M.eventBus,je=M.events,Ze=xe(Oe).getInstance({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants});function Me(He){ne.forEach(function(at){at.handleNewMetric(He.metric,He.value,He.mediaType)})}return oe={initialize:function(He,at){He.split(",").forEach(function(St,dt,Vt){var Mt;if(St.indexOf("(")!==-1&&St.indexOf(")")===-1){var qt=Vt[dt+1];qt&&qt.indexOf("(")===-1&&qt.indexOf(")")!==-1&&(St+=","+qt,delete Vt[dt+1])}(Mt=Ze.create(St,at))&&ne.push(Mt)}),nt.on(je.METRIC_ADDED,Me,oe),nt.on(je.METRIC_UPDATED,Me,oe)},reset:function(){nt.off(je.METRIC_ADDED,Me,oe),nt.off(je.METRIC_UPDATED,Me,oe),ne.forEach(function(He){return He.reset()}),ne=[]}}}$e.__dashjs_factory_name="MetricsHandlersController";var it=dashjs.FactoryMaker.getClassFactory($e);function Ie(M){var oe,ne,Oe;M=M||{};var nt=this.context;function je(){oe&&oe.reset(),ne&&ne.reset(),Oe&&Oe.reset()}return{initialize:function(Ze){try{(Oe=b(nt).create({mediaElement:M.mediaElement})).initialize(Ze.Range),(ne=te(nt).create({debug:M.debug,metricsConstants:M.metricsConstants,mediaPlayerModel:M.mediaPlayerModel})).initialize(Ze.Reporting,Oe),(oe=it(nt).create({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants,events:M.events})).initialize(Ze.metrics,ne)}catch(Me){throw je(),Me}},reset:je}}Ie.__dashjs_factory_name="MetricsController";var ke=dashjs.FactoryMaker.getClassFactory(Ie),wt=function M(){(function(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,M),this.metrics="",this.Range=[],this.Reporting=[]},Et=function M(){(function(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,M),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},ze=function M(){(function(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,M),this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3};function st(M){var oe=(M=M||{}).adapter,ne=M.constants;return{getMetrics:function(Oe){var nt=[];return Oe&&Oe.Metrics_asArray&&Oe.Metrics_asArray.forEach(function(je){var Ze=new wt,Me=oe.getIsDynamic(Oe);je.hasOwnProperty("metrics")&&(Ze.metrics=je.metrics,je.Range_asArray&&je.Range_asArray.forEach(function(He){var at=new Et;at.starttime=function(St,dt,Vt){var Mt,qt,jt=0;return dt?jt=oe.getAvailabilityStartTime(St)/1e3:(Mt=oe.getRegularPeriods(St)).length&&(jt=Mt[0].start),qt=jt,Vt&&Vt.hasOwnProperty(ne.START_TIME)&&(qt+=Vt.starttime),qt}(Oe,Me,He),He.hasOwnProperty("duration")?at.duration=He.duration:at.duration=oe.getDuration(Oe),at._useWallClockTime=Me,Ze.Range.push(at)}),je.Reporting_asArray&&(je.Reporting_asArray.forEach(function(He){var at=new ze;He.hasOwnProperty(ne.SCHEME_ID_URI)&&(at.schemeIdUri=He.schemeIdUri,He.hasOwnProperty("value")&&(at.value=He.value),He.hasOwnProperty(ne.DVB_REPORTING_URL)&&(at.dvbReportingUrl=He[ne.DVB_REPORTING_URL]),He.hasOwnProperty(ne.DVB_PROBABILITY)&&(at.dvbProbability=He[ne.DVB_PROBABILITY]),Ze.Reporting.push(at))}),nt.push(Ze)))}),nt}}}st.__dashjs_factory_name="ManifestParsing";var Te=dashjs.FactoryMaker.getSingletonFactory(st);function Ae(M){var oe;M=M||{};var ne={},Oe=this.context,nt=M.eventBus,je=M.events;function Ze(He){if(!He.error){var at=Object.keys(ne);Te(Oe).getInstance({adapter:M.adapter,constants:M.constants}).getMetrics(He.manifest).forEach(function(St){var dt=JSON.stringify(St);if(ne.hasOwnProperty(dt))at.splice(dt,1);else try{var Vt=ke(Oe).create(M);Vt.initialize(St),ne[dt]=Vt}catch{}}),at.forEach(function(St){ne[St].reset(),delete ne[St]}),nt.trigger(i.Z.METRICS_INITIALISATION_COMPLETE)}}function Me(){Object.keys(ne).forEach(function(He){ne[He].reset()}),ne={}}return oe={reset:function(){nt.off(je.MANIFEST_UPDATED,Ze,oe),nt.off(je.STREAM_TEARDOWN_COMPLETE,Me,oe)}},nt.on(je.MANIFEST_UPDATED,Ze,oe),nt.on(je.STREAM_TEARDOWN_COMPLETE,Me,oe),oe}Ae.__dashjs_factory_name="MetricsCollectionController";var Ve=dashjs.FactoryMaker.getClassFactory(Ae);function S(){var M=this.context;return{createMetricsReporting:function(oe){return w(M).getInstance({eventBus:oe.eventBus,dashMetrics:oe.dashMetrics,metricsConstants:oe.metricsConstants,events:oe.events}).initialize(),Ve(M).create(oe)},getReportingFactory:function(){return re(M).getInstance()},getMetricsHandlerFactory:function(){return xe(M).getInstance()}}}S.__dashjs_factory_name="MetricsReporting";var m=dashjs.FactoryMaker.getClassFactory(S);m.events=i.Z,dashjs.FactoryMaker.updateClassFactory(S.__dashjs_factory_name,m);var O=m},1180:function(A,N,E){function P(T){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},P(T)}function _(T,c){return _=Object.setPrototypeOf||function(b,g){return b.__proto__=g,b},_(T,c)}function i(T,c){return!c||P(c)!=="object"&&typeof c!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(T):c}function o(T){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},o(T)}var w=new(function(T){(function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),h&&_(f,h)})(u,T);var c,b,g=(c=u,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,h=o(c);if(b){var C=o(this).constructor;f=Reflect.construct(h,arguments,C)}else f=h.apply(this,arguments);return i(this,f)});function u(){var f;return function(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}(this,u),(f=g.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",f.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",f.CMCD_DATA_GENERATED="cmcdDataGenerated",f}return u}(E(8342).Z));N.Z=w},5717:function(A,N,E){var P=E(2610),_=E(5448),i=E(1264),o=E(3106),w=E(1767),T=E(3393);function c(){var b,g,u,f,h,C,B,G,U=this.context,re=(0,i.Z)(U).getInstance();function Z(){f=[],h=[],C=[],G=[],B=null,g=[]}function te(ge,Ce){var ae=-1;ge.some(function(we,Pe){if(we===Ce)return ae=Pe,!0}),ae<0||ge.splice(ae,1)}function de(ge){var Ce;for(Ce=0;Ce<G.length;Ce++)if(G[Ce].rulename===ge)return Ce;return-1}function J(ge,Ce){le(ge,Ce);var ae=new P.Z;ae.schemeIdUri=ge,ae.value=Ce,g.push(ae)}function le(ge,Ce){(0,o.PS)(ge,"string"),(0,o.PS)(Ce,"string"),g.forEach(function(ae,we){ae.schemeIdUri===ge&&ae.value===Ce&&g.splice(we,1)})}return b={getCustomInitialTrackSelectionFunction:function(){return B},setCustomInitialTrackSelectionFunction:function(ge){B=ge},resetCustomInitialTrackSelectionFunction:function(){B=null},getLicenseResponseFilters:function(){return h},getLicenseRequestFilters:function(){return f},getCustomCapabilitiesFilters:function(){return C},registerCustomCapabilitiesFilter:function(ge){C.push(ge)},registerLicenseResponseFilter:function(ge){h.push(ge)},registerLicenseRequestFilter:function(ge){f.push(ge)},unregisterCustomCapabilitiesFilter:function(ge){te(C,ge)},unregisterLicenseResponseFilter:function(ge){te(h,ge)},unregisterLicenseRequestFilter:function(ge){te(f,ge)},addAbrCustomRule:function(ge,Ce,ae){if(typeof ge!="string"||ge!==w.Z.ABANDON_FRAGMENT_RULES&&ge!==w.Z.QUALITY_SWITCH_RULES||typeof Ce!="string")throw T.Z.BAD_ARGUMENT_ERROR;var we=de(Ce);we===-1?G.push({type:ge,rulename:Ce,rule:ae}):(G[we].type=ge,G[we].rule=ae)},removeAllAbrCustomRule:function(){G=[]},removeAbrCustomRule:function(ge){if(ge){var Ce=de(ge);Ce!==-1&&G.splice(Ce,1)}else G=[]},getAbrCustomRules:function(){return G},addUTCTimingSource:J,removeUTCTimingSource:le,getUTCTimingSources:function(){return g},clearDefaultUTCTimingSources:function(){g=[]},restoreDefaultUTCTimingSources:function(){var ge=re.get().streaming.utcSynchronization.defaultTimingSource;J(ge.scheme,ge.value)},setXHRWithCredentialsForType:function ge(Ce,ae){Ce?u[Ce]=!!ae:Object.keys(u).forEach(function(we){ge(we,ae)})},getXHRWithCredentialsForType:function(ge){var Ce=u[ge];return Ce===void 0?u.default:Ce},setConfig:function(){},reset:function(){Z()}},u={default:!1},Z(),b}c.__dashjs_factory_name="CustomParametersModel",N.Z=_.Z.getSingletonFactory(c)},9032:function(A,N,E){var P=E(5448),_=E(7473);function i(w){var T=(w=w||{}).requestModifier;function c(b){var g=new Date,u=b.request,f=new XMLHttpRequest;if(f.open(b.method,b.url,!0),u.responseType&&(f.responseType=u.responseType),u.range&&f.setRequestHeader("Range","bytes="+u.range),u.requestStartDate||(u.requestStartDate=g),T&&T.modifyRequestHeader&&(f=T.modifyRequestHeader(f,{url:b.url})),b.headers)for(var h in b.headers){var C=b.headers[h];C&&f.setRequestHeader(h,C)}f.withCredentials=b.withCredentials,f.onload=b.onload,f.onloadend=b.onend,f.onerror=b.onerror,f.onprogress=b.progress,f.onabort=b.onabort,f.ontimeout=b.ontimeout,f.timeout=b.timeout,f.send(),b.response=f}return{load:function(b){T&&T.modifyRequest?(0,_.k)(b,T).then(function(){return c(b)}):c(b)},abort:function(b){var g=b.response;g.onloadend=g.onerror=g.onprogress=void 0,g.abort()}}}i.__dashjs_factory_name="XHRLoader";var o=P.Z.getClassFactory(i);N.Z=o},1737:function(A,N,E){function P(Dt,Rt){for(var Nt=0;Nt<Rt.length;Nt++){var Ye=Rt[Nt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Dt,Ye.key,Ye)}}E.d(N,{default:function(){return za}});var _={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},i=function(){function Dt(){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt)}var Rt,Nt;return Rt=Dt,Nt=[{key:"findCencContentProtection",value:function(Ye){for(var yt=null,Je=0;Je<Ye.length;++Je){var ht=Ye[Je];ht.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||ht.value.toLowerCase()!=="cenc"&&ht.value.toLowerCase()!=="cbcs"||(yt=ht)}return yt}},{key:"getPSSHData",value:function(Ye){var yt=8,Je=new DataView(Ye),ht=Je.getUint8(yt);return yt+=20,ht>0&&(yt+=4+16*Je.getUint32(yt)),yt+=4,Ye.slice(yt)}},{key:"getPSSHForKeySystem",value:function(Ye,yt){var Je=Dt.parsePSSHList(yt);return Ye&&Je.hasOwnProperty(Ye.uuid.toLowerCase())?Je[Ye.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Ye,yt){return"pssh"in Ye?(Ye.pssh.__text=Ye.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),yt.decodeArray(Ye.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Ye){if(Ye==null)return[];for(var yt=new DataView(Ye.buffer||Ye),Je={},ht=0;;){var Bt,Gt,on=void 0,an=ht;if(ht>=yt.buffer.byteLength)break;if(Bt=ht+yt.getUint32(ht),ht+=4,yt.getUint32(ht)===1886614376)if(ht+=4,(Gt=yt.getUint8(ht))===0||Gt===1){ht++,ht+=3,on="";var Kt=void 0,bt=void 0;for(Kt=0;Kt<4;Kt++)on+=(bt=yt.getUint8(ht+Kt).toString(16)).length===1?"0"+bt:bt;for(ht+=4,on+="-",Kt=0;Kt<2;Kt++)on+=(bt=yt.getUint8(ht+Kt).toString(16)).length===1?"0"+bt:bt;for(ht+=2,on+="-",Kt=0;Kt<2;Kt++)on+=(bt=yt.getUint8(ht+Kt).toString(16)).length===1?"0"+bt:bt;for(ht+=2,on+="-",Kt=0;Kt<2;Kt++)on+=(bt=yt.getUint8(ht+Kt).toString(16)).length===1?"0"+bt:bt;for(ht+=2,on+="-",Kt=0;Kt<6;Kt++)on+=(bt=yt.getUint8(ht+Kt).toString(16)).length===1?"0"+bt:bt;ht+=6,ht+=4,Je[on=on.toLowerCase()]=yt.buffer.slice(an,Bt),ht=Bt}else ht=Bt;else ht=Bt}return Je}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Ye,yt){try{if(!Ye||Ye.length===0)return null;for(var Je=0,ht=null;Je<Ye.length&&!ht;){var Bt=Ye[Je];if(Bt&&Bt.contentProtection&&Bt.contentProtection.length>0){var Gt=Bt.contentProtection.filter(function(gn){return gn.schemeIdUri&&gn.schemeIdUri===yt});if(Gt&&Gt.length>0)for(var on=0;on<Gt.length&&!ht;){for(var an=Gt[on],Kt=0;Kt<_.attributes.length&&!ht;){for(var bt=0,rn=_.attributes[Kt];bt<_.prefixes.length&&!ht;){var en=_.prefixes[bt];an[rn]&&an[rn].__prefix&&an[rn].__prefix===en&&an[rn].__text&&(ht=an[rn].__text),bt+=1}Kt+=1}on+=1}}Je+=1}return ht}catch{return null}}}],Nt&&P(Rt,Nt),Dt}(),o=function Dt(Rt,Nt){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.contentType=Rt,this.robustness=Nt},w=function Dt(Rt,Nt,Ye,yt,Je){(function(ht,Bt){if(!(ht instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.initDataTypes=["cenc"],Rt&&Rt.length&&(this.audioCapabilities=Rt),Nt&&Nt.length&&(this.videoCapabilities=Nt),this.distinctiveIdentifier=Ye,this.persistentState=yt,this.sessionTypes=Je};function T(Dt){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},T(Dt)}function c(Dt,Rt){return c=Object.setPrototypeOf||function(Nt,Ye){return Nt.__proto__=Ye,Nt},c(Dt,Rt)}function b(Dt,Rt){return!Rt||T(Rt)!=="object"&&typeof Rt!="function"?function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(Dt):Rt}function g(Dt){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)},g(Dt)}var u=new(function(Dt){(function(Je,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(ht&&ht.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),ht&&c(Je,ht)})(yt,Dt);var Rt,Nt,Ye=(Rt=yt,Nt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Je,ht=g(Rt);if(Nt){var Bt=g(this).constructor;Je=Reflect.construct(ht,arguments,Bt)}else Je=ht.apply(this,arguments);return b(this,Je)});function yt(){var Je;return function(ht,Bt){if(!(ht instanceof Bt))throw new TypeError("Cannot call a class as a function")}(this,yt),(Je=Ye.call(this)).MEDIA_KEYERR_CODE=100,Je.MEDIA_KEYERR_UNKNOWN_CODE=101,Je.MEDIA_KEYERR_CLIENT_CODE=102,Je.MEDIA_KEYERR_SERVICE_CODE=103,Je.MEDIA_KEYERR_OUTPUT_CODE=104,Je.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,Je.MEDIA_KEYERR_DOMAIN_CODE=106,Je.MEDIA_KEY_MESSAGE_ERROR_CODE=107,Je.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,Je.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,Je.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,Je.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,Je.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,Je.KEY_SESSION_CREATED_ERROR_CODE=113,Je.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,Je.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",Je.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",Je.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",Je.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",Je.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",Je.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",Je.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",Je.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",Je.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",Je.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",Je.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",Je.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",Je.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",Je.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",Je}return yt}(E(2230).Z)),f=E(5459),h=function Dt(Rt,Nt,Ye,yt,Je,ht,Bt,Gt){(function(on,an){if(!(on instanceof an))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.url=Rt,this.method=Nt,this.responseType=Ye,this.headers=yt,this.withCredentials=Je,this.messageType=ht,this.sessionId=Bt,this.data=Gt},C=function Dt(Rt,Nt,Ye){(function(yt,Je){if(!(yt instanceof Je))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.url=Rt,this.headers=Nt,this.data=Ye},B=E(7855),G=E(703),U=E(3393),re=E(5448);function Z(Dt){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},Z(Dt)}function te(Dt){var Rt,Nt,Ye,yt,Je,ht,Bt,Gt,on,an,Kt,bt=(Dt=Dt||{}).protectionKeyController,rn=Dt.protectionModel,en=Dt.eventBus,gn=Dt.events,Rn=Dt.debug,kn=Dt.BASE64,ln=Dt.constants,At=[],Ot=Dt.cmcdModel,Yt=Dt.settings,pn=Dt.customParametersModel;function En(){if(!(en&&en.hasOwnProperty("on")&&bt&&bt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function On(kt,fn){Gt||on?Gt&&Fn():function(wn,tr){if(!on){on=!0;var Zn,pr=[];wn=wn.sort(function(lr,Qn){return(Je&&Je[lr.ks.systemString]&&Je[lr.ks.systemString].priority>=0?Je[lr.ks.systemString].priority:wn.length)-(Je&&Je[Qn.ks.systemString]&&Je[Qn.ks.systemString].priority>=0?Je[Qn.ks.systemString].priority:wn.length)});for(var Yn=0;Yn<wn.length;Yn++){var si=bo(wn[Yn]);pr.push({ks:wn[Yn].ks,configs:[si],protData:wn[Yn].protData})}rn.requestKeySystemAccess(pr).then(function(lr){var Qn=(Zn=lr.data).mksa&&Zn.mksa.selectedSystemString?Zn.mksa.selectedSystemString:Zn.keySystem.systemString;return Nt.info("DRM: KeySystem Access Granted for system string ("+Qn+")!  Selecting key system..."),rn.selectKeySystem(Zn)}).then(function(lr){if(Gt=lr,on=!1,rn){en.trigger(gn.KEY_SYSTEM_SELECTED,{data:Zn});var Qn=hr(Gt);Qn&&Qn.serverCertificate&&Qn.serverCertificate.length>0&&rn.setServerCertificate(kn.decodeArray(Qn.serverCertificate).buffer),Fn()}}).catch(function(lr){Gt=null,on=!1,tr||en.trigger(gn.KEY_SYSTEM_SELECTED,{data:null,error:new f.Z(u.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,u.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+lr.error)})})}}(kt,fn)}function Fn(){for(var kt,fn=0;fn<Ye.length;fn++)for(kt=0;kt<Ye[fn].length;kt++)if(Gt===Ye[fn][kt].ks){Ar(Ye[fn][kt]);break}Ye=[]}function Ar(kt){if(bt.isClearKey(Gt)&&kt.protData&&kt.protData.hasOwnProperty("clearkeys")&&Object.keys(kt.protData.clearkeys).length!==0){var fn={kids:Object.keys(kt.protData.clearkeys)};kt.initData=new TextEncoder().encode(JSON.stringify(fn))}kt.sessionId?wr(kt):kt.initData!==null&&Wn(kt)}function wr(kt){En(),rn.loadKeySession(kt)}function Wn(kt){var fn=i.getPSSHForKeySystem(Gt,kt?kt.initData:null);if(fn){if(function(wn){if(!wn)return!1;try{for(var tr=rn.getSessions(),Zn=0;Zn<tr.length;Zn++)if(tr[Zn].getKeyId()===wn)return!0;return!1}catch{return!1}}(kt.keyId)||er(fn))return;try{kt.initData=fn,rn.createKeySession(kt)}catch(wn){en.trigger(gn.KEY_SESSION_CREATED,{data:null,error:new f.Z(u.KEY_SESSION_CREATED_ERROR_CODE,u.KEY_SESSION_CREATED_ERROR_MESSAGE+wn.message)})}}else kt&&kt.initData?rn.createKeySession(kt):en.trigger(gn.KEY_SESSION_CREATED,{data:null,error:new f.Z(u.KEY_SESSION_CREATED_ERROR_CODE,u.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Gt?Gt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function hr(kt){if(kt){var fn=kt.systemString;if(Je)return fn in Je?Je[fn]:null}return null}function er(kt){if(!kt)return!1;try{for(var fn=rn.getAllInitData(),wn=0;wn<fn.length;wn++)if(bt.initDataEquals(kt,fn[wn]))return Nt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function br(kt){En(),kt?(rn.setMediaElement(kt),en.on(gn.NEED_KEY,Va,Rt)):kt===null&&(rn.setMediaElement(kt),en.off(gn.NEED_KEY,Va,Rt))}function bo(kt){var fn=kt.protData,wn=[],tr=[],Zn=fn&&fn.audioRobustness&&fn.audioRobustness.length>0?fn.audioRobustness:Bt,pr=fn&&fn.videoRobustness&&fn.videoRobustness.length>0?fn.videoRobustness:Bt,Yn=kt.sessionType,si=fn&&fn.distinctiveIdentifier?fn.distinctiveIdentifier:"optional",lr=fn&&fn.persistentState?fn.persistentState:Yn==="temporary"?"optional":"required";return yt.forEach(function(Qn){Qn.type===ln.AUDIO?wn.push(new o(Qn.codec,Zn)):Qn.type===ln.VIDEO&&tr.push(new o(Qn.codec,pr))}),new w(wn,tr,si,lr,[Yn])}function Ei(kt){kt.error?en.trigger(gn.KEY_STATUSES_CHANGED,{data:null,error:kt.error}):Nt.debug("DRM: key status = "+kt.status)}function Mi(kt){Nt.debug("DRM: onKeyMessage");var fn=kt.data;en.trigger(gn.KEY_MESSAGE,{data:fn});var wn=fn.messageType?fn.messageType:"license-request",tr=fn.message,Zn=fn.sessionToken,pr=hr(Gt),Yn=bt.getLicenseServerModelInstance(Gt,pr,wn),si={sessionToken:Zn,messageType:wn};if(tr&&tr.byteLength!==0){if(!Yn)return Nt.debug("DRM: License server request not required for this message (type = "+kt.data.messageType+").  Session ID = "+Zn.getSessionId()),void xr(si);if(bt.isClearKey(Gt)){var lr=bt.processClearKeyLicenseRequest(Gt,pr,tr);if(lr&&lr.keyPairs&&lr.keyPairs.length>0)return Nt.debug("DRM: ClearKey license request handled by application!"),xr(si),void rn.updateKeySession(Zn,lr)}(function(Qn,Fr,kr){var Li=Qn.sessionToken,_i=Qn.messageType?Qn.messageType:"license-request",xi={sessionToken:Li,messageType:_i},Ro=Gt?Gt.systemString:null,$s=function(Vn,fa,Xa,da,Tl){var Ti=null,Sl=da.message;if(Vn&&Vn.serverURL){var Io=Vn.serverURL;typeof Io=="string"&&Io!==""?Ti=Io:Z(Io)==="object"&&Io.hasOwnProperty(fa)&&(Ti=Io[fa])}else if(Vn&&Vn.laURL&&Vn.laURL!=="")Ti=Vn.laURL;else if(!(Ti=i.getLicenseServerUrlFromMediaInfo(yt,Gt.schemeIdURI))&&!bt.isClearKey(Gt)){var Al=i.getPSSHData(Xa.initData);(Ti=Gt.getLicenseServerURLFromInitData(Al))||(Ti=da.laURL)}return Ti=Tl.getServerURLFromMessage(Ti,Sl,fa)}(kr,_i,Li,Qn,Fr);if($s){var Ka={},Wa=!1;kr&&hl(Ka,kr.httpRequestHeaders);var ml=Qn.message;hl(Ka,Gt.getRequestHeadersFromMessage(ml)),Object.keys(Ka).forEach(function(Vn){Vn.toLowerCase()==="authorization"&&(Wa=!0)}),kr&&typeof kr.withCredentials=="boolean"&&(Wa=kr.withCredentials);var yl=function(Vn){if(rn)if(Vn.status>=200&&Vn.status<=299){var fa=G.Z.parseHttpHeaders(Vn.getAllResponseHeaders?Vn.getAllResponseHeaders():null),Xa=new C(Vn.responseURL,fa,Vn.response);gl(pn.getLicenseResponseFilters(),Xa).then(function(){var da=Fr.getLicenseMessage(Xa.data,Ro,_i);da!==null?(xr(xi),rn.updateKeySession(Li,da)):pl(Vn,xi,Ro,_i,Fr)})}else pl(Vn,xi,Ro,_i,Fr)},Df=function(Vn){xr(xi,new f.Z(u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ro+' update, XHR aborted. status is "'+Vn.statusText+'" ('+Vn.status+"), readyState is "+Vn.readyState))},Of=function(Vn){xr(xi,new f.Z(u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ro+' update, XHR error. status is "'+Vn.statusText+'" ('+Vn.status+"), readyState is "+Vn.readyState))},vl=Gt.getLicenseRequestFromMessage(ml),El=Fr.getHTTPMethod(_i),Pf=Fr.getResponseType(Ro,_i),Js=kr&&!isNaN(kr.httpTimeout)?kr.httpTimeout:8e3,_l=Li.getSessionId()||null,Qa=new h($s,El,Pf,Ka,Wa,_i,_l,vl),Mf=isNaN(Yt.get().streaming.retryAttempts[B.w.LICENSE])?3:Yt.get().streaming.retryAttempts[B.w.LICENSE];gl(pn.getLicenseRequestFilters(),Qa).then(function(){dl(Qa,Mf,Js,yl,Df,Of)})}else xr(xi,new f.Z(u.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,u.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(fn,Yn,pr)}else xr(si,new f.Z(u.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,u.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function xr(kt,fn){en.trigger(gn.LICENSE_REQUEST_COMPLETE,{data:kt,error:fn})}function dl(kt,fn,wn,tr,Zn,pr){var Yn=new XMLHttpRequest;if(Yt.get().streaming.cmcd&&Yt.get().streaming.cmcd.enabled&&Yt.get().streaming.cmcd.mode===U.Z.CMCD_MODE_QUERY){var si=Ot.getQueryParameter({url:kt.url,type:B.w.LICENSE});si&&(kt.url=G.Z.addAditionalQueryParameterToUrl(kt.url,[si]))}for(var lr in Yn.open(kt.method,kt.url,!0),Yn.responseType=kt.responseType,Yn.withCredentials=kt.withCredentials,wn>0&&(Yn.timeout=wn),kt.headers)Yn.setRequestHeader(lr,kt.headers[lr]);if(Yt.get().streaming.cmcd&&Yt.get().streaming.cmcd.enabled&&Yt.get().streaming.cmcd.mode===U.Z.CMCD_MODE_HEADER){var Qn=Ot.getHeaderParameters({url:kt.url,type:B.w.LICENSE});if(Qn)for(var Fr in Qn){var kr=Qn[Fr];kr&&Yn.setRequestHeader(Fr,kr)}}var Li=function(){fn--;var _i=isNaN(Yt.get().streaming.retryIntervals[B.w.LICENSE])?1e3:Yt.get().streaming.retryIntervals[B.w.LICENSE];Kt=setTimeout(function(){dl(kt,fn,wn,tr,Zn,pr)},_i)};Yn.onload=function(){an=null,this.status>=200&&this.status<=299||fn<=0?tr(this):(Nt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+fn),Li())},Yn.ontimeout=Yn.onerror=function(){an=null,fn<=0?pr(this):(Nt.warn("License request network request failed . Retrying it... Pending retries: "+fn),Li())},Yn.onabort=function(){Zn(this)},en.trigger(gn.LICENSE_REQUEST_SENDING,{url:kt.url,headers:kt.headers,payload:kt.data,sessionId:kt.sessionId}),an=Yn,Yn.send(kt.data)}function Ya(){an&&(an.onloadend=an.onerror=an.onprogress=void 0,an.abort(),an=null),Kt&&(clearTimeout(Kt),Kt=null)}function hl(kt,fn){if(fn)for(var wn in fn)kt[wn]=fn[wn]}function pl(kt,fn,wn,tr,Zn){var pr="NONE",Yn=null;kt.response&&(pr=Zn.getErrorResponse(kt.response,wn,tr),Yn={serverResponse:kt.response||null,responseCode:kt.status||null,responseText:kt.statusText||null}),xr(fn,new f.Z(u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,u.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+wn+' update, XHR complete. status is "'+kt.statusText+'" ('+kt.status+"), readyState is "+kt.readyState+".  Response is "+pr,Yn))}function gl(kt,fn){return kt?kt.reduce(function(wn,tr){return wn.then(function(){return tr(fn)})},Promise.resolve()):Promise.resolve()}function Va(kt,fn){if(!Yt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Nt.debug("DRM: onNeedKey"),kt.key.initDataType!=="cenc")return void Nt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+kt.key.initDataType);if(yt.length===0&&(Nt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(fn=fn===void 0?1:fn+1)<5))return void At.push(setTimeout(function(){Va(kt,fn)},500));var wn=kt.key.initData;if(ArrayBuffer.isView(wn)&&(wn=wn.buffer),Gt){var tr=i.getPSSHForKeySystem(Gt,wn);if(tr&&er(tr))return}Nt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(wn)));var Zn=bt.getSupportedKeySystemsFromSegmentPssh(wn,Je,ht);if(Zn.length===0)return void Nt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(pr){Ye.push(pr),On(pr,!1)})(Zn)}}return Rt={initializeForMedia:function(kt){if(!kt)throw new Error("mediaInfo can not be null or undefined");En(),yt.push(kt)},clearMediaInfoArray:function(){yt=[]},handleKeySystemFromManifest:function(){if(yt&&yt.length!==0){var kt=[];yt.forEach(function(fn){var wn=bt.getSupportedKeySystemsFromContentProtection(fn.contentProtection,Je,ht);wn.length>0&&(kt.length===0&&(kt=wn),Ye.push(wn))}),kt&&kt.length>0&&On(kt,!0)}},createKeySession:Wn,loadKeySession:wr,removeKeySession:function(kt){En(),rn.removeKeySession(kt)},closeKeySession:function(kt){En(),rn.closeKeySession(kt)},setServerCertificate:function(kt){En(),rn.setServerCertificate(kt)},setMediaElement:br,setSessionType:function(kt){ht=kt},setRobustnessLevel:function(kt){Bt=kt},setProtectionData:function(kt){Je=kt,bt.setProtectionData(kt)},getSupportedKeySystemsFromContentProtection:function(kt){return En(),bt.getSupportedKeySystemsFromContentProtection(kt,Je,ht)},getKeySystems:function(){return bt?bt.getKeySystems():[]},setKeySystems:function(kt){bt&&bt.setKeySystems(kt)},stop:function(){Ya(),rn&&rn.stop()},reset:function(){en.off(gn.INTERNAL_KEY_MESSAGE,Mi,Rt),en.off(gn.INTERNAL_KEY_STATUS_CHANGED,Ei,Rt),En(),Ya(),br(null),Gt=null,on=!1,rn&&(rn.reset(),rn=null),At.forEach(function(kt){return clearTimeout(kt)}),At=[],yt=[],Ye=[]}},Nt=Rn.getLogger(Rt),Ye=[],yt=[],ht="temporary",Bt="",an=null,Kt=null,en.on(gn.INTERNAL_KEY_MESSAGE,Mi,Rt),en.on(gn.INTERNAL_KEY_STATUS_CHANGED,Ei,Rt),Rt}te.__dashjs_factory_name="ProtectionController";var de=re.Z.getClassFactory(te),J=function Dt(Rt,Nt){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.keyID=Rt,this.key=Nt};function le(Dt,Rt){for(var Nt=0;Nt<Rt.length;Nt++){var Ye=Rt[Nt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Dt,Ye.key,Ye)}}var ge=function(){function Dt(Ye,yt){if(function(Je,ht){if(!(Je instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,Dt),yt&&yt!=="persistent"&&yt!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Ye,this.type=yt}var Rt,Nt;return Rt=Dt,(Nt=[{key:"toJWK",value:function(){var Ye,yt=this.keyPairs.length,Je={keys:[]};for(Ye=0;Ye<yt;Ye++){var ht={kty:"oct",alg:"A128KW",kid:this.keyPairs[Ye].keyID,k:this.keyPairs[Ye].key};Je.keys.push(ht)}this.type&&(Je.type=this.type);var Bt=JSON.stringify(Je),Gt=Bt.length,on=new ArrayBuffer(Gt),an=new Uint8Array(on);for(Ye=0;Ye<Gt;Ye++)an[Ye]=Bt.charCodeAt(Ye);return on}}])&&le(Rt.prototype,Nt),Dt}();function Ce(Dt,Rt){for(var Nt=0;Nt<Rt.length;Nt++){var Ye=Rt[Nt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Dt,Ye.key,Ye)}}var ae=new(function(){function Dt(){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.init()}var Rt,Nt;return Rt=Dt,(Nt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&Ce(Rt.prototype,Nt),Dt}()),we="e2719d58-a985-b3c9-781a-b030af78d30e",Pe=ae.CLEARKEY_KEYSTEM_STRING,Ge="urn:uuid:"+we;function Re(Dt){var Rt=(Dt=Dt||{}).BASE64;return{uuid:we,schemeIdURI:Ge,systemString:Pe,getInitData:function(Nt,Ye){try{var yt=i.parseInitDataFromContentProtection(Nt,Rt);if(!yt&&Ye){var Je={kids:[function(ht){try{var Bt=ht.replace(/-/g,"");return(Bt=btoa(Bt.match(/\w{2}/g).map(function(Gt){return String.fromCharCode(parseInt(Gt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Ye["cenc:default_KID"])]};yt=new TextEncoder().encode(JSON.stringify(Je))}return yt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Nt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Nt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Nt,Ye){var yt=null;if(Nt){for(var Je=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ye))),ht=[],Bt=0;Bt<Je.kids.length;Bt++){var Gt=Je.kids[Bt],on=Nt.clearkeys&&Nt.clearkeys.hasOwnProperty(Gt)?Nt.clearkeys[Gt]:null;if(!on)throw new Error("DRM: ClearKey keyID ("+Gt+") is not known!");ht.push(new J(Gt,on))}yt=new ge(ht)}return yt}}}Re.__dashjs_factory_name="KeySystemClearKey";var xe=dashjs.FactoryMaker.getSingletonFactory(Re),$e="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",it=ae.CLEARKEY_KEYSTEM_STRING,Ie="urn:uuid:"+$e;function ke(Dt){var Rt,Nt=Dt.BASE64,Ye=Dt.debug.getLogger(Rt);return{uuid:$e,schemeIdURI:Ie,systemString:it,getInitData:function(yt){return i.parseInitDataFromContentProtection(yt,Nt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(yt){return new Uint8Array(yt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(yt,Je){var ht=null;if(yt){for(var Bt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Je))),Gt=[],on=0;on<Bt.kids.length;on++){var an=Bt.kids[on],Kt=yt.clearkeys&&yt.clearkeys.hasOwnProperty(an)?yt.clearkeys[an]:null;if(!Kt)throw new Error("DRM: ClearKey keyID ("+an+") is not known!");Gt.push(new J(an,Kt))}ht=new ge(Gt),Ye.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return ht}}}ke.__dashjs_factory_name="KeySystemW3CClearKey";var wt=dashjs.FactoryMaker.getSingletonFactory(ke),Et="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ze=ae.WIDEVINE_KEYSTEM_STRING,st="urn:uuid:"+Et;function Te(Dt){var Rt=(Dt=Dt||{}).BASE64;return{uuid:Et,schemeIdURI:st,systemString:ze,getInitData:function(Nt){return i.parseInitDataFromContentProtection(Nt,Rt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Nt){return new Uint8Array(Nt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}Te.__dashjs_factory_name="KeySystemWidevine";var Ae=dashjs.FactoryMaker.getSingletonFactory(Te),Ve="9a04f079-9840-4286-ab92-e65be0885f95",S=ae.PLAYREADY_KEYSTEM_STRING,m="urn:uuid:"+Ve;function O(Dt){var Rt="utf-16",Nt=(Dt=Dt||{}).BASE64,Ye=Dt.settings;function yt(){if(!Nt||!Nt.hasOwnProperty("decodeArray")||!Nt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:Ve,schemeIdURI:m,systemString:S,getInitData:function(Je){var ht,Bt,Gt,on,an,Kt=new Uint8Array([112,115,115,104,0,0,0,0]),bt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),rn=0,en=null;if(yt(),!Je)return null;if("pssh"in Je)return i.parseInitDataFromContentProtection(Je,Nt);if("pro"in Je)en=Nt.decodeArray(Je.pro.__text);else{if(!("prheader"in Je))return null;en=Nt.decodeArray(Je.prheader.__text)}return ht=en.length,Bt=4+Kt.length+bt.length+4+ht,Gt=new ArrayBuffer(Bt),on=new Uint8Array(Gt),(an=new DataView(Gt)).setUint32(rn,Bt),rn+=4,on.set(Kt,rn),rn+=Kt.length,on.set(bt,rn),rn+=bt.length,an.setUint32(rn,ht),rn+=4,on.set(en,rn),rn+=ht,on.buffer},getRequestHeadersFromMessage:function(Je){var ht,Bt,Gt={},on=new DOMParser;if(Ye&&Ye.get().streaming.protection.detectPlayreadyMessageFormat&&Rt==="utf-16"&&Je&&Je.byteLength%2==1)return Gt["Content-Type"]="text/xml; charset=utf-8",Gt;var an=Rt==="utf-16"?new Uint16Array(Je):new Uint8Array(Je);ht=String.fromCharCode.apply(null,an);for(var Kt=(Bt=on.parseFromString(ht,"application/xml")).getElementsByTagName("name"),bt=Bt.getElementsByTagName("value"),rn=0;rn<Kt.length;rn++)Gt[Kt[rn].childNodes[0].nodeValue]=bt[rn].childNodes[0].nodeValue;return Gt.hasOwnProperty("Content")&&(Gt["Content-Type"]=Gt.Content,delete Gt.Content),Gt.hasOwnProperty("Content-Type")||(Gt["Content-Type"]="text/xml; charset=utf-8"),Gt},getLicenseRequestFromMessage:function(Je){var ht=null,Bt=new DOMParser;if(Ye&&Ye.get().streaming.protection.detectPlayreadyMessageFormat&&Rt==="utf-16"&&Je&&Je.byteLength%2==1)return Je;var Gt=Rt==="utf-16"?new Uint16Array(Je):new Uint8Array(Je);yt();var on=String.fromCharCode.apply(null,Gt),an=Bt.parseFromString(on,"application/xml");if(!an.getElementsByTagName("PlayReadyKeyMessage")[0])return Je;var Kt=an.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Kt&&(ht=Nt.decode(Kt)),ht},getLicenseServerURLFromInitData:function(Je){if(Je)for(var ht=new DataView(Je),Bt=ht.getUint16(4,!0),Gt=6,on=new DOMParser,an=0;an<Bt;an++){var Kt=ht.getUint16(Gt,!0);Gt+=2;var bt=ht.getUint16(Gt,!0);if(Gt+=2,Kt===1){var rn=Je.slice(Gt,Gt+bt),en=String.fromCharCode.apply(null,new Uint16Array(rn)),gn=on.parseFromString(en,"application/xml");if(gn.getElementsByTagName("LA_URL")[0]){var Rn=gn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Rn)return Rn}if(gn.getElementsByTagName("LUI_URL")[0]){var kn=gn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(kn)return kn}}else Gt+=bt}return null},getCDMData:function(Je){var ht,Bt,Gt,on;if(yt(),!Je)return null;for(ht=[],on=0;on<Je.length;++on)ht.push(Je.charCodeAt(on)),ht.push(0);for(ht=String.fromCharCode.apply(null,ht),ht=Nt.encode(ht),Bt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",ht),Gt=[],on=0;on<Bt.length;++on)Gt.push(Bt.charCodeAt(on)),Gt.push(0);return new Uint8Array(Gt).buffer},setPlayReadyMessageFormat:function(Je){if(Je!=="utf-8"&&Je!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Rt=Je}}}O.__dashjs_factory_name="KeySystemPlayReady";var M=dashjs.FactoryMaker.getSingletonFactory(O);function oe(Dt){var Rt=(Dt=Dt||{}).BASE64,Nt={};return Nt[ae.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Ye){return Rt.decodeArray(Ye.license)},getErrorResponse:function(Ye){return Ye}},Nt[ae.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Ye){return Ye},getErrorResponse:function(Ye){return String.fromCharCode.apply(null,new Uint8Array(Ye))}},{getServerURLFromMessage:function(Ye){return Ye},getHTTPMethod:function(){return"POST"},getResponseType:function(Ye){return Nt[Ye].responseType},getLicenseMessage:function(Ye,yt){return function(){if(!Rt||!Rt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Nt[yt].getLicenseMessage(Ye)},getErrorResponse:function(Ye,yt){return Nt[yt].getErrorResponse(Ye)}}}oe.__dashjs_factory_name="DRMToday";var ne=dashjs.FactoryMaker.getSingletonFactory(oe);function Oe(){var Dt="http://schemas.xmlsoap.org/soap/envelope/";function Rt(yt){var Je=String.fromCharCode.apply(null,new Uint8Array(yt));return decodeURIComponent(escape(Je))}function Nt(yt){if(window.DOMParser){var Je=Rt(yt),ht=new window.DOMParser().parseFromString(Je,"text/xml"),Bt=ht?ht.getElementsByTagNameNS(Dt,"Envelope")[0]:null,Gt=Bt?Bt.getElementsByTagNameNS(Dt,"Body")[0]:null;if(Gt&&Gt.getElementsByTagNameNS(Dt,"Fault")[0])return null}return yt}function Ye(yt){var Je="",ht="",Bt="",Gt=-1,on=-1;if(window.DOMParser){var an=Rt(yt),Kt=new window.DOMParser().parseFromString(an,"text/xml"),bt=Kt?Kt.getElementsByTagNameNS(Dt,"Envelope")[0]:null,rn=bt?bt.getElementsByTagNameNS(Dt,"Body")[0]:null,en=rn?rn.getElementsByTagNameNS(Dt,"Fault")[0]:null,gn=en?en.getElementsByTagName("detail")[0]:null,Rn=gn?gn.getElementsByTagName("Exception")[0]:null,kn=null;if(en===null)return an;Je=(kn=en.getElementsByTagName("faultstring")[0].firstChild)?kn.nodeValue:null,Rn!==null&&(ht=(kn=Rn.getElementsByTagName("StatusCode")[0])?kn.firstChild.nodeValue:null,Gt=(Bt=(kn=Rn.getElementsByTagName("Message")[0])?kn.firstChild.nodeValue:null)?Bt.lastIndexOf("[")+1:-1,on=Bt?Bt.indexOf("]"):-1,Bt=Bt?Bt.substring(Gt,on):"")}var ln="code: ".concat(ht,", name: ").concat(Je);return Bt&&(ln+=", message: ".concat(Bt)),ln}return{getServerURLFromMessage:function(yt){return yt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(yt){return Nt.call(this,yt)},getErrorResponse:function(yt){return Ye.call(this,yt)}}}Oe.__dashjs_factory_name="PlayReady";var nt=re.Z.getSingletonFactory(Oe);function je(){return{getServerURLFromMessage:function(Dt){return Dt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Dt){return Dt},getErrorResponse:function(Dt){return String.fromCharCode.apply(null,new Uint8Array(Dt))}}}je.__dashjs_factory_name="Widevine";var Ze=dashjs.FactoryMaker.getSingletonFactory(je);function Me(){return{getServerURLFromMessage:function(Dt){return Dt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Dt){if(!Dt.hasOwnProperty("keys"))return null;for(var Rt=[],Nt=0;Nt<Dt.keys.length;Nt++){var Ye=Dt.keys[Nt],yt=Ye.kid.replace(/=/g,""),Je=Ye.k.replace(/=/g,"");Rt.push(new J(yt,Je))}return new ge(Rt)},getErrorResponse:function(Dt){return String.fromCharCode.apply(null,new Uint8Array(Dt))}}}Me.__dashjs_factory_name="ClearKey";var He=dashjs.FactoryMaker.getSingletonFactory(Me);function at(){var Dt,Rt,Nt,Ye,yt,Je,ht,Bt,Gt=this.context;function on(bt,rn){return rn&&bt in rn?rn[bt]:null}function an(bt,rn){return bt&&bt.sessionId?bt.sessionId:rn&&rn.sessionId?rn.sessionId:null}function Kt(bt,rn){return bt&&bt.sessionType?bt.sessionType:rn}return Dt={initialize:function(){var bt;Ye=[],bt=M(Gt).getInstance({BASE64:yt,settings:Je}),Ye.push(bt),bt=Ae(Gt).getInstance({BASE64:yt}),Ye.push(bt),bt=xe(Gt).getInstance({BASE64:yt}),Ye.push(bt),ht=bt,bt=wt(Gt).getInstance({BASE64:yt,debug:Rt}),Ye.push(bt),Bt=bt},setProtectionData:function(bt){for(var rn,en,gn=0;gn<Ye.length;gn++){var Rn=Ye[gn];Rn.hasOwnProperty("init")&&Rn.init((rn=Rn.systemString,en=void 0,en=null,bt&&(en=rn in bt?bt[rn]:null),en))}},isClearKey:function(bt){return bt===ht||bt===Bt},initDataEquals:function(bt,rn){if(bt.byteLength===rn.byteLength){for(var en=new Uint8Array(bt),gn=new Uint8Array(rn),Rn=0;Rn<en.length;Rn++)if(en[Rn]!==gn[Rn])return!1;return!0}return!1},getKeySystems:function(){return Ye},setKeySystems:function(bt){Ye=bt},getKeySystemBySystemString:function(bt){for(var rn=0;rn<Ye.length;rn++)if(Ye[rn].systemString===bt)return Ye[rn];return null},getSupportedKeySystemsFromContentProtection:function(bt,rn,en){var gn,Rn,kn,ln,At=[];if(bt){var Ot=i.findCencContentProtection(bt);for(kn=0;kn<Ye.length;++kn){var Yt=on((Rn=Ye[kn]).systemString,rn);for(ln=0;ln<bt.length;++ln)if((gn=bt[ln]).schemeIdUri.toLowerCase()===Rn.schemeIdURI){var pn=Rn.getInitData(gn,Ot);At.push({ks:Ye[kn],keyId:gn.keyId,initData:pn,protData:Yt,cdmData:Rn.getCDMData(Yt?Yt.cdmData:null),sessionId:an(Yt,gn),sessionType:Kt(Yt,en)})}}}return At},getSupportedKeySystemsFromSegmentPssh:function(bt,rn,en){for(var gn,Rn=[],kn=i.parsePSSHList(bt),ln=0;ln<Ye.length;++ln){var At=on((gn=Ye[ln]).systemString,rn);gn.uuid in kn&&Rn.push({ks:gn,initData:kn[gn.uuid],protData:At,cdmData:gn.getCDMData(At?At.cdmData:null),sessionId:an(At),sessionType:Kt(At,en)})}return Rn},getLicenseServerModelInstance:function(bt,rn,en){if(en==="license-release"||en==="individualization-request")return null;var gn=null;return rn&&rn.hasOwnProperty("drmtoday")?gn=ne(Gt).getInstance({BASE64:yt}):bt.systemString===ae.WIDEVINE_KEYSTEM_STRING?gn=Ze(Gt).getInstance():bt.systemString===ae.PLAYREADY_KEYSTEM_STRING?gn=nt(Gt).getInstance():bt.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(gn=He(Gt).getInstance()),gn},processClearKeyLicenseRequest:function(bt,rn,en){try{return bt.getClearKeysFromProtectionData(rn,en)}catch{return Nt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(bt){bt&&(bt.debug&&(Rt=bt.debug,Nt=Rt.getLogger(Dt)),bt.BASE64&&(yt=bt.BASE64),bt.settings&&(Je=bt.settings))}},Dt}at.__dashjs_factory_name="ProtectionKeyController";var St=dashjs.FactoryMaker.getSingletonFactory(at);function dt(Dt){return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},dt(Dt)}function Vt(Dt,Rt){return Vt=Object.setPrototypeOf||function(Nt,Ye){return Nt.__proto__=Ye,Nt},Vt(Dt,Rt)}function Mt(Dt,Rt){return!Rt||dt(Rt)!=="object"&&typeof Rt!="function"?function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(Dt):Rt}function qt(Dt){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)},qt(Dt)}var jt=new(function(Dt){(function(Je,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(ht&&ht.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),ht&&Vt(Je,ht)})(yt,Dt);var Rt,Nt,Ye=(Rt=yt,Nt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Je,ht=qt(Rt);if(Nt){var Bt=qt(this).constructor;Je=Reflect.construct(ht,arguments,Bt)}else Je=ht.apply(this,arguments);return Mt(this,Je)});function yt(){var Je;return function(ht,Bt){if(!(ht instanceof Bt))throw new TypeError("Cannot call a class as a function")}(this,yt),(Je=Ye.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",Je.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",Je.KEY_ADDED="public_keyAdded",Je.KEY_ERROR="public_keyError",Je.KEY_MESSAGE="public_keyMessage",Je.KEY_SESSION_CLOSED="public_keySessionClosed",Je.KEY_SESSION_CREATED="public_keySessionCreated",Je.KEY_SESSION_REMOVED="public_keySessionRemoved",Je.KEY_STATUSES_CHANGED="public_keyStatusesChanged",Je.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",Je.KEY_SYSTEM_SELECTED="public_keySystemSelected",Je.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",Je.LICENSE_REQUEST_SENDING="public_licenseRequestSending",Je.NEED_KEY="needkey",Je.PROTECTION_CREATED="public_protectioncreated",Je.PROTECTION_DESTROYED="public_protectiondestroyed",Je.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",Je.TEARDOWN_COMPLETE="protectionTeardownComplete",Je.VIDEO_ELEMENT_SELECTED="videoElementSelected",Je.KEY_SESSION_UPDATED="public_keySessionUpdated",Je}return yt}(E(8342).Z)),hn=function Dt(Rt,Nt){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.initData=Rt,this.initDataType=Nt},bn=function Dt(Rt,Nt,Ye,yt){(function(Je,ht){if(!(Je instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.sessionToken=Rt,this.message=Nt,this.defaultURL=Ye,this.messageType=yt||"license-request"},qn=function Dt(Rt,Nt){(function(Ye,yt){if(!(Ye instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Dt),this.keySystem=Rt,this.ksConfiguration=Nt},Bn={};function zn(Dt){Dt=Dt||{};var Rt,Nt,Ye,yt,Je,ht,Bt,Gt,on=this.context,an=Dt.eventBus,Kt=Dt.events,bt=Dt.debug;function rn(At,Ot,Yt,pn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var En="Insecure origins are not allowed";return an.trigger(Kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:En}),void pn({error:En})}var On=At[Ot].protData&&At[Ot].protData.systemStringPriority?At[Ot].protData.systemStringPriority:null,Fn=At[Ot].configs,Ar=At[Ot].ks,wr=Ar.systemString;(function(Wn,hr){return new Promise(function(er,br){en(Wn,hr,0,er,br)})})(On||(Bn[wr]?Bn[wr]:[wr]),Fn).then(function(Wn){var hr=typeof Wn.getConfiguration=="function"?Wn.getConfiguration():null,er=new qn(Ar,hr);er.mksa=Wn,an.trigger(Kt.KEY_SYSTEM_ACCESS_COMPLETE,{data:er}),Yt({data:er})}).catch(function(Wn){if(Ot+1<At.length)rn(At,Ot+1,Yt,pn);else{var hr="Key system access denied! ";an.trigger(Kt.KEY_SYSTEM_ACCESS_COMPLETE,{error:hr+Wn.message}),pn({error:hr+Wn.message})}})}function en(At,Ot,Yt,pn,En){var On=At[Yt];Nt.debug("Requesting key system access for system string ".concat(On)),navigator.requestMediaKeySystemAccess(On,Ot).then(function(Fn){Fn.selectedSystemString=On,pn(Fn)}).catch(function(Fn){Yt+1<At.length?en(At,Ot,Yt+1,pn,En):En(Fn)})}function gn(At){if(!At||!At.session)return Promise.resolve;var Ot=At.session;return Ot.removeEventListener("keystatuseschange",At),Ot.removeEventListener("message",At),Ot.close()}function Rn(At){for(var Ot=0;Ot<ht.length;Ot++)if(ht[Ot]===At){ht.splice(Ot,1);break}}function kn(At){var Ot,Yt;return At&&At.length>0&&(At[0]&&(typeof At[0]=="string"?Ot=At[0]:Yt=At[0]),At[1]&&(typeof At[1]=="string"?Ot=At[1]:Yt=At[1])),{status:Ot,keyId:Yt}}function ln(At,Ot){var Yt={session:At,keyId:Ot.keyId,initData:Ot.initData,sessionId:Ot.sessionId,sessionType:Ot.sessionType,handleEvent:function(pn){switch(pn.type){case"keystatuseschange":an.trigger(Kt.KEY_STATUSES_CHANGED,{data:this}),pn.target.keyStatuses.forEach(function(){var On=kn(arguments);On.status==="expired"?an.trigger(Kt.INTERNAL_KEY_STATUS_CHANGED,{error:new f.Z(u.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,u.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):an.trigger(Kt.INTERNAL_KEY_STATUS_CHANGED,On)});break;case"message":var En=ArrayBuffer.isView(pn.message)?pn.message.buffer:pn.message;an.trigger(Kt.INTERNAL_KEY_MESSAGE,{data:new bn(this,En,void 0,pn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return At.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return At.expiration},getKeyStatuses:function(){return At.keyStatuses},getUsable:function(){var pn=!1;return At.keyStatuses.forEach(function(){var En=kn(arguments);En.status==="usable"&&(pn=!0)}),pn}};return At.addEventListener("keystatuseschange",Yt),At.addEventListener("message",Yt),At.closed.then(function(){Rn(Yt),Nt.debug("DRM: Session closed.  SessionID = "+Yt.getSessionId()),an.trigger(Kt.KEY_SESSION_CLOSED,{data:Yt.getSessionId()})}),ht.push(Yt),Yt}return Rt={getAllInitData:function(){for(var At=[],Ot=0;Ot<ht.length;Ot++)ht[Ot].initData&&At.push(ht[Ot].initData);return At},getSessions:function(){return ht},requestKeySystemAccess:function(At){return new Promise(function(Ot,Yt){rn(At,0,Ot,Yt)})},selectKeySystem:function(At){return new Promise(function(Ot,Yt){At.mksa.createMediaKeys().then(function(pn){return Ye=At.keySystem,Je=pn,yt?yt.setMediaKeys(Je):Promise.resolve()}).then(function(){Ot(Ye)}).catch(function(){Yt({error:"Error selecting keys system ("+At.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(At){yt!==At&&(yt&&(yt.removeEventListener("encrypted",Bt),yt.setMediaKeys&&yt.setMediaKeys(null)),(yt=At)&&(yt.addEventListener("encrypted",Bt),yt.setMediaKeys&&Je&&yt.setMediaKeys(Je)))},setServerCertificate:function(At){if(!Ye||!Je)throw new Error("Can not set server certificate until you have selected a key system");Je.setServerCertificate(At).then(function(){Nt.info("DRM: License server certificate successfully updated."),an.trigger(Kt.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ot){an.trigger(Kt.SERVER_CERTIFICATE_UPDATED,{error:new f.Z(u.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,u.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ot.name)})})},createKeySession:function(At){if(!Ye||!Je)throw new Error("Can not create sessions until you have selected a key system");var Ot=Je.createSession(At.sessionType),Yt=ln(Ot,At),pn=Ye.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(At.initData||At.protData&&At.protData.clearkeys)?ae.INITIALIZATION_DATA_TYPE_KEYIDS:ae.INITIALIZATION_DATA_TYPE_CENC;Ot.generateRequest(pn,At.initData).then(function(){Nt.debug("DRM: Session created.  SessionID = "+Yt.getSessionId()),an.trigger(Kt.KEY_SESSION_CREATED,{data:Yt})}).catch(function(En){Rn(Yt),an.trigger(Kt.KEY_SESSION_CREATED,{data:null,error:new f.Z(u.KEY_SESSION_CREATED_ERROR_CODE,u.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+En.name)})})},updateKeySession:function(At,Ot){var Yt=At.session;Gt.isClearKey(Ye)&&(Ot=Ot.toJWK()),Yt.update(Ot).then(function(){an.trigger(Kt.KEY_SESSION_UPDATED)}).catch(function(pn){an.trigger(Kt.KEY_ERROR,{error:new f.Z(u.MEDIA_KEYERR_CODE,"Error sending update() message! "+pn.name,At)})})},loadKeySession:function(At){if(!Ye||!Je)throw new Error("Can not load sessions until you have selected a key system");for(var Ot=At.sessionId,Yt=0;Yt<ht.length;Yt++)if(Ot===ht[Yt].sessionId)return void Nt.warn("DRM: Ignoring session ID because we have already seen it!");var pn=Je.createSession(At.sessionType),En=ln(pn,At);pn.load(Ot).then(function(On){On?(Nt.debug("DRM: Session loaded.  SessionID = "+En.getSessionId()),an.trigger(Kt.KEY_SESSION_CREATED,{data:En})):(Rn(En),an.trigger(Kt.KEY_SESSION_CREATED,{data:null,error:new f.Z(u.KEY_SESSION_CREATED_ERROR_CODE,u.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ot+")")}))}).catch(function(On){Rn(En),an.trigger(Kt.KEY_SESSION_CREATED,{data:null,error:new f.Z(u.KEY_SESSION_CREATED_ERROR_CODE,u.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ot+")! "+On.name)})})},removeKeySession:function(At){At.session.remove().then(function(){Nt.debug("DRM: Session removed.  SessionID = "+At.getSessionId()),an.trigger(Kt.KEY_SESSION_REMOVED,{data:At.getSessionId()})},function(Ot){an.trigger(Kt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+At.getSessionId()+"). "+Ot.name})})},closeKeySession:function(At){gn(At).catch(function(Ot){Rn(At),an.trigger(Kt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+At.getSessionId()+") "+Ot.name})})},stop:function(){for(var At,Ot=0;Ot<ht.length;Ot++)(At=ht[Ot]).getUsable()||(gn(At),Rn(At))},reset:function(){var At,Ot=ht.length;Ot!==0?function(){for(var Yt=function(En){Rn(En),ht.length===0&&(yt?(yt.removeEventListener("encrypted",Bt),yt.setMediaKeys(null).then(function(){an.trigger(Kt.TEARDOWN_COMPLETE)})):an.trigger(Kt.TEARDOWN_COMPLETE))},pn=0;pn<Ot;pn++)(function(En){gn(At),Yt(En)})(At=ht[pn])}():an.trigger(Kt.TEARDOWN_COMPLETE)}},Nt=bt.getLogger(Rt),Ye=null,yt=null,Je=null,ht=[],Gt=St(on).getInstance(),Bt={handleEvent:function(At){if(At.type==="encrypted"&&At.initData){var Ot=ArrayBuffer.isView(At.initData)?At.initData.buffer:At.initData;an.trigger(Kt.NEED_KEY,{key:new hn(Ot,At.initDataType)})}}},Rt}Bn[ae.PLAYREADY_KEYSTEM_STRING]=[ae.PLAYREADY_KEYSTEM_STRING,ae.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Bn[ae.WIDEVINE_KEYSTEM_STRING]=[ae.WIDEVINE_KEYSTEM_STRING],Bn[ae.CLEARKEY_KEYSTEM_STRING]=[ae.CLEARKEY_KEYSTEM_STRING],zn.__dashjs_factory_name="ProtectionModel_21Jan2015";var Er=dashjs.FactoryMaker.getClassFactory(zn);function xn(Dt){Dt=Dt||{};var Rt,Nt,Ye,yt,Je,ht,Bt,Gt,on,an=this.context,Kt=Dt.eventBus,bt=Dt.events,rn=Dt.debug,en=Dt.api;function gn(){try{for(var ln=0;ln<Bt.length;ln++)Rn(Bt[ln]);Ye&&Ye.removeEventListener(en.needkey,Gt),Kt.trigger(bt.TEARDOWN_COMPLETE)}catch(At){Kt.trigger(bt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+At.message})}}function Rn(ln){var At=ln.session;At.removeEventListener(en.error,ln),At.removeEventListener(en.message,ln),At.removeEventListener(en.ready,ln),At.removeEventListener(en.close,ln);for(var Ot=0;Ot<Bt.length;Ot++)if(Bt[Ot]===ln){Bt.splice(Ot,1);break}At[en.release]()}function kn(){var ln=null,At=function(){Ye.removeEventListener("loadedmetadata",ln),Ye[en.setMediaKeys](Je),Kt.trigger(bt.VIDEO_ELEMENT_SELECTED)};Ye.readyState>=1?At():(ln=At.bind(this),Ye.addEventListener("loadedmetadata",ln))}return Rt={getAllInitData:function(){for(var ln=[],At=0;At<Bt.length;At++)ln.push(Bt[At].initData);return ln},getSessions:function(){return Bt},requestKeySystemAccess:function(ln){return new Promise(function(At,Ot){for(var Yt=!1,pn=0;pn<ln.length;pn++)for(var En=ln[pn].ks.systemString,On=ln[pn].configs,Fn=null,Ar=null,wr=0;wr<On.length;wr++){var Wn=On[wr].audioCapabilities,hr=On[wr].videoCapabilities;if(Wn&&Wn.length!==0){Fn=[];for(var er=0;er<Wn.length;er++)window[en.MediaKeys].isTypeSupported(En,Wn[er].contentType)&&Fn.push(Wn[er])}if(hr&&hr.length!==0){Ar=[];for(var br=0;br<hr.length;br++)window[en.MediaKeys].isTypeSupported(En,hr[br].contentType)&&Ar.push(hr[br])}if(!(!Fn&&!Ar||Fn&&Fn.length===0||Ar&&Ar.length===0)){Yt=!0;var bo=new w(Fn,Ar),Ei=on.getKeySystemBySystemString(En),Mi=new qn(Ei,bo);Kt.trigger(bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Mi}),At({data:Mi});break}}if(!Yt){var xr="Key system access denied! -- No valid audio/video content configurations detected!";Kt.trigger(bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:xr}),Ot({error:xr})}})},selectKeySystem:function(ln){return new Promise(function(At,Ot){try{Je=ln.mediaKeys=new window[en.MediaKeys](ln.keySystem.systemString),yt=ln.keySystem,ht=ln,Ye&&kn(),At(yt)}catch{Ot({error:"Error selecting keys system ("+yt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(ln){Ye!==ln&&(Ye&&Ye.removeEventListener(en.needkey,Gt),(Ye=ln)&&(Ye.addEventListener(en.needkey,Gt),Je&&kn()))},createKeySession:function(ln){if(!yt||!Je||!ht)throw new Error("Can not create sessions until you have selected a key system");var At=null;if(ht.ksConfiguration.videoCapabilities&&ht.ksConfiguration.videoCapabilities.length>0&&(At=ht.ksConfiguration.videoCapabilities[0]),At===null&&ht.ksConfiguration.audioCapabilities&&ht.ksConfiguration.audioCapabilities.length>0&&(At=ht.ksConfiguration.audioCapabilities[0]),At===null)throw new Error("Can not create sessions for unknown content types.");var Ot=At.contentType,Yt=Je.createSession(Ot,new Uint8Array(ln.initData),ln.cdmData?new Uint8Array(ln.cdmData):null),pn=function(En,On){return{session:En,keyId:On.keyId,initData:On.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Fn){switch(Fn.type){case en.error:Kt.trigger(bt.KEY_ERROR,{error:new f.Z(u.MEDIA_KEYERR_CODE,"KeyError",this)});break;case en.message:var Ar=ArrayBuffer.isView(Fn.message)?Fn.message.buffer:Fn.message;Kt.trigger(bt.INTERNAL_KEY_MESSAGE,{data:new bn(this,Ar,Fn.destinationURL)});break;case en.ready:Nt.debug("DRM: Key added."),Kt.trigger(bt.KEY_ADDED);break;case en.close:Nt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Kt.trigger(bt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Yt,ln);Yt.addEventListener(en.error,pn),Yt.addEventListener(en.message,pn),Yt.addEventListener(en.ready,pn),Yt.addEventListener(en.close,pn),Bt.push(pn),Nt.debug("DRM: Session created.  SessionID = "+pn.getSessionId()),Kt.trigger(bt.KEY_SESSION_CREATED,{data:pn})},updateKeySession:function(ln,At){var Ot=ln.session;on.isClearKey(yt)?Ot.update(new Uint8Array(At.toJWK())):Ot.update(new Uint8Array(At)),Kt.trigger(bt.KEY_SESSION_UPDATED)},closeKeySession:Rn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:gn,reset:gn},Nt=rn.getLogger(Rt),Ye=null,yt=null,Je=null,ht=null,Bt=[],on=St(an).getInstance(),Gt={handleEvent:function(ln){if(ln.type===en.needkey&&ln.initData){var At=ArrayBuffer.isView(ln.initData)?ln.initData.buffer:ln.initData;Kt.trigger(bt.NEED_KEY,{key:new hn(At,"cenc")})}}},Rt}xn.__dashjs_factory_name="ProtectionModel_3Feb2014";var Hr=dashjs.FactoryMaker.getClassFactory(xn);function ur(Dt){Dt=Dt||{};var Rt,Nt,Ye,yt,Je,ht,Bt,Gt,on,an=this.context,Kt=Dt.eventBus,bt=Dt.events,rn=Dt.debug,en=Dt.api,gn=Dt.errHandler;function Rn(){Ye&&At();for(var Ot=0;Ot<Bt.length;Ot++)kn(Bt[Ot]);Kt.trigger(bt.TEARDOWN_COMPLETE)}function kn(Ot){try{Ye[en.cancelKeyRequest](yt.systemString,Ot.sessionId)}catch(Yt){Kt.trigger(bt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ot.sessionId+") "+Yt.message})}}function ln(Ot,Yt){if(Yt&&Ot){for(var pn=Ot.length,En=0;En<pn;En++)if(Ot[En].sessionId==Yt)return Ot[En];return null}return null}function At(){Ye.removeEventListener(en.keyerror,on),Ye.removeEventListener(en.needkey,on),Ye.removeEventListener(en.keymessage,on),Ye.removeEventListener(en.keyadded,on)}return Rt={getAllInitData:function(){for(var Ot=[],Yt=0;Yt<ht.length;Yt++)Ot.push(ht[Yt].initData);for(var pn=0;pn<Bt.length;pn++)Ot.push(Bt[pn].initData);return Ot},getSessions:function(){return Bt.concat(ht)},requestKeySystemAccess:function(Ot){return new Promise(function(Yt,pn){var En=Ye;En||(En=document.createElement("video"));for(var On=!1,Fn=0;Fn<Ot.length;Fn++)for(var Ar=Ot[Fn].ks.systemString,wr=Ot[Fn].configs,Wn=null,hr=0;hr<wr.length;hr++){var er=wr[hr].videoCapabilities;if(er&&er.length!==0){Wn=[];for(var br=0;br<er.length;br++)En.canPlayType(er[br].contentType,Ar)!==""&&Wn.push(er[br])}if(Wn&&(!Wn||Wn.length!==0)){On=!0;var bo=new w(null,Wn),Ei=Je.getKeySystemBySystemString(Ar),Mi=new qn(Ei,bo);Kt.trigger(bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Mi}),Yt({data:Mi});break}}if(!On){var xr="Key system access denied! -- No valid audio/video content configurations detected!";Kt.trigger(bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:xr}),pn({error:xr})}})},selectKeySystem:function(Ot){return yt=Ot.keySystem,Promise.resolve(yt)},setMediaElement:function(Ot){if(Ye!==Ot){if(Ye){At();for(var Yt=0;Yt<Bt.length;Yt++)kn(Bt[Yt]);Bt=[]}(Ye=Ot)&&(Ye.addEventListener(en.keyerror,on),Ye.addEventListener(en.needkey,on),Ye.addEventListener(en.keymessage,on),Ye.addEventListener(en.keyadded,on),Kt.trigger(bt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Ot){if(!yt)throw new Error("Can not create sessions until you have selected a key system");if(Gt||Bt.length===0){var Yt={sessionId:null,keyId:Ot.keyId,initData:Ot.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return ht.push(Yt),Ye[en.generateKeyRequest](yt.systemString,new Uint8Array(Ot.initData)),Yt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Ot,Yt){var pn=Ot.sessionId;if(Je.isClearKey(yt))for(var En=0;En<Yt.keyPairs.length;En++)Ye[en.addKey](yt.systemString,Yt.keyPairs[En].key,Yt.keyPairs[En].keyID,pn);else Ye[en.addKey](yt.systemString,new Uint8Array(Yt),new Uint8Array(Ot.initData),pn);Kt.trigger(bt.KEY_SESSION_UPDATED)},closeKeySession:kn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Rn,reset:Rn},Nt=rn.getLogger(Rt),Ye=null,yt=null,ht=[],Bt=[],Je=St(an).getInstance(),on={handleEvent:function(Ot){var Yt=null;switch(Ot.type){case en.needkey:var pn=ArrayBuffer.isView(Ot.initData)?Ot.initData.buffer:Ot.initData;Kt.trigger(bt.NEED_KEY,{key:new hn(pn,"cenc")});break;case en.keyerror:if((Yt=ln(Bt,Ot.sessionId))||(Yt=ln(ht,Ot.sessionId)),Yt){var En=u.MEDIA_KEYERR_CODE,On="";switch(Ot.errorCode.code){case 1:En=u.MEDIA_KEYERR_UNKNOWN_CODE,On+="MEDIA_KEYERR_UNKNOWN - "+u.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:En=u.MEDIA_KEYERR_CLIENT_CODE,On+="MEDIA_KEYERR_CLIENT - "+u.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:En=u.MEDIA_KEYERR_SERVICE_CODE,On+="MEDIA_KEYERR_SERVICE - "+u.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:En=u.MEDIA_KEYERR_OUTPUT_CODE,On+="MEDIA_KEYERR_OUTPUT - "+u.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:En=u.MEDIA_KEYERR_HARDWARECHANGE_CODE,On+="MEDIA_KEYERR_HARDWARECHANGE - "+u.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:En=u.MEDIA_KEYERR_DOMAIN_CODE,On+="MEDIA_KEYERR_DOMAIN - "+u.MEDIA_KEYERR_DOMAIN_MESSAGE}On+="  System Code = "+Ot.systemCode,Kt.trigger(bt.KEY_ERROR,{error:new f.Z(En,On,Yt)})}else Nt.error("No session token found for key error");break;case en.keyadded:(Yt=ln(Bt,Ot.sessionId))||(Yt=ln(ht,Ot.sessionId)),Yt?(Nt.debug("DRM: Key added."),Kt.trigger(bt.KEY_ADDED,{data:Yt})):Nt.debug("No session token found for key added");break;case en.keymessage:if((Gt=Ot.sessionId!==null&&Ot.sessionId!==void 0)?!(Yt=ln(Bt,Ot.sessionId))&&ht.length>0&&(Yt=ht.shift(),Bt.push(Yt),Yt.sessionId=Ot.sessionId,Kt.trigger(bt.KEY_SESSION_CREATED,{data:Yt})):ht.length>0&&(Yt=ht.shift(),Bt.push(Yt),ht.length!==0&&gn.error(new f.Z(u.MEDIA_KEY_MESSAGE_ERROR_CODE,u.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Yt){var Fn=ArrayBuffer.isView(Ot.message)?Ot.message.buffer:Ot.message;Yt.keyMessage=Fn,Kt.trigger(bt.INTERNAL_KEY_MESSAGE,{data:new bn(Yt,Fn,Ot.defaultURL)})}else Nt.warn("No session token found for key message")}}},Rt}ur.__dashjs_factory_name="ProtectionModel_01b";var Nr=dashjs.FactoryMaker.getClassFactory(ur),ai=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Cr=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function yi(){var Dt,Rt=this.context;function Nt(Ye,yt){for(var Je=0;Je<yt.length;Je++){var ht=yt[Je];if(typeof Ye[ht[Object.keys(ht)[0]]]=="function")return ht}return null}return Dt={createProtectionSystem:function(Ye){var yt=null,Je=St(Rt).getInstance();Je.setConfig({debug:Ye.debug,BASE64:Ye.BASE64,settings:Ye.settings}),Je.initialize();var ht=function(Bt){var Gt=Bt.debug,on=Gt.getLogger(Dt),an=Bt.eventBus,Kt=Bt.errHandler,bt=Bt.videoModel?Bt.videoModel.getElement():null;return bt&&bt.onencrypted===void 0||bt&&bt.mediaKeys===void 0?Nt(bt,Cr)?(on.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Hr(Rt).create({debug:Gt,eventBus:an,events:Bt.events,api:Nt(bt,Cr)})):Nt(bt,ai)?(on.info("EME detected on this user agent! (ProtectionModel_01b)"),Nr(Rt).create({debug:Gt,eventBus:an,errHandler:Kt,events:Bt.events,api:Nt(bt,ai)})):(on.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(on.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Er(Rt).create({debug:Gt,eventBus:an,events:Bt.events}))}(Ye);return!yt&&ht&&(yt=de(Rt).create({protectionModel:ht,protectionKeyController:Je,eventBus:Ye.eventBus,debug:Ye.debug,events:Ye.events,BASE64:Ye.BASE64,constants:Ye.constants,cmcdModel:Ye.cmcdModel,customParametersModel:Ye.customParametersModel,settings:Ye.settings}),Ye.capabilities.setEncryptedMediaSupported(!0)),yt}}}yi.__dashjs_factory_name="Protection";var vi=dashjs.FactoryMaker.getClassFactory(yi);vi.events=jt,vi.errors=u,dashjs.FactoryMaker.updateClassFactory(yi.__dashjs_factory_name,vi);var za=vi},2068:function(A,N,E){var P=E(5448),_={DEFAULT:.5,STRONG:1,WEAK:0};function i(w,T,c){var b,g;return b=w===void 0?-1:w,g=function(u){var f=_.DEFAULT;return u!==_.DEFAULT&&u!==_.STRONG&&u!==_.WEAK||(f=u),f}(c),{quality:b,reason:T===void 0?null:T,priority:g}}i.__dashjs_factory_name="SwitchRequest";var o=P.Z.getClassFactory(i);o.NO_CHANGE=-1,o.PRIORITY=_,P.Z.updateClassFactory(i.__dashjs_factory_name,o),N.Z=o},1767:function(A,N,E){var P=E(5628),_=E(6535),i=E(7423),o=E(895),w=E(6070),T=E(3112),c=E(1914),b=E(5435),g=E(5448),u=E(2068),f=E(3393),h="qualitySwitchRules",C="abandonFragmentRules";function B(U){U=U||{};var re,Z,te=this.context,de=U.mediaPlayerModel,J=U.customParametersModel,le=U.dashMetrics,ge=U.settings;function Ce(we){return we.filter(function(Pe){return Pe.quality>u.Z.NO_CHANGE})}function ae(we){var Pe,Ge,Re,xe,$e,it={},Ie=null;if(we.length!==0){for(it[u.Z.PRIORITY.STRONG]={quality:u.Z.NO_CHANGE,reason:null},it[u.Z.PRIORITY.WEAK]={quality:u.Z.NO_CHANGE,reason:null},it[u.Z.PRIORITY.DEFAULT]={quality:u.Z.NO_CHANGE,reason:null},Pe=0,Ge=we.length;Pe<Ge;Pe+=1)(Re=we[Pe]).quality!==u.Z.NO_CHANGE&&(it[Re.priority].quality===u.Z.NO_CHANGE||it[Re.priority].quality>Re.quality)&&(it[Re.priority].quality=Re.quality,it[Re.priority].reason=Re.reason||null);return it[u.Z.PRIORITY.WEAK].quality!==u.Z.NO_CHANGE&&(Ie=it[u.Z.PRIORITY.WEAK]),it[u.Z.PRIORITY.DEFAULT].quality!==u.Z.NO_CHANGE&&(Ie=it[u.Z.PRIORITY.DEFAULT]),it[u.Z.PRIORITY.STRONG].quality!==u.Z.NO_CHANGE&&(Ie=it[u.Z.PRIORITY.STRONG]),Ie&&(xe=Ie.quality,$e=Ie.reason),(0,u.Z)(te).create(xe,$e)}}return{initialize:function(){re=[],Z=[],ge.get().streaming.abr.useDefaultABRRules&&(ge.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_L2A?re.push((0,c.Z)(te).create({dashMetrics:le,settings:ge})):ge.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_LoLP?re.push((0,b.Z)(te).create({dashMetrics:le})):(re.push((0,T.Z)(te).create({dashMetrics:le,mediaPlayerModel:de,settings:ge})),re.push((0,P.Z)(te).create({dashMetrics:le})),ge.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&re.push((0,_.Z)(te).create({dashMetrics:le,settings:ge})),ge.get().streaming.abr.additionalAbrRules.switchHistoryRule&&re.push((0,w.Z)(te).create()),ge.get().streaming.abr.additionalAbrRules.droppedFramesRule&&re.push((0,o.Z)(te).create()),ge.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Z.push((0,i.Z)(te).create({dashMetrics:le,mediaPlayerModel:de,settings:ge})))),J.getAbrCustomRules().forEach(function(we){we.type===h&&re.push(we.rule(te).create()),we.type===C&&Z.push(we.rule(te).create())})},reset:function(){[re,Z].forEach(function(we){we&&we.length&&we.forEach(function(Pe){return Pe.reset&&Pe.reset()})}),re=[],Z=[]},getMaxQuality:function(we){return ae(Ce(re.map(function(Pe){return Pe.getMaxIndex(we)})))||(0,u.Z)(te).create()},getMinSwitchRequest:ae,shouldAbandonFragment:function(we,Pe){var Ge=ae(Ce(Z.map(function(Re){return Re.shouldAbandon(we,Pe)})));return Ge&&(Ge.reason.forceAbandon=!0),Ge||(0,u.Z)(te).create()},getQualitySwitchRules:function(){return re}}}B.__dashjs_factory_name="ABRRulesCollection";var G=g.Z.getClassFactory(B);G.QUALITY_SWITCH_RULES=h,G.ABANDON_FRAGMENT_RULES=C,g.Z.updateSingletonFactory(B.__dashjs_factory_name,G),N.Z=G},7423:function(A,N,E){var P=E(2068),_=E(5448),i=E(6398);function o(w){w=w||{};var T,c,b,g,u,f=this.context,h=w.mediaPlayerModel,C=w.dashMetrics,B=w.settings;function G(){b={},g={},u=[]}return T={shouldAbandon:function(U){var re=(0,P.Z)(f).create(P.Z.NO_CHANGE,{name:o.__dashjs_factory_name});if(!(U&&U.hasOwnProperty("getMediaInfo")&&U.hasOwnProperty("getMediaType")&&U.hasOwnProperty("getCurrentRequest")&&U.hasOwnProperty("getRepresentationInfo")&&U.hasOwnProperty("getAbrController")))return re;var Z,te,de=U.getMediaInfo(),J=U.getMediaType(),le=U.getStreamInfo(),ge=le?le.id:null,Ce=U.getCurrentRequest();if(!isNaN(Ce.index)){Z=J,te=Ce.index,b[Z]=b[Z]||{},b[Z][te]=b[Z][te]||{};var ae=h.getStableBufferTime();if(C.getCurrentBufferLevel(J)>ae)return re;var we=b[J][Ce.index];if(we===null||Ce.firstByteDate===null||g.hasOwnProperty(we.id))return re;if(we.firstByteTime===void 0&&(u[J]=[],we.firstByteTime=Ce.firstByteDate.getTime(),we.segmentDuration=Ce.duration,we.bytesTotal=Ce.bytesTotal,we.id=Ce.index),we.bytesLoaded=Ce.bytesLoaded,we.elapsedTime=new Date().getTime()-we.firstByteTime,we.bytesLoaded>0&&we.elapsedTime>0&&function(ke,wt){u[ke]=u[ke]||[],u[ke].push(wt)}(J,Math.round(8*we.bytesLoaded/we.elapsedTime)),u[J].length>=B.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&we.elapsedTime>B.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&we.bytesLoaded<we.bytesTotal){var Pe=u[J].reduce(function(ke,wt){return ke+wt},0);if(we.measuredBandwidthInKbps=Math.round(Pe/u[J].length),we.estimatedTimeOfDownload=+(8*we.bytesTotal/we.measuredBandwidthInKbps/1e3).toFixed(2),we.estimatedTimeOfDownload<we.segmentDuration*B.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||U.getRepresentationInfo().quality===0)return re;if(!g.hasOwnProperty(we.id)){var Ge=U.getAbrController(),Re=we.bytesTotal-we.bytesLoaded,xe=Ge.getBitrateList(de),$e=Ge.getQualityForBitrate(de,we.measuredBandwidthInKbps*B.get().streaming.abr.bandwidthSafetyFactor,ge),it=Ge.getMinAllowedIndexFor(J,ge),Ie=it!==void 0?Math.max(it,$e):$e;Re>we.bytesTotal*xe[Ie].bitrate/xe[Ge.getQualityFor(J,ge)].bitrate&&(re.quality=Ie,re.reason.throughput=we.measuredBandwidthInKbps,re.reason.fragmentID=we.id,re.reason.rule=this.getClassName(),g[we.id]=we,c.debug("["+J+"] frag id",we.id," is asking to abandon and switch to quality to ",Ie," measured bandwidth was",we.measuredBandwidthInKbps),delete b[J][we.id])}}else we.bytesLoaded===we.bytesTotal&&delete b[J][we.id]}return re},reset:G},c=(0,i.Z)(f).getInstance().getLogger(T),G(),T}o.__dashjs_factory_name="AbandonRequestsRule",N.Z=_.Z.getClassFactory(o)},3112:function(A,N,E){var P=E(3860),_=E(2068),i=E(5448),o=E(7855),w=E(5595),T=E(8512),c=E(6398),b=E(8825),g=E(3393),u=10;function f(h){h=h||{};var C,B,G,U=this.context,re=h.dashMetrics,Z=h.mediaPlayerModel,te=(0,w.Z)(U).getInstance();function de(Ie,ke,wt){var Et=wt.reduce(function(Te,Ae,Ve){return Ae>wt[Te]?Ve:Te},0);if(Et===0)return null;var ze=Math.max(Ie,u+2*ke.length),st=(wt[Et]-1)/(ze/u-1);return{gp:st,Vp:u/st}}function J(Ie){Ie.placeholderBuffer=0,Ie.mostAdvancedSegmentStart=NaN,Ie.lastSegmentWasReplacement=!1,Ie.lastSegmentStart=NaN,Ie.lastSegmentDurationS=NaN,Ie.lastSegmentRequestTimeMs=NaN,Ie.lastSegmentFinishTimeMs=NaN}function le(Ie,ke){var wt=Z.getStableBufferTime();if(Ie.stableBufferTime!==wt){var Et=de(wt,Ie.bitrates,Ie.utilities);if(Et.Vp!==Ie.Vp||Et.gp!==Ie.gp){var ze=re.getCurrentBufferLevel(ke),st=ze+Ie.placeholderBuffer;st-=u,st*=Et.Vp/Ie.Vp,st+=u,Ie.stableBufferTime=wt,Ie.Vp=Et.Vp,Ie.gp=Et.gp,Ie.placeholderBuffer=Math.max(0,st-ze)}}}function ge(Ie,ke){return Ie.Vp*(Ie.utilities[ke]+Ie.gp)}function Ce(Ie,ke){for(var wt=Ie.bitrates[ke],Et=Ie.utilities[ke],ze=0,st=ke-1;st>=0;--st)if(Ie.utilities[st]<Ie.utilities[ke]){var Te=Ie.bitrates[st],Ae=Ie.utilities[st],Ve=Ie.Vp*(Ie.gp+(wt*Ae-Te*Et)/(wt-Te));ze=Math.max(ze,Ve)}return ze}function ae(Ie){var ke=Ie.mediaType===g.Z.AUDIO?[g.Z.AUDIO]:G;for(var wt in ke)G.hasOwnProperty(wt)&&G[wt].state===2&&(G[wt].placeholderBuffer=0)}function we(){for(var Ie in G)if(G.hasOwnProperty(Ie)){var ke=G[Ie];ke.state!==0&&(ke.state=1,J(ke))}}function Pe(Ie){if(Ie&&Ie.chunk&&Ie.chunk.mediaInfo){var ke=G[Ie.chunk.mediaInfo.type];if(ke&&ke.state!==0){var wt=Ie.chunk.start;isNaN(ke.mostAdvancedSegmentStart)||wt>ke.mostAdvancedSegmentStart?(ke.mostAdvancedSegmentStart=wt,ke.lastSegmentWasReplacement=!1):ke.lastSegmentWasReplacement=!0,ke.lastSegmentStart=wt,ke.lastSegmentDurationS=Ie.chunk.duration,ke.lastQuality=Ie.chunk.quality,Re(ke,Ie.chunk.mediaInfo.type)}}}function Ge(Ie){if(Ie&&Ie.metric===P.Z.HTTP_REQUEST&&Ie.value&&Ie.value.type===o.w.MEDIA_SEGMENT_TYPE&&Ie.value.trace&&Ie.value.trace.length){var ke=G[Ie.mediaType];ke&&ke.state!==0&&(ke.lastSegmentRequestTimeMs=Ie.value.trequest.getTime(),ke.lastSegmentFinishTimeMs=Ie.value._tfinish.getTime(),Re(ke,Ie.mediaType))}}function Re(Ie,ke){if(!isNaN(Ie.lastSegmentStart)&&!isNaN(Ie.lastSegmentRequestTimeMs)&&!isNaN(Ie.placeholderBuffer)){if(Ie.placeholderBuffer*=.99,!isNaN(Ie.lastSegmentFinishTimeMs)){var wt=re.getCurrentBufferLevel(ke)+.001*(Ie.lastSegmentFinishTimeMs-Ie.lastSegmentRequestTimeMs),Et=ge(Ie,Ie.lastQuality),ze=Math.max(0,Et-wt);Ie.placeholderBuffer=Math.min(ze,Ie.placeholderBuffer)}Ie.lastSegmentWasReplacement&&!isNaN(Ie.lastSegmentDurationS)&&(Ie.placeholderBuffer+=Ie.lastSegmentDurationS),Ie.lastSegmentStart=NaN,Ie.lastSegmentRequestTimeMs=NaN}}function xe(Ie){if(Ie){var ke=G[Ie.mediaType];ke&&ke.state!==0&&(ke.abrQuality=Ie.newQuality)}}function $e(Ie){if(Ie){var ke=G[Ie.mediaType];if(ke&&ke.state!==0){var wt,Et=re.getCurrentBufferLevel(Ie.mediaType);wt=ke.abrQuality>0?Ce(ke,ke.abrQuality):u;var ze=Math.max(0,wt-Et);ke.placeholderBuffer=Math.min(ke.placeholderBuffer,ze)}}}function it(){G={}}return C={getMaxIndex:function(Ie){var ke=(0,_.Z)(U).create();if(!(Ie&&Ie.hasOwnProperty("getMediaInfo")&&Ie.hasOwnProperty("getMediaType")&&Ie.hasOwnProperty("getScheduleController")&&Ie.hasOwnProperty("getStreamInfo")&&Ie.hasOwnProperty("getAbrController")&&Ie.hasOwnProperty("useBufferOccupancyABR")))return ke;var wt=Ie.getMediaInfo(),Et=Ie.getMediaType(),ze=Ie.getScheduleController(),st=Ie.getStreamInfo(),Te=Ie.getAbrController(),Ae=Te.getThroughputHistory(),Ve=st?st.id:null,S=st&&st.manifestInfo&&st.manifestInfo.isDynamic,m=Ie.useBufferOccupancyABR();if(ke.reason=ke.reason||{},!m)return ke;ze.setTimeToLoadDelay(0);var O=function(Me){var He=Me.getMediaType(),at=G[He];return at?at.state!==0&&le(at,He):(at=function(St){var dt={},Vt=St.getMediaInfo().bitrateList.map(function(hn){return hn.bandwidth}),Mt=function(hn){return hn.map(function(bn){return Math.log(bn)})}(Vt);Mt=Mt.map(function(hn){return hn-Mt[0]+1});var qt=Z.getStableBufferTime(),jt=de(qt,Vt,Mt);return jt?(dt.state=1,dt.bitrates=Vt,dt.utilities=Mt,dt.stableBufferTime=qt,dt.Vp=jt.Vp,dt.gp=jt.gp,dt.lastQuality=0,J(dt)):dt.state=0,dt}(Me),G[He]=at),at}(Ie);if(O.state===0)return ke;var M,oe=re.getCurrentBufferLevel(Et),ne=Ae.getAverageThroughput(Et,S),Oe=Ae.getSafeAverageThroughput(Et,S),nt=Ae.getAverageLatency(Et);if(ke.reason.state=O.state,ke.reason.throughput=ne,ke.reason.latency=nt,isNaN(ne))return ke;switch(O.state){case 1:M=Te.getQualityForBitrate(wt,Oe,Ve,nt),ke.quality=M,ke.reason.throughput=Oe,O.placeholderBuffer=Math.max(0,Ce(O,M)-oe),O.lastQuality=M,!isNaN(O.lastSegmentDurationS)&&oe>=O.lastSegmentDurationS&&(O.state=2);break;case 2:(function(Me,He){var at=Date.now();if(isNaN(Me.lastSegmentFinishTimeMs)){if(!isNaN(Me.lastCallTimeMs)){var St=.001*(at-Me.lastCallTimeMs);Me.placeholderBuffer+=Math.max(0,St)}}else{var dt=.001*(at-Me.lastSegmentFinishTimeMs);Me.placeholderBuffer+=Math.max(0,dt)}Me.lastCallTimeMs=at,Me.lastSegmentStart=NaN,Me.lastSegmentRequestTimeMs=NaN,Me.lastSegmentFinishTimeMs=NaN,le(Me,He)})(O,Et),M=function(Me,He){for(var at=Me.bitrates.length,St=NaN,dt=NaN,Vt=0;Vt<at;++Vt){var Mt=(Me.Vp*(Me.utilities[Vt]+Me.gp)-He)/Me.bitrates[Vt];(isNaN(dt)||Mt>=dt)&&(dt=Mt,St=Vt)}return St}(O,oe+O.placeholderBuffer);var je=Te.getQualityForBitrate(wt,Oe,Ve,nt);M>O.lastQuality&&M>je&&(M=Math.max(je,O.lastQuality));var Ze=Math.max(0,oe+O.placeholderBuffer-ge(O,M));Ze<=O.placeholderBuffer?(O.placeholderBuffer-=Ze,Ze=0):(Ze-=O.placeholderBuffer,O.placeholderBuffer=0,M<Te.getMaxAllowedIndexFor(Et,Ve)?ze.setTimeToLoadDelay(1e3*Ze):Ze=0),ke.quality=M,ke.reason.throughput=ne,ke.reason.latency=nt,ke.reason.bufferLevel=oe,ke.reason.placeholderBuffer=O.placeholderBuffer,ke.reason.delay=Ze,O.lastQuality=M;break;default:B.debug("BOLA ABR rule invoked in bad state."),ke.quality=Te.getQualityForBitrate(wt,Oe,Ve,nt),ke.reason.state=O.state,ke.reason.throughput=Oe,ke.reason.latency=nt,O.state=1,J(O)}return ke},reset:function(){it(),te.off(b.Z.BUFFER_EMPTY,ae,C),te.off(b.Z.PLAYBACK_SEEKING,we,C),te.off(b.Z.METRIC_ADDED,Ge,C),te.off(b.Z.QUALITY_CHANGE_REQUESTED,xe,C),te.off(b.Z.FRAGMENT_LOADING_ABANDONED,$e,C),te.off(T.Z.MEDIA_FRAGMENT_LOADED,Pe,C)}},B=(0,c.Z)(U).getInstance().getLogger(C),it(),te.on(b.Z.BUFFER_EMPTY,ae,C),te.on(b.Z.PLAYBACK_SEEKING,we,C),te.on(b.Z.METRIC_ADDED,Ge,C),te.on(b.Z.QUALITY_CHANGE_REQUESTED,xe,C),te.on(b.Z.FRAGMENT_LOADING_ABANDONED,$e,C),te.on(T.Z.MEDIA_FRAGMENT_LOADED,Pe,C),C}f.__dashjs_factory_name="BolaRule",N.Z=i.Z.getClassFactory(f)},895:function(A,N,E){var P=E(5448),_=E(2068),i=E(6398);function o(){var w,T,c=this.context;return w={getMaxIndex:function(b){var g=(0,_.Z)(c).create();if(!b||!b.hasOwnProperty("getDroppedFramesHistory"))return g;var u=b.getDroppedFramesHistory(),f=b.getStreamInfo().id;if(u){var h=u.getFrameHistory(f);if(!h||h.length===0)return g;for(var C=0,B=0,G=_.Z.NO_CHANGE,U=1;U<h.length;U++)if(h[U]&&(C=h[U].droppedVideoFrames,(B=h[U].totalVideoFrames)>375&&C/B>.15)){G=U-1,T.debug("index: "+G+" Dropped Frames: "+C+" Total Frames: "+B);break}return(0,_.Z)(c).create(G,{droppedFrames:C})}return g}},T=(0,i.Z)(c).getInstance().getLogger(w),w}o.__dashjs_factory_name="DroppedFramesRule",N.Z=P.Z.getClassFactory(o)},6535:function(A,N,E){var P=E(5595),_=E(8512),i=E(5448),o=E(6398),w=E(2068),T=E(3393),c=E(3860),b=E(8825);function g(u){u=u||{};var f,h,C,B=this.context,G=(0,P.Z)(B).getInstance(),U=u.dashMetrics;function re(){(C={})[T.Z.VIDEO]={ignoreCount:2},C[T.Z.AUDIO]={ignoreCount:2}}function Z(){re()}function te(de){isNaN(de.startTime)||de.mediaType!==T.Z.AUDIO&&de.mediaType!==T.Z.VIDEO||C[de.mediaType].ignoreCount>0&&C[de.mediaType].ignoreCount--}return f={getMaxIndex:function(de){var J=(0,w.Z)(B).create();if(!de||!de.hasOwnProperty("getMediaType"))return J;(function(){if(!U||!U.hasOwnProperty("getCurrentBufferLevel")||!U.hasOwnProperty("getCurrentBufferState"))throw new Error(T.Z.MISSING_CONFIG_ERROR)})();var le=de.getMediaType(),ge=U.getCurrentBufferState(le),Ce=de.getRepresentationInfo().fragmentDuration,ae=de.getStreamInfo(),we=ae?ae.id:null,Pe=de.getScheduleController(),Ge=ae&&ae.manifestInfo&&ae.manifestInfo.isDynamic;if(function(Et,ze){return!Et&&C[ze].ignoreCount>0}(Pe.getPlaybackController().getLowLatencyModeEnabled(),le)||!Ce)return J;if(ge&&ge.state===c.Z.BUFFER_EMPTY)h.debug("["+le+"] Switch to index 0; buffer is empty."),J.quality=0,J.reason="InsufficientBufferRule: Buffer is empty";else{var Re=de.getMediaInfo(),xe=de.getAbrController(),$e=xe.getThroughputHistory(),it=U.getCurrentBufferLevel(le),Ie=$e.getAverageThroughput(le,Ge),ke=$e.getAverageLatency(le),wt=Ie*(it/Ce)*.5;J.quality=xe.getQualityForBitrate(Re,wt,we,ke),J.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return J},reset:function(){re(),G.off(b.Z.PLAYBACK_SEEKING,Z,f),G.off(_.Z.BYTES_APPENDED_END_FRAGMENT,te,f)}},h=(0,o.Z)(B).getInstance().getLogger(f),re(),G.on(b.Z.PLAYBACK_SEEKING,Z,f),G.on(_.Z.BYTES_APPENDED_END_FRAGMENT,te,f),f}g.__dashjs_factory_name="InsufficientBufferRule",N.Z=i.Z.getClassFactory(g)},1914:function(A,N,E){var P=E(3860),_=E(2068),i=E(5448),o=E(7855),w=E(5595),T=E(8512),c=E(6398),b=E(3393);function g(u){u=u||{};var f,h,C,B,G=this.context,U=u.dashMetrics,re=(0,w.Z)(G).getInstance();function Z(we){we.placeholderBuffer=0,we.mostAdvancedSegmentStart=NaN,we.lastSegmentWasReplacement=!1,we.lastSegmentStart=NaN,we.lastSegmentDurationS=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN,we.lastSegmentUrl=""}function te(){for(var we in h)if(h.hasOwnProperty(we)){var Pe=h[we];Pe.state!==0&&(Pe.state=1,Z(Pe))}}function de(we){if(we&&we.chunk&&we.chunk.mediaInfo){var Pe=h[we.chunk.mediaInfo.type],Ge=C[we.chunk.mediaInfo.type];if(Pe&&Pe.state!==0){var Re=we.chunk.start;isNaN(Pe.mostAdvancedSegmentStart)||Re>Pe.mostAdvancedSegmentStart?(Pe.mostAdvancedSegmentStart=Re,Pe.lastSegmentWasReplacement=!1):Pe.lastSegmentWasReplacement=!0,Pe.lastSegmentStart=Re,Pe.lastSegmentDurationS=we.chunk.duration,Pe.lastQuality=we.chunk.quality,le(Pe,Ge)}}}function J(we){if(we&&we.metric===P.Z.HTTP_REQUEST&&we.value&&we.value.type===o.w.MEDIA_SEGMENT_TYPE&&we.value.trace&&we.value.trace.length){var Pe=h[we.mediaType],Ge=C[we.mediaType];Pe&&Pe.state!==0&&(Pe.lastSegmentRequestTimeMs=we.value.trequest.getTime(),Pe.lastSegmentFinishTimeMs=we.value._tfinish.getTime(),le(Pe,Ge))}}function le(we,Pe){isNaN(we.lastSegmentStart)||isNaN(we.lastSegmentRequestTimeMs)||(Pe.segment_request_start_s=.001*we.lastSegmentRequestTimeMs,Pe.segment_download_finish_s=.001*we.lastSegmentFinishTimeMs,we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN)}function ge(we){if(we&&we.mediaType){var Pe=h[we.mediaType];Pe&&Pe.state!==0&&(Pe.abrQuality=we.newQuality)}}function Ce(we,Pe){if(we.length!==Pe.length)return-1;for(var Ge=0,Re=0;Re<we.length;Re++)Ge+=we[Re]*Pe[Re];return Ge}function ae(){h={},C={}}return f={getMaxIndex:function(we){var Pe,Ge=(0,_.Z)(G).create(),Re=Math.pow(4,.99),xe=Math.max(Math.pow(4,1),Re*Math.sqrt(4)),$e=we.getMediaInfo(),it=we.getMediaType(),Ie=$e.bitrateList.map(function(jt){return jt.bandwidth}),ke=Ie.length,wt=we.getScheduleController(),Et=we.getStreamInfo(),ze=we.getAbrController(),st=ze.getThroughputHistory(),Te=Et&&Et.manifestInfo&&Et.manifestInfo.isDynamic,Ae=we.useL2AABR(),Ve=U.getCurrentBufferLevel(it,!0),S=st.getSafeAverageThroughput(it,Te),m=st.getAverageThroughput(it,Te),O=st.getAverageLatency(it),M=we.getVideoModel().getPlaybackRate();if(!(we&&we.hasOwnProperty("getMediaInfo")&&we.hasOwnProperty("getMediaType")&&we.hasOwnProperty("getScheduleController")&&we.hasOwnProperty("getStreamInfo")&&we.hasOwnProperty("getAbrController")&&we.hasOwnProperty("useL2AABR"))||(Ge.reason=Ge.reason||{},!Ae||it===b.Z.AUDIO))return Ge;wt.setTimeToLoadDelay(0);var oe=function(jt){var hn=jt.getMediaType(),bn=h[hn];return bn||(bn=function(qn){var Bn={},zn=qn.getMediaInfo(),Er=zn.bitrateList.map(function(xn){return xn.bandwidth/1e3});return Bn.state=1,Bn.bitrates=Er,Bn.lastQuality=0,function(xn){xn&&xn.type&&(C[xn.type]={},C[xn.type].w=[],C[xn.type].prev_w=[],C[xn.type].Q=0,C[xn.type].segment_request_start_s=0,C[xn.type].segment_download_finish_s=0,C[xn.type].B_target=1.5)}(zn),Z(Bn),Bn}(jt),h[hn]=bn),bn}(we);if(oe.state===0)return Ge;var ne=C[it];if(!ne||(Ge.reason.state=oe.state,Ge.reason.throughput=m,Ge.reason.latency=O,isNaN(m)))return Ge;switch(oe.state){case 1:if(Pe=ze.getQualityForBitrate($e,S,Et.id,O),Ge.quality=Pe,Ge.reason.throughput=S,oe.lastQuality=Pe,!isNaN(oe.lastSegmentDurationS)&&Ve>=ne.B_target){oe.state=2,ne.Q=Re;for(var Oe=0;Oe<ke;++Oe)Oe===oe.lastQuality?ne.prev_w[Oe]=1:ne.prev_w[Oe]=0}break;case 2:var nt=[],je=U.getCurrentHttpRequest(it).trace.reduce(function(jt,hn){return jt+hn.d},0),Ze=U.getCurrentHttpRequest(it).trace.reduce(function(jt,hn){return jt+hn.b[0]},0),Me=Math.round(8*Ze/je),He=U.getCurrentHttpRequest(it);if(Me<1&&(Me=1),He.url===oe.lastSegmentUrl||He.type===o.w.INIT_SEGMENT_TYPE)Pe=oe.lastQuality;else{for(var at=oe.lastSegmentDurationS,St=1,dt=0;dt<ke;++dt)Ie[dt]=Ie[dt]/1e3,M*Ie[dt]>Me&&(St=-1),ne.w[dt]=ne.prev_w[dt]+St*(at/(2*xe))*((ne.Q+Re)*(M*Ie[dt]/Me));ne.w=function(jt){for(var hn=jt.length,bn=!1,qn=[],Bn=0;Bn<hn;++Bn)qn[Bn]=jt[Bn];for(var zn=jt.sort(function(ai,Cr){return Cr-ai}),Er=0,xn=0,Hr=[],ur=0;ur<hn-1;++ur)if((xn=((Er+=zn[ur])-1)/(ur+1))>=zn[ur+1]){bn=!0;break}bn||(xn=(Er+zn[hn-1]-1)/hn);for(var Nr=0;Nr<hn;++Nr)Hr[Nr]=Math.max(qn[Nr]-xn,0);return Hr}(ne.w);for(var Vt=0;Vt<ke;++Vt)nt[Vt]=ne.w[Vt]-ne.prev_w[Vt],ne.prev_w[Vt]=ne.w[Vt];ne.Q=Math.max(0,ne.Q-at+at*M*((Ce(Ie,ne.prev_w)+Ce(Ie,nt))/Me));for(var Mt=[],qt=0;qt<ke;++qt)Mt[qt]=Math.abs(Ie[qt]-Ce(ne.w,Ie));(Pe=Mt.indexOf(Math.min.apply(Math,Mt)))>oe.lastQuality&&Ie[oe.lastQuality+1]<=Me&&(Pe=oe.lastQuality+1),Ie[Pe]>=Me&&(ne.Q=2*Math.max(Re,ne.Q)),oe.lastSegmentUrl=He.url}Ge.quality=Pe,Ge.reason.throughput=m,Ge.reason.latency=O,Ge.reason.bufferLevel=Ve,oe.lastQuality=Ge.quality;break;default:B.debug("L2A ABR rule invoked in bad state."),Ge.quality=ze.getQualityForBitrate($e,S,Et.id,O),Ge.reason.state=oe.state,Ge.reason.throughput=S,Ge.reason.latency=O,oe.state=1,Z(oe)}return Ge},reset:function(){ae(),re.off(T.Z.PLAYBACK_SEEKING,te,f),re.off(T.Z.MEDIA_FRAGMENT_LOADED,de,f),re.off(T.Z.METRIC_ADDED,J,f),re.off(T.Z.QUALITY_CHANGE_REQUESTED,ge,f)}},B=(0,c.Z)(G).getInstance().getLogger(f),ae(),re.on(T.Z.PLAYBACK_SEEKING,te,f),re.on(T.Z.MEDIA_FRAGMENT_LOADED,de,f),re.on(T.Z.METRIC_ADDED,J,f),re.on(T.Z.QUALITY_CHANGE_REQUESTED,ge,f),f}g.__dashjs_factory_name="L2ARule",N.Z=i.Z.getClassFactory(g)},6070:function(A,N,E){var P=E(5448),_=E(6398),i=E(2068);function o(){var w,T,c=this.context;return w={getMaxIndex:function(b){for(var g=b?b.getSwitchHistory():null,u=g?g.getSwitchRequests():[],f=0,h=0,C=0,B=(0,i.Z)(c).create(),G=0;G<u.length;G++)if(u[G]!==void 0&&(f+=u[G].drops,h+=u[G].noDrops,C+=u[G].dropSize,f+h>=6&&f/h>.075)){B.quality=G>0&&u[G].drops>0?G-1:G,B.reason={index:B.quality,drops:f,noDrops:h,dropSize:C},T.debug("Switch history rule index: "+B.quality+" samples: "+(f+h)+" drops: "+f);break}return B}},T=(0,_.Z)(c).getInstance().getLogger(w),w}o.__dashjs_factory_name="SwitchHistoryRule",N.Z=P.Z.getClassFactory(o)},5628:function(A,N,E){var P=E(5448),_=E(2068),i=E(3393),o=E(3860);function w(T){T=T||{};var c=this.context,b=T.dashMetrics;return{getMaxIndex:function(g){var u=(0,_.Z)(c).create();if(!(g&&g.hasOwnProperty("getMediaInfo")&&g.hasOwnProperty("getMediaType")&&g.hasOwnProperty("useBufferOccupancyABR")&&g.hasOwnProperty("getAbrController")&&g.hasOwnProperty("getScheduleController")))return u;(function(){if(!b||!b.hasOwnProperty("getCurrentBufferState"))throw new Error(i.Z.MISSING_CONFIG_ERROR)})();var f=g.getMediaInfo(),h=g.getMediaType(),C=b.getCurrentBufferState(h),B=g.getScheduleController(),G=g.getAbrController(),U=g.getStreamInfo(),re=U?U.id:null,Z=U&&U.manifestInfo?U.manifestInfo.isDynamic:null,te=G.getThroughputHistory(),de=te.getSafeAverageThroughput(h,Z),J=te.getAverageLatency(h),le=g.useBufferOccupancyABR();return isNaN(de)||!C||le||G.getAbandonmentStateFor(re,h)!==o.Z.ABANDON_LOAD&&(C.state===o.Z.BUFFER_LOADED||Z)&&(u.quality=G.getQualityForBitrate(f,de,re,J),B.setTimeToLoadDelay(0),u.reason={throughput:de,latency:J}),u},reset:function(){}}}w.__dashjs_factory_name="ThroughputRule",N.Z=P.Z.getClassFactory(w)},4722:function(A,N,E){var P=E(5448),_=E(6398);function i(){var o,w,T,c,b,g,u,f,h,C=this.context;function B(){T=null,c=1,b=100,g=0,u=null,f=null,h="dynamic_weight_selection"}function G(){var de=0;if(T)for(var J=0;J<T.length;J++){var le=T[J];le.state.throughput>de&&(de=le.state.throughput)}return de}function U(de,J,le){var ge=de.map(function(Ce,ae){return le[ae]*Math.pow(Ce-J[ae],2)}).reduce(function(Ce,ae){return Ce+ae});return(ge<0?-1:1)*Math.sqrt(Math.abs(ge))}function re(de,J){return U([de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[J.state.throughput,J.state.latency,J.state.rebuffer,J.state.switch],[1,1,1,1])}function Z(de,J,le){for(var ge=0;ge<J.length;ge++){var Ce=J[ge],ae=re(Ce,de);te(Ce,le,Math.exp(-1*Math.pow(ae,2)/(2*Math.pow(.1,2))))}}function te(de,J,le){var ge=de.state,Ce=[.01,.01,.01,.01];ge.throughput=ge.throughput+(J[0]-ge.throughput)*Ce[0]*le,ge.latency=ge.latency+(J[1]-ge.latency)*Ce[1]*le,ge.rebuffer=ge.rebuffer+(J[2]-ge.rebuffer)*Ce[2]*le,ge.switch=ge.switch+(J[3]-ge.switch)*Ce[3]*le}return o={getNextQuality:function(de,J,le,ge,Ce,ae,we){var Pe=le,Ge=ge,Re=J,xe=function(ne){if(!T){T=[];var Oe=ne.bitrateList,nt=[];g=Oe[0].bandwidth,Oe.forEach(function(He){nt.push(He.bandwidth),He.bandwidth<g&&(g=He.bandwidth)}),Me=nt.map(function(He){return Math.pow(He,2)}).reduce(function(He,at){return He+at}),c=Math.sqrt(Me);for(var je=0;je<Oe.length;je++){var Ze={qualityIndex:je,bitrate:Oe[je].bandwidth,state:{throughput:Oe[je].bandwidth/c,latency:0,rebuffer:0,switch:0}};T.push(Ze)}f=function(He){var at=[],St=function(za){for(var Dt=[],Rt=0;Rt<za;Rt++){var Nt=[Math.random()*G(),Math.random(),Math.random(),Math.random()];Dt.push(Nt)}return Dt}(Math.pow(He.length,2));at.push(St[0]);for(var dt=[1,1,1,1],Vt=1;Vt<He.length;Vt++){for(var Mt=null,qt=null,jt=0;jt<St.length;jt++){for(var hn=St[jt],bn=null,qn=0;qn<at.length;qn++){var Bn=U(hn,at[qn],dt);(bn===null||Bn<bn)&&(bn=Bn)}(qt===null||bn>qt)&&(Mt=hn,qt=bn)}at.push(Mt)}for(var zn=null,Er=null,xn=0;xn<at.length;xn++){for(var Hr=0,ur=0;ur<at.length;ur++)xn!==ur&&(Hr+=U(at[xn],at[ur],dt));(zn===null||Hr>zn)&&(zn=Hr,Er=xn)}var Nr=[];for(Nr.push(at[Er]),at.splice(Er,1);at.length>0;){for(var ai=null,Cr=null,yi=0;yi<at.length;yi++){var vi=U(Nr[0],at[yi],dt);(ai===null||vi<ai)&&(ai=vi,Cr=yi)}Nr.push(at[Cr]),at.splice(Cr,1)}return Nr}(T)}var Me;return T}(de),$e=J/c;$e>1&&($e=G()),le/=b,w.debug("getNextQuality called throughput:".concat($e," latency:").concat(le," bufferSize:").concat(ge," currentQualityIndex:").concat(ae," playbackRate:").concat(Ce));var it=xe[ae],Ie=it.bitrate*we.getSegmentDuration()/Re,ke=Math.max(0,Ie-Ge);if(Ge-Ie<we.getMinBuffer())return w.debug("Buffer is low for bitrate= ".concat(it.bitrate," downloadTime=").concat(Ie," currentBuffer=").concat(Ge," rebuffer=").concat(ke)),function(ne,Oe){var nt=0,je=ne;if(T)for(var Ze=0;Ze<T.length;Ze++){var Me=T[Ze];Me.bitrate<ne.bitrate&&Me.bitrate>nt&&Oe>Me.bitrate&&(nt=Me.bitrate,je=Me)}return je}(it,Re).qualityIndex;switch(h){case"manual_weight_selection":u=[.4,.4,.4,.4];break;case"random_weight_selection":(function(ne){u=function(Oe,nt){for(var je=[],Ze=Math.sqrt(2/Oe),Me=0;Me<4;Me++)je.push(Math.random()*Ze);return u=je}(ne.length)})(xe);break;default:(function(ne,Oe,nt,je,Ze,Me,He){u||(u=f[f.length-1]);var at=ne.findWeightVector(Oe,nt,je,Ze,Me,He);at!==null&&at!==-1&&(u=at)})(we,xe,Pe,Ge,ke,Re,Ce)}for(var wt=null,Et=null,ze=null,st=0;st<xe.length;st++){var Te=xe[st],Ae=Te.state,Ve=[Ae.throughput,Ae.latency,Ae.rebuffer,Ae.switch],S=u.slice(),m=we.getNextBufferWithBitrate(Te.bitrate,Ge,Re),O=m<we.getMinBuffer();O&&w.debug("Buffer is low for bitrate=".concat(Te.bitrate," downloadTime=").concat(Ie," currentBuffer=").concat(Ge," nextBuffer=").concat(m)),(Te.bitrate>J-1e4||O)&&Te.bitrate!==g&&(S[0]=100);var M=U(Ve,[$e,0,0,0],S);(wt===null||M<wt)&&(wt=M,Et=Te.qualityIndex,ze=Te)}var oe=Math.abs(it.bitrate-ze.bitrate)/c;return Z(it,xe,[$e,le,ke,oe]),Z(ze,xe,[$e,0,0,oe]),Et},reset:function(){B()}},w=(0,_.Z)(C).getInstance().getLogger(o),B(),o}i.__dashjs_factory_name="LearningAbrController",N.Z=P.Z.getClassFactory(i)},5317:function(A,N,E){var P=E(5448),_=E(2298);function i(){var o,w,T,c,b;function g(){w=null,T=null,c=null,b=null}function u(h,C,B,G){var U=new _.Z;return U.type=h,U.weights.bitrateReward=C||1,U.weights.bitrateSwitchPenalty=1,U.weights.rebufferPenalty=B||1e3,U.weights.latencyPenalty=[],U.weights.latencyPenalty.push({threshold:1.1,penalty:.05*G}),U.weights.latencyPenalty.push({threshold:1e8,penalty:.1*B}),U.weights.playbackSpeedPenalty=G||200,U}function f(h,C,B,G,U){U.bitrateWSum+=U.weights.bitrateReward*h,U.lastBitrate&&(U.bitrateSwitchWSum+=U.weights.bitrateSwitchPenalty*Math.abs(h-U.lastBitrate)),U.lastBitrate=h,U.rebufferWSum+=U.weights.rebufferPenalty*C;for(var re=0;re<U.weights.latencyPenalty.length;re++){var Z=U.weights.latencyPenalty[re];if(B<=Z.threshold){U.latencyWSum+=Z.penalty*B;break}}U.playbackSpeedWSum+=U.weights.playbackSpeedPenalty*Math.abs(1-G),U.totalQoe=U.bitrateWSum-U.bitrateSwitchWSum-U.rebufferWSum-U.latencyWSum-U.playbackSpeedWSum}return o={setupPerSegmentQoe:function(h,C,B){w=u("segment",h,C,B),T=h,c=C,b=B},logSegmentMetrics:function(h,C,B,G){w&&f(h,C,B,G,w)},getPerSegmentQoe:function(){return w},calculateSingleUseQoe:function(h,C,B,G){var U=null;return T&&c&&b&&(U=u("segment",T,c,b)),U?(f(h,C,B,G,U),U.totalQoe):0},reset:function(){g()}},g(),o}i.__dashjs_factory_name="LoLpQoeEvaluator",N.Z=P.Z.getClassFactory(i)},5435:function(A,N,E){var P=E(6398),_=E(5448),i=E(4722),o=E(5317),w=E(2068),T=E(3860),c=E(6523),b=E(3393);function g(u){var f,h,C,B,G=(u=u||{}).dashMetrics,U=this.context;return h={getMaxIndex:function(re){try{var Z=(0,w.Z)(U).create(),te=re.getMediaInfo().type,de=re.getAbrController(),J=re.getStreamInfo(),le=de.getQualityFor(te,J.id),ge=re.getMediaInfo(),Ce=G.getCurrentBufferState(te),ae=re.getScheduleController(),we=G.getCurrentBufferLevel(te,!0),Pe=J&&J.manifestInfo?J.manifestInfo.isDynamic:null,Ge=ae.getPlaybackController(),Re=Ge.getCurrentLiveLatency();if(!re.useLoLPABR()||te===b.Z.AUDIO)return Z;Re||(Re=0);var xe=Ge.getPlaybackRate(),$e=de.getThroughputHistory().getSafeAverageThroughput(te,Pe);if(f.debug("Throughput ".concat(Math.round($e)," kbps")),isNaN($e)||!Ce||de.getAbandonmentStateFor(J.id,te)===T.Z.ABANDON_LOAD)return Z;for(var it=ge.bitrateList,Ie=re.getRepresentationInfo().fragmentDuration,ke=it[0].bandwidth/1e3,wt=it[it.length-1].bandwidth/1e3,Et=0;Et<it.length;Et++){var ze=it[Et].bandwidth/1e3;ze>wt?wt=ze:ze<ke&&(ke=ze)}var st=it[le].bandwidth/1e3,Te=G.getCurrentHttpRequest(te,!0),Ae=(Te.tresponse.getTime()-Te.trequest.getTime())/1e3,Ve=Ae>Ie?Ae-Ie:0;B.setupPerSegmentQoe(Ie,wt,ke),B.logSegmentMetrics(st,Ve,Re,xe);var S=(0,c.Z)(U).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ie,qoeEvaluator:B});return Z.quality=C.getNextQuality(ge,1e3*$e,Re,we,xe,le,S),Z.reason={throughput:$e,latency:Re},Z.priority=w.Z.PRIORITY.STRONG,ae.setTimeToLoadDelay(0),Z.quality!==le&&f.debug("[TgcLearningRule]["+te+"] requesting switch to index: ",Z.quality,"Average throughput",Math.round($e),"kbps"),Z}catch(m){throw m}},reset:function(){C.reset(),B.reset()}},f=(0,P.Z)(U).getInstance().getLogger(h),C=(0,i.Z)(U).create(),B=(0,o.Z)(U).create(),h}g.__dashjs_factory_name="LoLPRule",N.Z=_.Z.getClassFactory(g)},6523:function(A,N,E){var P=E(5448);function _(i){var o,w,T,c,b=i.targetLatency,g=i.bufferMin,u=i.segmentDuration,f=i.qoeEvaluator;function h(){return u}function C(B,G){var U=h();return G>U?B-U:B+U-G}return o={getMinBuffer:function(){return g},getSegmentDuration:h,getNextBufferWithBitrate:function(B,G,U){return C(G,B*u/U)},getNextBuffer:C,findWeightVector:function(B,G,U,re,Z,te){var de=null,J=null,le=null,ge=Math.abs(G-T);return B.forEach(function(Ce){w.forEach(function(ae){ae[0];var we=ae[1],Pe=ae[2],Ge=(ae[3],Ce.bitrate*u/Z),Re=C(U,Ge),xe=(Pe===0?10:1/Pe)*Math.max(1e-5,Ge-Re),$e=(we===0?10:1/we)*Ce.state.latency,it=f.calculateSingleUseQoe(Ce.bitrate,xe,$e,te);(de===null||it>de)&&function(Ie,ke,wt){return!(Ie>b+wt)&&ke>=g}(G,Re,ge)&&(de=it,J=ae,le=Ce.bitrate)})}),J===null&&le===null&&(J=-1),T=G,J}},w=function B(G,U,re){if(re===U)return G;for(var Z=G.length,te=0;te<Z;te++)for(var de=G.shift(),J=0;J<c.length;J++)G.push(de.concat(c[J]));return B(G,U,re+1)}((c=[.2,.4,.6,.8,1]).map(function(B){return[B]}),4,1),T=0,o}_.__dashjs_factory_name="LoLpWeightSelector",N.Z=P.Z.getClassFactory(_)},2298:function(A,N){N.Z=function E(){(function(P,_){if(!(P instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(A,N,E){E.d(N,{Y:function(){return f}});var P=E(3393),_=E(1553),i=E(5448),o=E(2128),w=E(2594),T=E(7387),c=E(7417),b=E(9032),g=E(9326),u=E(7802),f=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function h(C){var B,G,U,re,Z,te,de,J,le=this.context,ge=C.adapter,Ce=C.baseURLController,ae=C.streamInfo,we=C.timelineConverter,Pe=C.debug,Ge=C.eventBus,Re=C.events,xe=C.dashConstants,$e=(0,w.Z)(le).getInstance();function it(ke,wt){var Et=new o.Z;Et.id=ke.id,Et.bitrate=ke.bandwidth,Et.width=ke.width,Et.height=ke.height,Et.tilesHor=1,Et.tilesVert=1,ke.essentialProperties&&ke.essentialProperties.forEach(function(ze){if(f.indexOf(ze.schemeIdUri)>=0&&ze.value){var st=ze.value.split("x");st.length!==2||isNaN(st[0])||isNaN(st[1])||(Et.tilesHor=parseInt(st[0],10),Et.tilesVert=parseInt(st[1],10))}}),wt?te.updateSegmentData(ke).then(function(ze){(function(st,Te,Ae){var Ve=[],S=function(m,O){var M,oe,ne,Oe,nt=[],je=0;for(M=0,oe=m.segments.length;M<oe;M++)ne=m.segments[M],(Oe=(0,T.TJ)(we,ge.getIsDynamic(),O,ne.startTime,ne.duration,ne.timescale,ne.media,ne.mediaRange,je))&&(nt.push(Oe),Oe=null,je++);return nt}(Ae,Te);Te.segments=S,st.segmentDuration=Te.segments[0].duration,st.readThumbnail=function(m,O){var M=null;Ve.some(function(oe){if(oe.start<=m&&oe.end>m)return M=oe.url,!0}),M?O(M):Te.segments.some(function(oe){if(oe.mediaStartTime<=m&&oe.mediaStartTime+oe.duration>m){var ne=Ce.resolve(Te.path);return de.load({method:"get",url:ne.url,request:{range:oe.mediaRange,responseType:"arraybuffer"},onload:function(Oe){var nt=J.getSamplesInfo(Oe.target.response),je=new Blob([Oe.target.response.slice(nt.sampleList[0].offset,nt.sampleList[0].offset+nt.sampleList[0].size)],{type:"image/jpeg"}),Ze=window.URL.createObjectURL(je);Ve.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:Ze}),O&&O(Ze)}}),!0}})}})(Et,ke,ze)}):(Et.startNumber=ke.startNumber,Et.segmentDuration=ke.segmentDuration,Et.timescale=ke.timescale,Et.templateUrl=function(ze){var st=$e.isRelative(ze.media)?$e.resolve(ze.media,Ce.resolve(ze.path).url):ze.media;return st?(0,T.Aj)(st,ze.id):""}(ke)),Et.tilesHor>0&&Et.tilesVert>0&&(Et.widthPerTile=Et.width/Et.tilesHor,Et.heightPerTile=Et.height/Et.tilesVert,G.push(Et))}function Ie(){G=[],re=-1,Z=null}return B={getTracks:function(){return G},addTracks:function(){if(ae&&ge&&(Z=ge.getMediaInfoForType(ae,P.Z.IMAGE))){var ke=ge.getVoRepresentations(Z);ke&&ke.length>0&&ke.forEach(function(wt){(wt.segmentInfoType===_.Z.SEGMENT_TEMPLATE&&wt.segmentDuration>0&&wt.media||wt.segmentInfoType===_.Z.SEGMENT_TIMELINE)&&it(wt),wt.segmentInfoType===_.Z.SEGMENT_BASE&&it(wt,!0)}),G.length>0&&G.sort(function(wt,Et){return wt.bitrate-Et.bitrate})}},reset:Ie,setTrackByIndex:function(ke){G&&G.length!==0&&(ke>=G.length&&(ke=G.length-1),re=ke)},getCurrentTrack:function(){return re<0?null:G[re]},getCurrentTrackIndex:function(){return re},getThumbnailRequestForTime:function(ke){for(var wt,Et=ge.getVoRepresentations(Z),ze=0;ze<Et.length;ze++)if(G[re].id===Et[ze].id){wt=Et[ze];break}return U.getSegmentRequestForTime(Z,wt,ke)}},Ie(),de=(0,b.Z)(le).create({}),J=(0,c.Z)(le).getInstance(),te=(0,u.Z)(le).create({events:Re,eventBus:Ge,streamInfo:ae,timelineConverter:we,dashConstants:xe,dashMetrics:C.dashMetrics,segmentBaseController:C.segmentBaseController,type:P.Z.IMAGE}),(U=(0,g.Z)(le).create({streamInfo:ae,type:P.Z.IMAGE,timelineConverter:we,segmentsController:te,baseURLController:Ce,debug:Pe,eventBus:Ge,events:Re,dashConstants:xe,urlUtils:$e})).initialize(!!ge&&ge.getIsDynamic()),B}h.__dashjs_factory_name="ThumbnailTracks",N.Z=i.Z.getClassFactory(h)},7417:function(A,N,E){var P=E(6398),_=E(8260),i=E(5448),o=E(6934),w=E(9597);function T(){var c,b,g=this.context;function u(C){if(!C)return null;C.fileStart===void 0&&(C.fileStart=0);var B=o.parseBuffer(C),G=(0,_.Z)(g).create();return G.setData(B),G}function f(C,B){return C[B+3]>>>0|C[B+2]<<8>>>0|C[B+1]<<16>>>0|C[B]<<24>>>0}function h(C,B){return String.fromCharCode(C[B++])+String.fromCharCode(C[B++])+String.fromCharCode(C[B++])+String.fromCharCode(C[B])}return b={parse:u,findLastTopIsoBoxCompleted:function(C,B,G){if(G===void 0&&(G=0),!B||G+8>=B.byteLength)return new w.Z(0,!1);for(var U,re=B instanceof ArrayBuffer?new Uint8Array(B):B,Z=0;G<re.byteLength;){var te=f(re,G),de=h(re,G+4);if(te===0)break;G+te<=re.byteLength&&(C.indexOf(de)>=0?U=new w.Z(G,!0,te):Z=G+te),G+=te}return U||new w.Z(Z,!1)},getMediaTimescaleFromMoov:function(C){var B=u(C),G=B?B.getBox("mdhd"):void 0;return G?G.timescale:NaN},getSamplesInfo:function(C){if(!C||C.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var B,G,U,re,Z,te,de,J,le,ge,Ce,ae,we,Pe,Ge,Re,xe=u(C),$e=xe.getBoxes("moof"),it=xe.getBoxes("mfhd");Ge=xe.getBoxes("moof").length,Pe=it[it.length-1].sequence_number,G=0,Z=[];var Ie=-1,ke=-1;for(ge=0;ge<$e.length;ge++){var wt=$e[ge],Et=wt.getChildBoxes("traf");for(J=0;J<Et.length;J++){var ze=Et[J],st=ze.getChildBox("tfhd"),Te=ze.getChildBox("tfdt");re=Te.baseMediaDecodeTime;var Ae=ze.getChildBoxes("trun"),Ve=ze.getChildBoxes("subs");for(le=0;le<Ae.length;le++){var S=Ae[le];for(G=S.sample_count,we=(st.base_data_offset||0)+(S.data_offset||0),de=0;de<G;de++){B=(te=S.samples[de]).sample_duration!==void 0?te.sample_duration:st.default_sample_duration,U=te.sample_size!==void 0?te.sample_size:st.default_sample_size;var m={dts:re,cts:re+(te.sample_composition_time_offset!==void 0?te.sample_composition_time_offset:0),duration:B,offset:wt.offset+we,size:U,subSizes:[U]};if(Ve)for(Ce=0;Ce<Ve.length;Ce++){var O=Ve[Ce];if(Ie<O.entry_count-1&&de>ke&&(Ie++,ke+=O.entries[Ie].sample_delta),de==ke){m.subSizes=[];var M=O.entries[Ie];for(ae=0;ae<M.subsample_count;ae++)m.subSizes.push(M.subsamples[ae].subsample_size)}}Z.push(m),we+=U,re+=B}}Re=re-Te.baseMediaDecodeTime}}return{sampleList:Z,lastSequenceNumber:Pe,totalDuration:Re,numSequences:Ge}},findInitRange:function(C){var B=null,G=u(C);if(!G)return B;var U=G.getBox("ftyp"),re=G.getBox("moov");return c.debug("Searching for initialization."),re&&re.isComplete&&(B=(U?U.offset:re.offset)+"-"+(re.offset+re.size-1),c.debug("Found the initialization.  Range: "+B)),B},parsePayload:function(C,B,G){if(G===void 0&&(G=0),!B||G+8>=B.byteLength)return new w.Z(0,!1);for(var U,re=B instanceof ArrayBuffer?new Uint8Array(B):B,Z=0;G<re.byteLength;){var te=f(re,G),de=h(re,G+4);if(te===0)break;G+te<=re.byteLength&&(C.indexOf(de)>=0?U=new w.Z(G,!0,te,de):Z=G+te),G+=te}return U||new w.Z(Z,!1)}},c=(0,P.Z)(g).getInstance().getLogger(b),b}T.__dashjs_factory_name="BoxParser",N.Z=i.Z.getSingletonFactory(T)},1715:function(A,N,E){E.d(N,{B:function(){return w}});var P=E(5448),_=E(7803),i=E(3393),o=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function w(){var c="ManagedMediaSource"in window,b="WebKitMediaSource"in window,g="MediaSource"in window;return c||b||g}function T(){var c,b,g;return c={setConfig:function(u){u&&u.settings&&(b=u.settings)},supportsMediaSource:w,supportsEncryptedMedia:function(){return g},supportsCodec:function(u,f){return f!==i.Z.AUDIO&&f!==i.Z.VIDEO?Promise.resolve(!0):function(h,C){return b.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(h.codec&&C===i.Z.AUDIO||C===i.Z.VIDEO&&h.codec&&h.width&&h.height&&h.bitrate&&h.framerate)}(u,f)?function(h,C){return new Promise(function(B){if(h&&h.codec){var G={type:"media-source"};G[C]={},G[C].contentType=h.codec,G[C].width=h.width,G[C].height=h.height,G[C].bitrate=parseInt(h.bitrate),G[C].framerate=parseFloat(h.framerate),navigator.mediaCapabilities.decodingInfo(G).then(function(U){B(U.supported)}).catch(function(){B(!1)})}else B(!1)})}(u,f):function(h){return new Promise(function(C){if(h&&h.codec){var B=h.codec;h.width&&h.height&&(B+=';width="'+h.width+'";height="'+h.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(B)||"MediaSource"in window&&MediaSource.isTypeSupported(B)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(B)?C(!0):C(!1)}else C(!1)})}(u)},setEncryptedMediaSupported:function(u){g=u},supportsEssentialProperty:function(u){try{return _.Y.indexOf(u.schemeIdUri)!==-1||i.Z.FONT_DOWNLOAD_DVB_SCHEME===u.schemeIdUri}catch{return!0}},codecRootCompatibleWithCodec:function(u,f){for(var h,C=u.split(".")[0],B=f.indexOf(C)===0,G=0;G<o.length;G++)if(o[G].codec===C){h=o[G];break}return h?B||h.compatibleCodecs.some(function(U){return f.indexOf(U)===0}):B}},g=!1,c}T.__dashjs_factory_name="Capabilities",N.Z=P.Z.getSingletonFactory(T)},2295:function(A,N,E){var P=E(5448),_=E(3106);function i(){return{customTimeRangeArray:[],length:0,add:function(o,w){var T;for(T=0;T<this.customTimeRangeArray.length&&o>this.customTimeRangeArray[T].start;T++);for(this.customTimeRangeArray.splice(T,0,{start:o,end:w}),T=0;T<this.customTimeRangeArray.length-1;T++)this.mergeRanges(T,T+1)&&T--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(o,w){for(var T=0;T<this.customTimeRangeArray.length;T++)if(o<=this.customTimeRangeArray[T].start&&w>=this.customTimeRangeArray[T].end)this.customTimeRangeArray.splice(T,1),T--;else{if(o>this.customTimeRangeArray[T].start&&w<this.customTimeRangeArray[T].end){this.customTimeRangeArray.splice(T+1,0,{start:w,end:this.customTimeRangeArray[T].end}),this.customTimeRangeArray[T].end=o;break}o>this.customTimeRangeArray[T].start&&o<this.customTimeRangeArray[T].end?this.customTimeRangeArray[T].end=o:w>this.customTimeRangeArray[T].start&&w<this.customTimeRangeArray[T].end&&(this.customTimeRangeArray[T].start=w)}this.length=this.customTimeRangeArray.length},mergeRanges:function(o,w){var T=this.customTimeRangeArray[o],c=this.customTimeRangeArray[w];return T.start<=c.start&&c.start<=T.end&&T.end<=c.end?(T.end=c.end,this.customTimeRangeArray.splice(w,1),!0):c.start<=T.start&&T.start<=c.end&&c.end<=T.end?(T.start=c.start,this.customTimeRangeArray.splice(w,1),!0):c.start<=T.start&&T.start<=c.end&&T.end<=c.end?(this.customTimeRangeArray.splice(o,1),!0):T.start<=c.start&&c.start<=T.end&&c.end<=T.end&&(this.customTimeRangeArray.splice(w,1),!0)},start:function(o){return(0,_.SE)(o),o>=this.customTimeRangeArray.length||o<0?NaN:this.customTimeRangeArray[o].start},end:function(o){return(0,_.SE)(o),o>=this.customTimeRangeArray.length||o<0?NaN:this.customTimeRangeArray[o].end}}}i.__dashjs_factory_name="CustomTimeRanges",N.Z=P.Z.getClassFactory(i)},5:function(A,N,E){var P=E(5448);function _(){var i,o=/^[a-z][a-z0-9+\-_.]*:/i,w=/^https?:\/\//i,T=/^https:\/\//i,c=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,b=function(U,re){try{return new window.URL(U,re).toString()}catch{return U}},g=function(U,re){var Z=u;if(!re||!C(U))return U;B(U)&&(Z=f),G(U)&&(Z=h);var te=Z(re),de=te.charAt(te.length-1)!=="/"&&U.charAt(0)!=="/"?"/":"";return[te,U].join(de)};function u(U){var re=U.indexOf("/"),Z=U.lastIndexOf("/");return re!==-1?Z===re+1?U:(U.indexOf("?")!==-1&&(U=U.substring(0,U.indexOf("?"))),U.substring(0,Z+1)):""}function f(U){var re=U.match(c);return re?re[1]:""}function h(U){var re=U.match(o);return re?re[0]:""}function C(U){return!o.test(U)}function B(U){return C(U)&&U.charAt(0)==="/"}function G(U){return U.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),i=b}catch{}finally{i=i||g}}(),{parseBaseUrl:u,parseOrigin:f,parseScheme:h,isRelative:C,isPathAbsolute:B,isSchemeRelative:G,isHTTPURL:function(U){return w.test(U)},isHTTPS:function(U){return T.test(U)},removeHostname:function(U){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(U)[2].substring(1)},resolve:function(U,re){return i(U,re)}}}_.__dashjs_factory_name="DefaultURLUtils",N.Z=P.Z.getSingletonFactory(_)},8260:function(A,N,E){var P=E(2839),_=E(5448);function i(){var o;function w(c){var b=[];if(!c||!o||typeof o.fetchAll!="function")return b;for(var g,u=o.fetchAll(c),f=0,h=u.length;f<h;f++)(g=T(u[f]))&&b.push(g);return b}function T(c){if(!c)return null;var b=new P.Z(c);return c.hasOwnProperty("_incomplete")&&(b.isComplete=!c._incomplete),b}return{getBox:function(c){return c&&o&&o.boxes&&o.boxes.length!==0&&typeof o.fetch=="function"?T(o.fetch(c)):null},getBoxes:w,setData:function(c){o=c},getLastBox:function(){if(!o||!o.boxes||!o.boxes.length)return null;var c=w(o.boxes[o.boxes.length-1].type);return c.length>0?c[c.length-1]:null}}}i.__dashjs_factory_name="IsoFile",N.Z=_.Z.getClassFactory(i)},7473:function(A,N,E){E.d(N,{k:function(){return _}});var P=E(5448);function _(o,w){var T={url:o.url,method:o.method,headers:Object.assign({},o.headers),credentials:o.withCredentials?"include":void 0,range:o.request.range};return Promise.resolve(w.modifyRequest(T)).then(function(){return Object.assign(o,T,{withCredentials:T.credentials==="include"})})}function i(){return{modifyRequest:null,modifyRequestURL:function(o){return o},modifyRequestHeader:function(o,w){return w.url,o}}}i.__dashjs_factory_name="RequestModifier",N.Z=P.Z.getSingletonFactory(i)},3106:function(A,N,E){E.d(N,{PS:function(){return i},SE:function(){return o}});var P=E(3393);function _(w){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},_(w)}function i(w,T){if(_(w)!==T)throw P.Z.BAD_ARGUMENT_ERROR}function o(w){if(w===null||isNaN(w)||w%1!=0)throw P.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(A,N,E){var P=E(5448),_=E(5);function i(){var w,T=[],c=this.context;function b(g,u,f){var h=function(C){var B;for(B=0;B<T.length;B++)if(T[B].regex.test(C))return T[B].utils;return w}(f||u);return h&&typeof h[g]=="function"?h[g](u,f):w[g](u,f)}return w=(0,_.Z)(c).getInstance(),{registerUrlRegex:function(g,u){T.push({regex:g,utils:u})},parseBaseUrl:function(g){return b("parseBaseUrl",g)},parseOrigin:function(g){return b("parseOrigin",g)},parseScheme:function(g){return b("parseScheme",g)},isRelative:function(g){return b("isRelative",g)},isPathAbsolute:function(g){return b("isPathAbsolute",g)},isSchemeRelative:function(g){return b("isSchemeRelative",g)},isHTTPURL:function(g){return b("isHTTPURL",g)},isHTTPS:function(g){return b("isHTTPS",g)},removeHostname:function(g){return b("removeHostname",g)},resolve:function(g,u){return b("resolve",g,u)}}}i.__dashjs_factory_name="URLUtils";var o=P.Z.getSingletonFactory(i);N.Z=o},5459:function(A,N){N.Z=function E(P,_,i){(function(o,w){if(!(o instanceof w))throw new TypeError("Cannot call a class as a function")})(this,E),this.code=P||null,this.message=_||null,this.data=i||null}},3186:function(A,N,E){var P=E(7855);function _(o,w){for(var T=0;T<w.length;T++){var c=w[T];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}var i=function(){function o(c){(function(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")})(this,o),this.action=o.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=c||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var w,T;return w=o,(T=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===P.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(c){this.type=c&&c.init?P.w.INIT_SEGMENT_TYPE:P.w.MEDIA_SEGMENT_TYPE,this.url=c&&c.url?c.url:null,this.range=c&&c.range?c.range.start+"-"+c.range.end:null,this.mediaType=c&&c.mediaType?c.mediaType:null}}])&&_(w.prototype,T),o}();i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",N.Z=i},2839:function(A,N){function E(_,i){for(var o=0;o<i.length;o++){var w=i[o];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}var P=function(){function _(w){if(function(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_),this.offset=w._offset,this.type=w.type,this.size=w.size,this.boxes=[],w.boxes)for(var T=0;T<w.boxes.length;T++)this.boxes.push(new _(w.boxes[T]));switch(this.isComplete=!0,w.type){case"sidx":if(this.timescale=w.timescale,this.earliest_presentation_time=w.earliest_presentation_time,this.first_offset=w.first_offset,this.references=w.references,w.references){this.references=[];for(var c=0;c<w.references.length;c++){var b={reference_type:w.references[c].reference_type,referenced_size:w.references[c].referenced_size,subsegment_duration:w.references[c].subsegment_duration};this.references.push(b)}}break;case"emsg":this.id=w.id,this.version=w.version===1?1:0,this.value=w.value,this.timescale=w.timescale,this.scheme_id_uri=w.scheme_id_uri,this.presentation_time_delta=w.version===1?w.presentation_time:w.presentation_time_delta,this.event_duration=w.event_duration,this.message_data=w.message_data;break;case"mdhd":this.timescale=w.timescale;break;case"mfhd":this.sequence_number=w.sequence_number;break;case"subs":this.entry_count=w.entry_count,this.entries=w.entries;break;case"tfhd":this.base_data_offset=w.base_data_offset,this.sample_description_index=w.sample_description_index,this.default_sample_duration=w.default_sample_duration,this.default_sample_size=w.default_sample_size,this.default_sample_flags=w.default_sample_flags,this.flags=w.flags;break;case"tfdt":this.version=w.version,this.baseMediaDecodeTime=w.baseMediaDecodeTime,this.flags=w.flags;break;case"trun":if(this.sample_count=w.sample_count,this.first_sample_flags=w.first_sample_flags,this.data_offset=w.data_offset,this.flags=w.flags,this.samples=w.samples,w.samples){this.samples=[];for(var g=0,u=w.samples.length;g<u;g++){var f={sample_size:w.samples[g].sample_size,sample_duration:w.samples[g].sample_duration,sample_composition_time_offset:w.samples[g].sample_composition_time_offset};this.samples.push(f)}}break;case"prft":this.version=w.version,this.reference_track_ID=w.reference_track_ID,this.ntp_timestamp_sec=w.ntp_timestamp_sec,this.ntp_timestamp_frac=w.ntp_timestamp_frac,this.media_time=w.media_time,this.flags=w.flags}}var i,o;return i=_,(o=[{key:"getChildBox",value:function(w){for(var T=0;T<this.boxes.length;T++)if(this.boxes[T].type===w)return this.boxes[T]}},{key:"getChildBoxes",value:function(w){for(var T=[],c=0;c<this.boxes.length;c++)this.boxes[c].type===w&&T.push(this.boxes[c]);return T}}])&&E(i.prototype,o),_}();N.Z=P},9597:function(A,N){N.Z=function E(P,_,i){(function(o,w){if(!(o instanceof w))throw new TypeError("Cannot call a class as a function")})(this,E),this.lastCompletedOffset=P,this.found=_,this.size=i}},2128:function(A,N){N.Z=function E(){(function(P,_){if(!(P instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(A,N,E){function P(o,w){if(!(o instanceof w))throw new TypeError("Cannot call a class as a function")}E.d(N,{O:function(){return i},w:function(){return _}});var _=function o(){P(this,o),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},i=function o(){P(this,o),this.s=null,this.d=null,this.b=[]};_.GET="GET",_.HEAD="HEAD",_.MPD_TYPE="MPD",_.XLINK_EXPANSION_TYPE="XLinkExpansion",_.INIT_SEGMENT_TYPE="InitializationSegment",_.INDEX_SEGMENT_TYPE="IndexSegment",_.MEDIA_SEGMENT_TYPE="MediaSegment",_.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",_.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",_.DVB_REPORTING_TYPE="DVBReporting",_.LICENSE="license",_.CONTENT_STEERING_TYPE="ContentSteering",_.OTHER_TYPE="other"},3039:function(A,N){function E(_,i){return function(o,w){for(var T,c,b,g=P(o,"tag"),u=P(w??"*","range"),f=[],h=-1;++h<u.length;)if(T=u[h].toLowerCase(),i||T!=="*"){for(c=-1,b=[];++c<g.length;)if(_(g[c].toLowerCase(),T)){if(!i)return g[c];f.push(g[c])}else b.push(g[c]);g=b}return i?f:void 0}}function P(_,i){var o=_&&typeof _=="string"?[_]:_;if(!o||typeof o!="object"||!("length"in o))throw new Error("Invalid "+i+" `"+o+"`, expected non-empty string");return o}N.basicFilter=E(function(_,i){return i==="*"||_===i||_.indexOf(i+"-")>-1},!0),N.extendedFilter=E(function(_,i){var o=_.split("-"),w=i.split("-"),T=0,c=0;if(w[c]!=="*"&&o[T]!==w[c])return!1;for(T++,c++;c<w.length;)if(w[c]!=="*"){if(!o[T])return!1;if(o[T]!==w[c]){if(o[T].length===1)return!1;T++}else T++,c++}else c++;return!0},!0),N.lookup=E(function(_,i){for(var o,w=i;;){if(w==="*"||_===w)return!0;if((o=w.lastIndexOf("-"))<0)return!1;w.charAt(o-2)==="-"&&(o-=2),w=w.slice(0,o)}})},3973:function(A,N,E){A.exports=E(3854)},3854:function(A,N,E){var P=E(2415),_=E(3039),i=E(7778),o=E(5813),w=E(3165),T=E(9460);A.exports=function(B,G){var U,re=G||{},Z=P.parse(String(B||"").toLowerCase(),re),te=P.stringify(Z),de=-1;if(!te)return te;for(;++de<i.length;)_.extendedFilter(te,i[de].from).length&&(u(Z,i[de].from,i[de].to),te=P.stringify(Z));for(de=-1;++de<o.length;)f(Z,o[de].from.field,o[de].from.value)&&h(Z,o[de].to.field,o[de].to.value);for(te=P.stringify(Object.assign({},Z,g)),de=-1;++de<w.length;)te===w[de]&&(u(Z,w[de],w[de].split("-").slice(0,-1).join("-")),te=P.stringify(Object.assign({},Z,g)));if(Z.extensions.sort(C),re.warning)for(U in T)c.call(T[U],Z[U])&&re.warning("Deprecated "+U+" `"+Z[U]+"`, expected one of `"+T[U][Z[U]].join("`, `")+"`",null,7);return Z.script&&(Z.script=Z.script.charAt(0).toUpperCase()+Z.script.slice(1)),Z.region&&(Z.region=Z.region.toUpperCase()),P.stringify(Z)};var c={}.hasOwnProperty,b=new Intl.Collator,g={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function u(B,G,U){var re,Z=P.parse(G),te=P.parse(U),de=[];for(re in Z)Z[re]&&Z[re].length&&f(B,re,Z[re])&&de.push(re);for(re in te)te[re]&&te[re].length&&(de.indexOf(re)>-1||!B[re]||!B[re].length)&&h(B,re,te[re])}function f(B,G,U){var re,Z,te,de,J=!1;if(U){if(Z=re=B[G],re&&typeof re=="object")for(Z=[],te=-1;++te<re.length;)de=re[te],U.indexOf(de)<0?Z.push(de):J=!0;else re===U&&(Z=null,J=!0);B[G]=Z}return J}function h(B,G,U){var re,Z,te,de=B[G];if(de&&typeof de=="object")for(re=[].concat(U),Z=-1;++Z<re.length;)te=re[Z],de.indexOf(te)<0&&de.push(te);else B[G]=U}function C(B,G){return b.compare(B.singleton,G.singleton)}},2415:function(A,N,E){N.parse=E(6903),N.stringify=E(6713)},6903:function(A,N,E){var P=E(2219),_=E(3516),i=E(395),o=E(858),w=E(8589);A.exports=function c(b,g){var u,f,h,C=g||{},B={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},G=String(b),U=G.toLowerCase(),re=0;if(b==null)throw new Error("Expected string, got `"+b+"`");if(T.call(w,U))return(C.normalize==null||C.normalize)&&w[U]?c(w[U]):(B[o.indexOf(U)===-1?"irregular":"regular"]=G,B);for(;_(U.charCodeAt(re))&&re<9;)re++;if(re>1&&re<9){if(B.language=G.slice(0,re),re<4)for(f=0;U.charCodeAt(re)===45&&_(U.charCodeAt(re+1))&&_(U.charCodeAt(re+2))&&_(U.charCodeAt(re+3))&&!_(U.charCodeAt(re+4));){if(f>2)return Z(re,3,"Too many extended language subtags, expected at most 3 subtags");B.extendedLanguageSubtags.push(G.slice(re+1,re+4)),re+=4,f++}for(U.charCodeAt(re)===45&&_(U.charCodeAt(re+1))&&_(U.charCodeAt(re+2))&&_(U.charCodeAt(re+3))&&_(U.charCodeAt(re+4))&&!_(U.charCodeAt(re+5))&&(B.script=G.slice(re+1,re+5),re+=5),U.charCodeAt(re)===45&&(_(U.charCodeAt(re+1))&&_(U.charCodeAt(re+2))&&!_(U.charCodeAt(re+3))?(B.region=G.slice(re+1,re+3),re+=3):i(U.charCodeAt(re+1))&&i(U.charCodeAt(re+2))&&i(U.charCodeAt(re+3))&&!i(U.charCodeAt(re+4))&&(B.region=G.slice(re+1,re+4),re+=4));U.charCodeAt(re)===45;){for(h=u=re+1;P(U.charCodeAt(h));){if(h-u>7)return Z(h,1,"Too long variant, expected at most 8 characters");h++}if(!(h-u>4||h-u>3&&i(U.charCodeAt(u))))break;B.variants.push(G.slice(u,h)),re=h}for(;U.charCodeAt(re)===45&&U.charCodeAt(re+1)!==120&&P(U.charCodeAt(re+1))&&U.charCodeAt(re+2)===45&&P(U.charCodeAt(re+3));){for(h=re+2,f=0;U.charCodeAt(h)===45&&P(U.charCodeAt(h+1))&&P(U.charCodeAt(h+2));)for(h=(u=h+1)+2,f++;P(U.charCodeAt(h));){if(h-u>7)return Z(h,2,"Too long extension, expected at most 8 characters");h++}if(!f)return Z(h,4,"Empty extension, extensions must have at least 2 characters of content");B.extensions.push({singleton:G.charAt(re+1),extensions:G.slice(re+3,h).split("-")}),re=h}}else re=0;if(re===0&&U.charCodeAt(re)===120||U.charCodeAt(re)===45&&U.charCodeAt(re+1)===120)for(h=re=re?re+2:1;U.charCodeAt(h)===45&&P(U.charCodeAt(h+1));){for(h=u=re+1;P(U.charCodeAt(h));){if(h-u>7)return Z(h,5,"Too long private-use area, expected at most 8 characters");h++}B.privateuse.push(G.slice(re+1,h)),re=h}return re!==G.length?Z(re,6,"Found superfluous content after tag"):B;function Z(te,de,J){return C.warning&&C.warning(J,de,te),C.forgiving?B:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var T={}.hasOwnProperty},6713:function(A){A.exports=function(N){var E,P,_,i=N||{},o=[];if(i.irregular||i.regular)return i.irregular||i.regular;if(i.language)for(o=o.concat(i.language,i.extendedLanguageSubtags||[],i.script||[],i.region||[],i.variants||[]),E=i.extensions||[],P=-1;++P<E.length;)(_=E[P]).singleton&&_.extensions&&_.extensions.length&&(o=o.concat(_.singleton,_.extensions));return i.privateuse&&i.privateuse.length&&(o=o.concat("x",i.privateuse)),o.join("-")}},1549:function(A,N,E){var P=E(6693),_=E(2165),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;N.Buffer=T,N.SlowBuffer=function(S){return+S!=S&&(S=0),T.alloc(+S)},N.INSPECT_MAX_BYTES=50;var o=2147483647;function w(S){if(S>o)throw new RangeError('The value "'+S+'" is invalid for option "size"');var m=new Uint8Array(S);return Object.setPrototypeOf(m,T.prototype),m}function T(S,m,O){if(typeof S=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(S)}return c(S,m,O)}function c(S,m,O){if(typeof S=="string")return function(ne,Oe){if(typeof Oe=="string"&&Oe!==""||(Oe="utf8"),!T.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var nt=0|C(ne,Oe),je=w(nt),Ze=je.write(ne,Oe);return Ze!==nt&&(je=je.slice(0,Ze)),je}(S,m);if(ArrayBuffer.isView(S))return function(ne){if(Te(ne,Uint8Array)){var Oe=new Uint8Array(ne);return f(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return u(ne)}(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Te(S,ArrayBuffer)||S&&Te(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(S,SharedArrayBuffer)||S&&Te(S.buffer,SharedArrayBuffer)))return f(S,m,O);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=S.valueOf&&S.valueOf();if(M!=null&&M!==S)return T.from(M,m,O);var oe=function(ne){if(T.isBuffer(ne)){var Oe=0|h(ne.length),nt=w(Oe);return nt.length===0||ne.copy(nt,0,0,Oe),nt}return ne.length!==void 0?typeof ne.length!="number"||Ae(ne.length)?w(0):u(ne):ne.type==="Buffer"&&Array.isArray(ne.data)?u(ne.data):void 0}(S);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return T.from(S[Symbol.toPrimitive]("string"),m,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}function b(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function g(S){return b(S),w(S<0?0:0|h(S))}function u(S){for(var m=S.length<0?0:0|h(S.length),O=w(m),M=0;M<m;M+=1)O[M]=255&S[M];return O}function f(S,m,O){if(m<0||S.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<m+(O||0))throw new RangeError('"length" is outside of buffer bounds');var M;return M=m===void 0&&O===void 0?new Uint8Array(S):O===void 0?new Uint8Array(S,m):new Uint8Array(S,m,O),Object.setPrototypeOf(M,T.prototype),M}function h(S){if(S>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|S}function C(S,m){if(T.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||Te(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var O=S.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&O===0)return 0;for(var oe=!1;;)switch(m){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Et(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*O;case"hex":return O>>>1;case"base64":return ze(S).length;default:if(oe)return M?-1:Et(S).length;m=(""+m).toLowerCase(),oe=!0}}function B(S,m,O){var M=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0)<=(m>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return Ge(this,m,O);case"utf8":case"utf-8":return Ce(this,m,O);case"ascii":return we(this,m,O);case"latin1":case"binary":return Pe(this,m,O);case"base64":return ge(this,m,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,m,O);default:if(M)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),M=!0}}function G(S,m,O){var M=S[m];S[m]=S[O],S[O]=M}function U(S,m,O,M,oe){if(S.length===0)return-1;if(typeof O=="string"?(M=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),Ae(O=+O)&&(O=oe?0:S.length-1),O<0&&(O=S.length+O),O>=S.length){if(oe)return-1;O=S.length-1}else if(O<0){if(!oe)return-1;O=0}if(typeof m=="string"&&(m=T.from(m,M)),T.isBuffer(m))return m.length===0?-1:re(S,m,O,M,oe);if(typeof m=="number")return m&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(S,m,O):Uint8Array.prototype.lastIndexOf.call(S,m,O):re(S,[m],O,M,oe);throw new TypeError("val must be string, number or Buffer")}function re(S,m,O,M,oe){var ne,Oe=1,nt=S.length,je=m.length;if(M!==void 0&&((M=String(M).toLowerCase())==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(S.length<2||m.length<2)return-1;Oe=2,nt/=2,je/=2,O/=2}function Ze(St,dt){return Oe===1?St[dt]:St.readUInt16BE(dt*Oe)}if(oe){var Me=-1;for(ne=O;ne<nt;ne++)if(Ze(S,ne)===Ze(m,Me===-1?0:ne-Me)){if(Me===-1&&(Me=ne),ne-Me+1===je)return Me*Oe}else Me!==-1&&(ne-=ne-Me),Me=-1}else for(O+je>nt&&(O=nt-je),ne=O;ne>=0;ne--){for(var He=!0,at=0;at<je;at++)if(Ze(S,ne+at)!==Ze(m,at)){He=!1;break}if(He)return ne}return-1}function Z(S,m,O,M){O=Number(O)||0;var oe=S.length-O;M?(M=Number(M))>oe&&(M=oe):M=oe;var ne=m.length;M>ne/2&&(M=ne/2);for(var Oe=0;Oe<M;++Oe){var nt=parseInt(m.substr(2*Oe,2),16);if(Ae(nt))return Oe;S[O+Oe]=nt}return Oe}function te(S,m,O,M){return st(Et(m,S.length-O),S,O,M)}function de(S,m,O,M){return st(function(oe){for(var ne=[],Oe=0;Oe<oe.length;++Oe)ne.push(255&oe.charCodeAt(Oe));return ne}(m),S,O,M)}function J(S,m,O,M){return st(ze(m),S,O,M)}function le(S,m,O,M){return st(function(oe,ne){for(var Oe,nt,je,Ze=[],Me=0;Me<oe.length&&!((ne-=2)<0);++Me)nt=(Oe=oe.charCodeAt(Me))>>8,je=Oe%256,Ze.push(je),Ze.push(nt);return Ze}(m,S.length-O),S,O,M)}function ge(S,m,O){return m===0&&O===S.length?P.fromByteArray(S):P.fromByteArray(S.slice(m,O))}function Ce(S,m,O){O=Math.min(S.length,O);for(var M=[],oe=m;oe<O;){var ne,Oe,nt,je,Ze=S[oe],Me=null,He=Ze>239?4:Ze>223?3:Ze>191?2:1;if(oe+He<=O)switch(He){case 1:Ze<128&&(Me=Ze);break;case 2:(192&(ne=S[oe+1]))==128&&(je=(31&Ze)<<6|63&ne)>127&&(Me=je);break;case 3:ne=S[oe+1],Oe=S[oe+2],(192&ne)==128&&(192&Oe)==128&&(je=(15&Ze)<<12|(63&ne)<<6|63&Oe)>2047&&(je<55296||je>57343)&&(Me=je);break;case 4:ne=S[oe+1],Oe=S[oe+2],nt=S[oe+3],(192&ne)==128&&(192&Oe)==128&&(192&nt)==128&&(je=(15&Ze)<<18|(63&ne)<<12|(63&Oe)<<6|63&nt)>65535&&je<1114112&&(Me=je)}Me===null?(Me=65533,He=1):Me>65535&&(Me-=65536,M.push(Me>>>10&1023|55296),Me=56320|1023&Me),M.push(Me),oe+=He}return function(at){var St=at.length;if(St<=ae)return String.fromCharCode.apply(String,at);for(var dt="",Vt=0;Vt<St;)dt+=String.fromCharCode.apply(String,at.slice(Vt,Vt+=ae));return dt}(M)}N.kMaxLength=o,T.TYPED_ARRAY_SUPPORT=function(){try{var S=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(S,m),S.foo()===42}catch{return!1}}(),T.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.byteOffset}}),T.poolSize=8192,T.from=function(S,m,O){return c(S,m,O)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array),T.alloc=function(S,m,O){return function(M,oe,ne){return b(M),M<=0?w(M):oe!==void 0?typeof ne=="string"?w(M).fill(oe,ne):w(M).fill(oe):w(M)}(S,m,O)},T.allocUnsafe=function(S){return g(S)},T.allocUnsafeSlow=function(S){return g(S)},T.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==T.prototype},T.compare=function(S,m){if(Te(S,Uint8Array)&&(S=T.from(S,S.offset,S.byteLength)),Te(m,Uint8Array)&&(m=T.from(m,m.offset,m.byteLength)),!T.isBuffer(S)||!T.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===m)return 0;for(var O=S.length,M=m.length,oe=0,ne=Math.min(O,M);oe<ne;++oe)if(S[oe]!==m[oe]){O=S[oe],M=m[oe];break}return O<M?-1:M<O?1:0},T.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(S,m){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return T.alloc(0);var O;if(m===void 0)for(m=0,O=0;O<S.length;++O)m+=S[O].length;var M=T.allocUnsafe(m),oe=0;for(O=0;O<S.length;++O){var ne=S[O];if(Te(ne,Uint8Array))oe+ne.length>M.length?T.from(ne).copy(M,oe):Uint8Array.prototype.set.call(M,ne,oe);else{if(!T.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(M,oe)}oe+=ne.length}return M},T.byteLength=C,T.prototype._isBuffer=!0,T.prototype.swap16=function(){var S=this.length;if(S%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<S;m+=2)G(this,m,m+1);return this},T.prototype.swap32=function(){var S=this.length;if(S%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<S;m+=4)G(this,m,m+3),G(this,m+1,m+2);return this},T.prototype.swap64=function(){var S=this.length;if(S%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<S;m+=8)G(this,m,m+7),G(this,m+1,m+6),G(this,m+2,m+5),G(this,m+3,m+4);return this},T.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?Ce(this,0,S):B.apply(this,arguments)},T.prototype.toLocaleString=T.prototype.toString,T.prototype.equals=function(S){if(!T.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S||T.compare(this,S)===0},T.prototype.inspect=function(){var S="",m=N.INSPECT_MAX_BYTES;return S=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(S+=" ... "),"<Buffer "+S+">"},i&&(T.prototype[i]=T.prototype.inspect),T.prototype.compare=function(S,m,O,M,oe){if(Te(S,Uint8Array)&&(S=T.from(S,S.offset,S.byteLength)),!T.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(m===void 0&&(m=0),O===void 0&&(O=S?S.length:0),M===void 0&&(M=0),oe===void 0&&(oe=this.length),m<0||O>S.length||M<0||oe>this.length)throw new RangeError("out of range index");if(M>=oe&&m>=O)return 0;if(M>=oe)return-1;if(m>=O)return 1;if(this===S)return 0;for(var ne=(oe>>>=0)-(M>>>=0),Oe=(O>>>=0)-(m>>>=0),nt=Math.min(ne,Oe),je=this.slice(M,oe),Ze=S.slice(m,O),Me=0;Me<nt;++Me)if(je[Me]!==Ze[Me]){ne=je[Me],Oe=Ze[Me];break}return ne<Oe?-1:Oe<ne?1:0},T.prototype.includes=function(S,m,O){return this.indexOf(S,m,O)!==-1},T.prototype.indexOf=function(S,m,O){return U(this,S,m,O,!0)},T.prototype.lastIndexOf=function(S,m,O){return U(this,S,m,O,!1)},T.prototype.write=function(S,m,O,M){if(m===void 0)M="utf8",O=this.length,m=0;else if(O===void 0&&typeof m=="string")M=m,O=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(O)?(O>>>=0,M===void 0&&(M="utf8")):(M=O,O=void 0)}var oe=this.length-m;if((O===void 0||O>oe)&&(O=oe),S.length>0&&(O<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var ne=!1;;)switch(M){case"hex":return Z(this,S,m,O);case"utf8":case"utf-8":return te(this,S,m,O);case"ascii":case"latin1":case"binary":return de(this,S,m,O);case"base64":return J(this,S,m,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,S,m,O);default:if(ne)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),ne=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function we(S,m,O){var M="";O=Math.min(S.length,O);for(var oe=m;oe<O;++oe)M+=String.fromCharCode(127&S[oe]);return M}function Pe(S,m,O){var M="";O=Math.min(S.length,O);for(var oe=m;oe<O;++oe)M+=String.fromCharCode(S[oe]);return M}function Ge(S,m,O){var M=S.length;(!m||m<0)&&(m=0),(!O||O<0||O>M)&&(O=M);for(var oe="",ne=m;ne<O;++ne)oe+=Ve[S[ne]];return oe}function Re(S,m,O){for(var M=S.slice(m,O),oe="",ne=0;ne<M.length-1;ne+=2)oe+=String.fromCharCode(M[ne]+256*M[ne+1]);return oe}function xe(S,m,O){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+m>O)throw new RangeError("Trying to access beyond buffer length")}function $e(S,m,O,M,oe,ne){if(!T.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>oe||m<ne)throw new RangeError('"value" argument is out of bounds');if(O+M>S.length)throw new RangeError("Index out of range")}function it(S,m,O,M,oe,ne){if(O+M>S.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ie(S,m,O,M,oe){return m=+m,O>>>=0,oe||it(S,0,O,4),_.write(S,m,O,M,23,4),O+4}function ke(S,m,O,M,oe){return m=+m,O>>>=0,oe||it(S,0,O,8),_.write(S,m,O,M,52,8),O+8}T.prototype.slice=function(S,m){var O=this.length;(S=~~S)<0?(S+=O)<0&&(S=0):S>O&&(S=O),(m=m===void 0?O:~~m)<0?(m+=O)<0&&(m=0):m>O&&(m=O),m<S&&(m=S);var M=this.subarray(S,m);return Object.setPrototypeOf(M,T.prototype),M},T.prototype.readUintLE=T.prototype.readUIntLE=function(S,m,O){S>>>=0,m>>>=0,O||xe(S,m,this.length);for(var M=this[S],oe=1,ne=0;++ne<m&&(oe*=256);)M+=this[S+ne]*oe;return M},T.prototype.readUintBE=T.prototype.readUIntBE=function(S,m,O){S>>>=0,m>>>=0,O||xe(S,m,this.length);for(var M=this[S+--m],oe=1;m>0&&(oe*=256);)M+=this[S+--m]*oe;return M},T.prototype.readUint8=T.prototype.readUInt8=function(S,m){return S>>>=0,m||xe(S,1,this.length),this[S]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(S,m){return S>>>=0,m||xe(S,2,this.length),this[S]|this[S+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(S,m){return S>>>=0,m||xe(S,2,this.length),this[S]<<8|this[S+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(S,m){return S>>>=0,m||xe(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(S,m){return S>>>=0,m||xe(S,4,this.length),16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])},T.prototype.readIntLE=function(S,m,O){S>>>=0,m>>>=0,O||xe(S,m,this.length);for(var M=this[S],oe=1,ne=0;++ne<m&&(oe*=256);)M+=this[S+ne]*oe;return M>=(oe*=128)&&(M-=Math.pow(2,8*m)),M},T.prototype.readIntBE=function(S,m,O){S>>>=0,m>>>=0,O||xe(S,m,this.length);for(var M=m,oe=1,ne=this[S+--M];M>0&&(oe*=256);)ne+=this[S+--M]*oe;return ne>=(oe*=128)&&(ne-=Math.pow(2,8*m)),ne},T.prototype.readInt8=function(S,m){return S>>>=0,m||xe(S,1,this.length),128&this[S]?-1*(255-this[S]+1):this[S]},T.prototype.readInt16LE=function(S,m){S>>>=0,m||xe(S,2,this.length);var O=this[S]|this[S+1]<<8;return 32768&O?4294901760|O:O},T.prototype.readInt16BE=function(S,m){S>>>=0,m||xe(S,2,this.length);var O=this[S+1]|this[S]<<8;return 32768&O?4294901760|O:O},T.prototype.readInt32LE=function(S,m){return S>>>=0,m||xe(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},T.prototype.readInt32BE=function(S,m){return S>>>=0,m||xe(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},T.prototype.readFloatLE=function(S,m){return S>>>=0,m||xe(S,4,this.length),_.read(this,S,!0,23,4)},T.prototype.readFloatBE=function(S,m){return S>>>=0,m||xe(S,4,this.length),_.read(this,S,!1,23,4)},T.prototype.readDoubleLE=function(S,m){return S>>>=0,m||xe(S,8,this.length),_.read(this,S,!0,52,8)},T.prototype.readDoubleBE=function(S,m){return S>>>=0,m||xe(S,8,this.length),_.read(this,S,!1,52,8)},T.prototype.writeUintLE=T.prototype.writeUIntLE=function(S,m,O,M){S=+S,m>>>=0,O>>>=0,M||$e(this,S,m,O,Math.pow(2,8*O)-1,0);var oe=1,ne=0;for(this[m]=255&S;++ne<O&&(oe*=256);)this[m+ne]=S/oe&255;return m+O},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(S,m,O,M){S=+S,m>>>=0,O>>>=0,M||$e(this,S,m,O,Math.pow(2,8*O)-1,0);var oe=O-1,ne=1;for(this[m+oe]=255&S;--oe>=0&&(ne*=256);)this[m+oe]=S/ne&255;return m+O},T.prototype.writeUint8=T.prototype.writeUInt8=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,1,255,0),this[m]=255&S,m+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,2,65535,0),this[m]=255&S,this[m+1]=S>>>8,m+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,2,65535,0),this[m]=S>>>8,this[m+1]=255&S,m+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,4,4294967295,0),this[m+3]=S>>>24,this[m+2]=S>>>16,this[m+1]=S>>>8,this[m]=255&S,m+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,4,4294967295,0),this[m]=S>>>24,this[m+1]=S>>>16,this[m+2]=S>>>8,this[m+3]=255&S,m+4},T.prototype.writeIntLE=function(S,m,O,M){if(S=+S,m>>>=0,!M){var oe=Math.pow(2,8*O-1);$e(this,S,m,O,oe-1,-oe)}var ne=0,Oe=1,nt=0;for(this[m]=255&S;++ne<O&&(Oe*=256);)S<0&&nt===0&&this[m+ne-1]!==0&&(nt=1),this[m+ne]=(S/Oe>>0)-nt&255;return m+O},T.prototype.writeIntBE=function(S,m,O,M){if(S=+S,m>>>=0,!M){var oe=Math.pow(2,8*O-1);$e(this,S,m,O,oe-1,-oe)}var ne=O-1,Oe=1,nt=0;for(this[m+ne]=255&S;--ne>=0&&(Oe*=256);)S<0&&nt===0&&this[m+ne+1]!==0&&(nt=1),this[m+ne]=(S/Oe>>0)-nt&255;return m+O},T.prototype.writeInt8=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,1,127,-128),S<0&&(S=255+S+1),this[m]=255&S,m+1},T.prototype.writeInt16LE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,2,32767,-32768),this[m]=255&S,this[m+1]=S>>>8,m+2},T.prototype.writeInt16BE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,2,32767,-32768),this[m]=S>>>8,this[m+1]=255&S,m+2},T.prototype.writeInt32LE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,4,2147483647,-2147483648),this[m]=255&S,this[m+1]=S>>>8,this[m+2]=S>>>16,this[m+3]=S>>>24,m+4},T.prototype.writeInt32BE=function(S,m,O){return S=+S,m>>>=0,O||$e(this,S,m,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[m]=S>>>24,this[m+1]=S>>>16,this[m+2]=S>>>8,this[m+3]=255&S,m+4},T.prototype.writeFloatLE=function(S,m,O){return Ie(this,S,m,!0,O)},T.prototype.writeFloatBE=function(S,m,O){return Ie(this,S,m,!1,O)},T.prototype.writeDoubleLE=function(S,m,O){return ke(this,S,m,!0,O)},T.prototype.writeDoubleBE=function(S,m,O){return ke(this,S,m,!1,O)},T.prototype.copy=function(S,m,O,M){if(!T.isBuffer(S))throw new TypeError("argument should be a Buffer");if(O||(O=0),M||M===0||(M=this.length),m>=S.length&&(m=S.length),m||(m=0),M>0&&M<O&&(M=O),M===O||S.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),S.length-m<M-O&&(M=S.length-m+O);var oe=M-O;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,O,M):Uint8Array.prototype.set.call(S,this.subarray(O,M),m),oe},T.prototype.fill=function(S,m,O,M){if(typeof S=="string"){if(typeof m=="string"?(M=m,m=0,O=this.length):typeof O=="string"&&(M=O,O=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!T.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(S.length===1){var oe=S.charCodeAt(0);(M==="utf8"&&oe<128||M==="latin1")&&(S=oe)}}else typeof S=="number"?S&=255:typeof S=="boolean"&&(S=Number(S));if(m<0||this.length<m||this.length<O)throw new RangeError("Out of range index");if(O<=m)return this;var ne;if(m>>>=0,O=O===void 0?this.length:O>>>0,S||(S=0),typeof S=="number")for(ne=m;ne<O;++ne)this[ne]=S;else{var Oe=T.isBuffer(S)?S:T.from(S,M),nt=Oe.length;if(nt===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ne=0;ne<O-m;++ne)this[ne+m]=Oe[ne%nt]}return this};var wt=/[^+/0-9A-Za-z-_]/g;function Et(S,m){var O;m=m||1/0;for(var M=S.length,oe=null,ne=[],Oe=0;Oe<M;++Oe){if((O=S.charCodeAt(Oe))>55295&&O<57344){if(!oe){if(O>56319){(m-=3)>-1&&ne.push(239,191,189);continue}if(Oe+1===M){(m-=3)>-1&&ne.push(239,191,189);continue}oe=O;continue}if(O<56320){(m-=3)>-1&&ne.push(239,191,189),oe=O;continue}O=65536+(oe-55296<<10|O-56320)}else oe&&(m-=3)>-1&&ne.push(239,191,189);if(oe=null,O<128){if((m-=1)<0)break;ne.push(O)}else if(O<2048){if((m-=2)<0)break;ne.push(O>>6|192,63&O|128)}else if(O<65536){if((m-=3)<0)break;ne.push(O>>12|224,O>>6&63|128,63&O|128)}else{if(!(O<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;ne.push(O>>18|240,O>>12&63|128,O>>6&63|128,63&O|128)}}return ne}function ze(S){return P.toByteArray(function(m){if((m=(m=m.split("=")[0]).trim().replace(wt,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(S))}function st(S,m,O,M){for(var oe=0;oe<M&&!(oe+O>=m.length||oe>=S.length);++oe)m[oe+O]=S[oe];return oe}function Te(S,m){return S instanceof m||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===m.name}function Ae(S){return S!=S}var Ve=function(){for(var S="0123456789abcdef",m=new Array(256),O=0;O<16;++O)for(var M=16*O,oe=0;oe<16;++oe)m[M+oe]=S[O]+S[oe];return m}()},6693:function(A,N){N.byteLength=function(b){var g=T(b),u=g[0],f=g[1];return 3*(u+f)/4-f},N.toByteArray=function(b){var g,u,f=T(b),h=f[0],C=f[1],B=new _(function(re,Z,te){return 3*(Z+te)/4-te}(0,h,C)),G=0,U=C>0?h-4:h;for(u=0;u<U;u+=4)g=P[b.charCodeAt(u)]<<18|P[b.charCodeAt(u+1)]<<12|P[b.charCodeAt(u+2)]<<6|P[b.charCodeAt(u+3)],B[G++]=g>>16&255,B[G++]=g>>8&255,B[G++]=255&g;return C===2&&(g=P[b.charCodeAt(u)]<<2|P[b.charCodeAt(u+1)]>>4,B[G++]=255&g),C===1&&(g=P[b.charCodeAt(u)]<<10|P[b.charCodeAt(u+1)]<<4|P[b.charCodeAt(u+2)]>>2,B[G++]=g>>8&255,B[G++]=255&g),B},N.fromByteArray=function(b){for(var g,u=b.length,f=u%3,h=[],C=16383,B=0,G=u-f;B<G;B+=C)h.push(c(b,B,B+C>G?G:B+C));return f===1?(g=b[u-1],h.push(E[g>>2]+E[g<<4&63]+"==")):f===2&&(g=(b[u-2]<<8)+b[u-1],h.push(E[g>>10]+E[g>>4&63]+E[g<<2&63]+"=")),h.join("")};for(var E=[],P=[],_=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,w=i.length;o<w;++o)E[o]=i[o],P[i.charCodeAt(o)]=o;function T(b){var g=b.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=b.indexOf("=");return u===-1&&(u=g),[u,u===g?0:4-u%4]}function c(b,g,u){for(var f,h,C=[],B=g;B<u;B+=3)f=(b[B]<<16&16711680)+(b[B+1]<<8&65280)+(255&b[B+2]),C.push(E[(h=f)>>18&63]+E[h>>12&63]+E[h>>6&63]+E[63&h]);return C.join("")}P["-".charCodeAt(0)]=62,P["_".charCodeAt(0)]=63},2165:function(A,N){N.read=function(E,P,_,i,o){var w,T,c=8*o-i-1,b=(1<<c)-1,g=b>>1,u=-7,f=_?o-1:0,h=_?-1:1,C=E[P+f];for(f+=h,w=C&(1<<-u)-1,C>>=-u,u+=c;u>0;w=256*w+E[P+f],f+=h,u-=8);for(T=w&(1<<-u)-1,w>>=-u,u+=i;u>0;T=256*T+E[P+f],f+=h,u-=8);if(w===0)w=1-g;else{if(w===b)return T?NaN:1/0*(C?-1:1);T+=Math.pow(2,i),w-=g}return(C?-1:1)*T*Math.pow(2,w-i)},N.write=function(E,P,_,i,o,w){var T,c,b,g=8*w-o-1,u=(1<<g)-1,f=u>>1,h=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=i?0:w-1,B=i?1:-1,G=P<0||P===0&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(c=isNaN(P)?1:0,T=u):(T=Math.floor(Math.log(P)/Math.LN2),P*(b=Math.pow(2,-T))<1&&(T--,b*=2),(P+=T+f>=1?h/b:h*Math.pow(2,1-f))*b>=2&&(T++,b/=2),T+f>=u?(c=0,T=u):T+f>=1?(c=(P*b-1)*Math.pow(2,o),T+=f):(c=P*Math.pow(2,f-1)*Math.pow(2,o),T=0));o>=8;E[_+C]=255&c,C+=B,c/=256,o-=8);for(T=T<<o|c,g+=o;g>0;E[_+C]=255&T,C+=B,T/=256,g-=8);E[_+C-B]|=128*G}},6934:function(A,N){var E={parseBuffer:function(i){return new P(i).parse()},addBoxProcessor:function(i,o){typeof i=="string"&&typeof o=="function"&&(_.prototype._boxProcessors[i]=o)},createFile:function(){return new P},createBox:function(i,o,w){var T=_.create(i);return o&&o.append(T,w),T},createFullBox:function(i,o,w){var T=E.createBox(i,o,w);return T.version=0,T.flags=0,T},Utils:{}};E.Utils.dataViewToString=function(i,o){var w=o||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(w).decode(i);var T=[],c=0;if(w==="utf-8")for(;c<i.byteLength;){var b=i.getUint8(c++);b<128||(b<224?(b=(31&b)<<6,b|=63&i.getUint8(c++)):b<240?(b=(15&b)<<12,b|=(63&i.getUint8(c++))<<6,b|=63&i.getUint8(c++)):(b=(7&b)<<18,b|=(63&i.getUint8(c++))<<12,b|=(63&i.getUint8(c++))<<6,b|=63&i.getUint8(c++))),T.push(String.fromCharCode(b))}else for(;c<i.byteLength;)T.push(String.fromCharCode(i.getUint8(c++)));return T.join("")},E.Utils.utf8ToByteArray=function(i){var o,w;if(typeof TextEncoder<"u")o=new TextEncoder().encode(i);else for(o=[],w=0;w<i.length;++w){var T=i.charCodeAt(w);T<128?o.push(T):T<2048?(o.push(192|T>>6),o.push(128|63&T)):T<65536?(o.push(224|T>>12),o.push(128|63&T>>6),o.push(128|63&T)):(o.push(240|T>>18),o.push(128|63&T>>12),o.push(128|63&T>>6),o.push(128|63&T))}return o},E.Utils.appendBox=function(i,o,w){if(o._offset=i._cursor.offset,o._root=i._root?i._root:i,o._raw=i._raw,o._parent=i,w!==-1)if(w!=null){var T,c=-1;if(typeof w=="number")c=w;else{if(typeof w=="string")T=w;else{if(typeof w!="object"||!w.type)return void i.boxes.push(o);T=w.type}for(var b=0;b<i.boxes.length;b++)if(T===i.boxes[b].type){c=b+1;break}}i.boxes.splice(c,0,o)}else i.boxes.push(o)},N.parseBuffer=E.parseBuffer,N.addBoxProcessor=E.addBoxProcessor,N.createFile=E.createFile,N.createBox=E.createBox,N.createFullBox=E.createFullBox,N.Utils=E.Utils,E.Cursor=function(i){this.offset=i===void 0?0:i};var P=function(i){this._cursor=new E.Cursor,this.boxes=[],i&&(this._raw=new DataView(i))};P.prototype.fetch=function(i){var o=this.fetchAll(i,!0);return o.length?o[0]:null},P.prototype.fetchAll=function(i,o){var w=[];return P._sweep.call(this,i,w,o),w},P.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var i=_.parse(this);if(i.type===void 0)break;this.boxes.push(i)}return this},P._sweep=function(i,o,w){for(var T in this.type&&this.type==i&&o.push(this),this.boxes){if(o.length&&w)return;P._sweep.call(this.boxes[T],i,o,w)}},P.prototype.write=function(){var i,o=0;for(i=0;i<this.boxes.length;i++)o+=this.boxes[i].getLength(!1);var w=new Uint8Array(o);for(this._rawo=new DataView(w.buffer),this.bytes=w,this._cursor.offset=0,i=0;i<this.boxes.length;i++)this.boxes[i].write();return w.buffer},P.prototype.append=function(i,o){E.Utils.appendBox(this,i,o)};var _=function(){this._cursor=new E.Cursor};_.parse=function(i){var o=new _;return o._offset=i._cursor.offset,o._root=i._root?i._root:i,o._raw=i._raw,o._parent=i,o._parseBox(),i._cursor.offset=o._raw.byteOffset+o._raw.byteLength,o},_.create=function(i){var o=new _;return o.type=i,o.boxes=[],o},_.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],_.prototype._boxProcessors={},_.prototype._procField=function(i,o,w){this._parsing?this[i]=this._readField(o,w):this._writeField(o,w,this[i])},_.prototype._procFieldArray=function(i,o,w,T){var c;if(this._parsing)for(this[i]=[],c=0;c<o;c++)this[i][c]=this._readField(w,T);else for(c=0;c<this[i].length;c++)this._writeField(w,T,this[i][c])},_.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},_.prototype._procEntries=function(i,o,w){var T;if(this._parsing)for(this[i]=[],T=0;T<o;T++)this[i].push({}),w.call(this,this[i][T]);else for(T=0;T<o;T++)w.call(this,this[i][T])},_.prototype._procSubEntries=function(i,o,w,T){var c;if(this._parsing)for(i[o]=[],c=0;c<w;c++)i[o].push({}),T.call(this,i[o][c]);else for(c=0;c<w;c++)T.call(this,i[o][c])},_.prototype._procEntryField=function(i,o,w,T){this._parsing?i[o]=this._readField(w,T):this._writeField(w,T,i[o])},_.prototype._procSubBoxes=function(i,o){var w;if(this._parsing)for(this[i]=[],w=0;w<o;w++)this[i].push(_.parse(this));else for(w=0;w<o;w++)this._rawo?this[i][w].write():this.size+=this[i][w].getLength()},_.prototype._readField=function(i,o){switch(i){case"uint":return this._readUint(o);case"int":return this._readInt(o);case"template":return this._readTemplate(o);case"string":return o===-1?this._readTerminatedString():this._readString(o);case"data":return this._readData(o);case"utf8":return this._readUTF8String();default:return-1}},_.prototype._readInt=function(i){var o=null,w=this._cursor.offset-this._raw.byteOffset;switch(i){case 8:o=this._raw.getInt8(w);break;case 16:o=this._raw.getInt16(w);break;case 32:o=this._raw.getInt32(w);break;case 64:var T=this._raw.getInt32(w),c=this._raw.getInt32(w+4);o=T*Math.pow(2,32)+c}return this._cursor.offset+=i>>3,o},_.prototype._readUint=function(i){var o,w,T=null,c=this._cursor.offset-this._raw.byteOffset;switch(i){case 8:T=this._raw.getUint8(c);break;case 16:T=this._raw.getUint16(c);break;case 24:T=((o=this._raw.getUint16(c))<<8)+(w=this._raw.getUint8(c+2));break;case 32:T=this._raw.getUint32(c);break;case 64:o=this._raw.getUint32(c),w=this._raw.getUint32(c+4),T=o*Math.pow(2,32)+w}return this._cursor.offset+=i>>3,T},_.prototype._readString=function(i){for(var o="",w=0;w<i;w++){var T=this._readUint(8);o+=String.fromCharCode(T)}return o},_.prototype._readTemplate=function(i){return this._readUint(i/2)+this._readUint(i/2)/Math.pow(2,i/2)},_.prototype._readTerminatedString=function(){for(var i="";this._cursor.offset-this._offset<this._raw.byteLength;){var o=this._readUint(8);if(o===0)break;i+=String.fromCharCode(o)}return i},_.prototype._readData=function(i){var o=i>0?i:this._raw.byteLength-(this._cursor.offset-this._offset);if(o>0){var w=new Uint8Array(this._raw.buffer,this._cursor.offset,o);return this._cursor.offset+=o,w}return null},_.prototype._readUTF8String=function(){var i=this._raw.byteLength-(this._cursor.offset-this._offset),o=null;return i>0&&(o=new DataView(this._raw.buffer,this._cursor.offset,i),this._cursor.offset+=i),o&&E.Utils.dataViewToString(o)},_.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},_.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},_.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(_.parse(this))},_.prototype.append=function(i,o){E.Utils.appendBox(this,i,o)},_.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var i=0;i<this.boxes.length;i++)this.size+=this.boxes[i].getLength();return this._data&&this._writeData(this._data),this.size},_.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var i=0;i<this.boxes.length;i++)this.boxes[i].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},_.prototype._writeInt=function(i,o){if(this._rawo){var w=this._cursor.offset-this._rawo.byteOffset;switch(i){case 8:this._rawo.setInt8(w,o);break;case 16:this._rawo.setInt16(w,o);break;case 32:this._rawo.setInt32(w,o);break;case 64:var T=Math.floor(o/Math.pow(2,32)),c=o-T*Math.pow(2,32);this._rawo.setUint32(w,T),this._rawo.setUint32(w+4,c)}this._cursor.offset+=i>>3}else this.size+=i>>3},_.prototype._writeUint=function(i,o){if(this._rawo){var w,T,c=this._cursor.offset-this._rawo.byteOffset;switch(i){case 8:this._rawo.setUint8(c,o);break;case 16:this._rawo.setUint16(c,o);break;case 24:w=(16776960&o)>>8,T=255&o,this._rawo.setUint16(c,w),this._rawo.setUint8(c+2,T);break;case 32:this._rawo.setUint32(c,o);break;case 64:T=o-(w=Math.floor(o/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(c,w),this._rawo.setUint32(c+4,T)}this._cursor.offset+=i>>3}else this.size+=i>>3},_.prototype._writeString=function(i,o){for(var w=0;w<i;w++)this._writeUint(8,o.charCodeAt(w))},_.prototype._writeTerminatedString=function(i){if(i.length!==0){for(var o=0;o<i.length;o++)this._writeUint(8,i.charCodeAt(o));this._writeUint(8,0)}},_.prototype._writeTemplate=function(i,o){var w=Math.floor(o),T=(o-w)*Math.pow(2,i/2);this._writeUint(i/2,w),this._writeUint(i/2,T)},_.prototype._writeData=function(i){if(i)if(this._rawo){if(i instanceof Array){for(var o=this._cursor.offset-this._rawo.byteOffset,w=0;w<i.length;w++)this._rawo.setInt8(o+w,i[w]);this._cursor.offset+=i.length}i instanceof Uint8Array&&(this._root.bytes.set(i,this._cursor.offset),this._cursor.offset+=i.length)}else this.size+=i.length},_.prototype._writeUTF8String=function(i){var o=E.Utils.utf8ToByteArray(i);if(this._rawo)for(var w=new DataView(this._rawo.buffer,this._cursor.offset,o.length),T=0;T<o.length;T++)w.setUint8(T,o[T]);else this.size+=o.length},_.prototype._writeField=function(i,o,w){switch(i){case"uint":this._writeUint(o,w);break;case"int":this._writeInt(o,w);break;case"template":this._writeTemplate(o,w);break;case"string":o==-1?this._writeTerminatedString(w):this._writeString(o,w);break;case"data":this._writeData(w);break;case"utf8":this._writeUTF8String(w)}},_.prototype._boxProcessors.avc1=_.prototype._boxProcessors.avc2=_.prototype._boxProcessors.avc3=_.prototype._boxProcessors.avc4=_.prototype._boxProcessors.hvc1=_.prototype._boxProcessors.hev1=_.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},_.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(i){this._procEntryField(i,"sample_count","uint",32),this._procEntryField(i,"sample_offset",this.version===1?"int":"uint",32)})},_.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},_.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(i){this._procEntryField(i,"segment_duration","uint",this.version===1?64:32),this._procEntryField(i,"media_time","int",this.version===1?64:32),this._procEntryField(i,"media_rate_integer","int",16),this._procEntryField(i,"media_rate_fraction","int",16)})},_.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},_.prototype._boxProcessors.free=_.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},_.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},_.prototype._boxProcessors.ftyp=_.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var i=-1;this._parsing&&(i=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",i,"string",4)},_.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},_.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},_.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},_.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},_.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},_.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},_.prototype._boxProcessors.mp4a=_.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},_.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},_.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},_.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},_.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},_.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},_.prototype._boxProcessors.sdtp=function(){this._procFullBox();var i=-1;this._parsing&&(i=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",i,"uint",8)},_.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(i){this._parsing||(i.reference=(1&i.reference_type)<<31,i.reference|=2147483647&i.referenced_size,i.sap=(1&i.starts_with_SAP)<<31,i.sap|=(3&i.SAP_type)<<28,i.sap|=268435455&i.SAP_delta_time),this._procEntryField(i,"reference","uint",32),this._procEntryField(i,"subsegment_duration","uint",32),this._procEntryField(i,"sap","uint",32),this._parsing&&(i.reference_type=i.reference>>31&1,i.referenced_size=2147483647&i.reference,i.starts_with_SAP=i.sap>>31&1,i.SAP_type=i.sap>>28&7,i.SAP_delta_time=268435455&i.sap)})},_.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},_.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(i){this._procEntryField(i,"ranges_count","uint",32),this._procSubEntries(i,"ranges",i.ranges_count,function(o){this._procEntryField(o,"level","uint",8),this._procEntryField(o,"range_size","uint",24)})})},_.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},_.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},_.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(i){this._procEntryField(i,"sample_count","uint",32),this._procEntryField(i,"sample_delta","uint",32)})},_.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(i){this._procEntryField(i,"sample_delta","uint",32),this._procEntryField(i,"subsample_count","uint",16),this._procSubEntries(i,"subsamples",i.subsample_count,function(o){this._procEntryField(o,"subsample_size","uint",this.version===1?32:16),this._procEntryField(o,"subsample_priority","uint",8),this._procEntryField(o,"discardable","uint",8),this._procEntryField(o,"codec_specific_parameters","uint",32)})})},_.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},_.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},_.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},_.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(i){this._procEntryField(i,"time","uint",this.version===1?64:32),this._procEntryField(i,"moof_offset","uint",this.version===1?64:32),this._procEntryField(i,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(i,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(i,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},_.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},_.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},_.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(i){256&this.flags&&this._procEntryField(i,"sample_duration","uint",32),512&this.flags&&this._procEntryField(i,"sample_size","uint",32),1024&this.flags&&this._procEntryField(i,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(i,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},_.prototype._boxProcessors["url "]=_.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},_.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},_.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},_.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},_.prototype._boxProcessors.vtte=function(){}},5530:function(A,N,E){A.exports=E(6146).polyfill()},6146:function(A,N,E){A.exports=function(){function P(ze){return typeof ze=="function"}var _=Array.isArray?Array.isArray:function(ze){return Object.prototype.toString.call(ze)==="[object Array]"},i=0,o=void 0,w=void 0,T=function(ze,st){C[i]=ze,C[i+1]=st,(i+=2)===2&&(w?w(B):te())},c=typeof window<"u"?window:void 0,b=c||{},g=b.MutationObserver||b.WebKitMutationObserver,u=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",f=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var ze=setTimeout;return function(){return ze(B,1)}}var C=new Array(1e3);function B(){for(var ze=0;ze<i;ze+=2)(0,C[ze])(C[ze+1]),C[ze]=void 0,C[ze+1]=void 0;i=0}var G,U,re,Z,te=void 0;function de(ze,st){var Te=this,Ae=new this.constructor(ge);Ae[le]===void 0&&ke(Ae);var Ve=Te._state;if(Ve){var S=arguments[Ve-1];T(function(){return it(Ve,Ae,S,Te._result)})}else xe(Te,Ae,ze,st);return Ae}function J(ze){if(ze&&typeof ze=="object"&&ze.constructor===this)return ze;var st=new this(ge);return we(st,ze),st}te=u?function(){return process.nextTick(B)}:g?(U=0,re=new g(B),Z=document.createTextNode(""),re.observe(Z,{characterData:!0}),function(){Z.data=U=++U%2}):f?((G=new MessageChannel).port1.onmessage=B,function(){return G.port2.postMessage(0)}):c===void 0?function(){try{var ze=Function("return this")().require("vertx");return(o=ze.runOnLoop||ze.runOnContext)!==void 0?function(){o(B)}:h()}catch{return h()}}():h();var le=Math.random().toString(36).substring(2);function ge(){}var Ce=void 0;function ae(ze,st,Te){st.constructor===ze.constructor&&Te===de&&st.constructor.resolve===J?function(Ae,Ve){Ve._state===1?Ge(Ae,Ve._result):Ve._state===2?Re(Ae,Ve._result):xe(Ve,void 0,function(S){return we(Ae,S)},function(S){return Re(Ae,S)})}(ze,st):Te===void 0?Ge(ze,st):P(Te)?function(Ae,Ve,S){T(function(m){var O=!1,M=function(oe,ne,Oe,nt){try{oe.call(ne,Oe,nt)}catch(je){return je}}(S,Ve,function(oe){O||(O=!0,Ve!==oe?we(m,oe):Ge(m,oe))},function(oe){O||(O=!0,Re(m,oe))},m._label);!O&&M&&(O=!0,Re(m,M))},Ae)}(ze,st,Te):Ge(ze,st)}function we(ze,st){if(ze===st)Re(ze,new TypeError("You cannot resolve a promise with itself"));else if(Ve=typeof(Ae=st),Ae===null||Ve!=="object"&&Ve!=="function")Ge(ze,st);else{var Te=void 0;try{Te=st.then}catch(S){return void Re(ze,S)}ae(ze,st,Te)}var Ae,Ve}function Pe(ze){ze._onerror&&ze._onerror(ze._result),$e(ze)}function Ge(ze,st){ze._state===Ce&&(ze._result=st,ze._state=1,ze._subscribers.length!==0&&T($e,ze))}function Re(ze,st){ze._state===Ce&&(ze._state=2,ze._result=st,T(Pe,ze))}function xe(ze,st,Te,Ae){var Ve=ze._subscribers,S=Ve.length;ze._onerror=null,Ve[S]=st,Ve[S+1]=Te,Ve[S+2]=Ae,S===0&&ze._state&&T($e,ze)}function $e(ze){var st=ze._subscribers,Te=ze._state;if(st.length!==0){for(var Ae=void 0,Ve=void 0,S=ze._result,m=0;m<st.length;m+=3)Ae=st[m],Ve=st[m+Te],Ae?it(Te,Ae,Ve,S):Ve(S);ze._subscribers.length=0}}function it(ze,st,Te,Ae){var Ve=P(Te),S=void 0,m=void 0,O=!0;if(Ve){try{S=Te(Ae)}catch(M){O=!1,m=M}if(st===S)return void Re(st,new TypeError("A promises callback cannot return that same promise."))}else S=Ae;st._state!==Ce||(Ve&&O?we(st,S):O===!1?Re(st,m):ze===1?Ge(st,S):ze===2&&Re(st,S))}var Ie=0;function ke(ze){ze[le]=Ie++,ze._state=void 0,ze._result=void 0,ze._subscribers=[]}var wt=function(){function ze(st,Te){this._instanceConstructor=st,this.promise=new st(ge),this.promise[le]||ke(this.promise),_(Te)?(this.length=Te.length,this._remaining=Te.length,this._result=new Array(this.length),this.length===0?Ge(this.promise,this._result):(this.length=this.length||0,this._enumerate(Te),this._remaining===0&&Ge(this.promise,this._result))):Re(this.promise,new Error("Array Methods must be provided an Array"))}return ze.prototype._enumerate=function(st){for(var Te=0;this._state===Ce&&Te<st.length;Te++)this._eachEntry(st[Te],Te)},ze.prototype._eachEntry=function(st,Te){var Ae=this._instanceConstructor,Ve=Ae.resolve;if(Ve===J){var S=void 0,m=void 0,O=!1;try{S=st.then}catch(oe){O=!0,m=oe}if(S===de&&st._state!==Ce)this._settledAt(st._state,Te,st._result);else if(typeof S!="function")this._remaining--,this._result[Te]=st;else if(Ae===Et){var M=new Ae(ge);O?Re(M,m):ae(M,st,S),this._willSettleAt(M,Te)}else this._willSettleAt(new Ae(function(oe){return oe(st)}),Te)}else this._willSettleAt(Ve(st),Te)},ze.prototype._settledAt=function(st,Te,Ae){var Ve=this.promise;Ve._state===Ce&&(this._remaining--,st===2?Re(Ve,Ae):this._result[Te]=Ae),this._remaining===0&&Ge(Ve,this._result)},ze.prototype._willSettleAt=function(st,Te){var Ae=this;xe(st,void 0,function(Ve){return Ae._settledAt(1,Te,Ve)},function(Ve){return Ae._settledAt(2,Te,Ve)})},ze}(),Et=function(){function ze(st){this[le]=Ie++,this._result=this._state=void 0,this._subscribers=[],ge!==st&&(typeof st!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ze?function(Te,Ae){try{Ae(function(Ve){we(Te,Ve)},function(Ve){Re(Te,Ve)})}catch(Ve){Re(Te,Ve)}}(this,st):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ze.prototype.catch=function(st){return this.then(null,st)},ze.prototype.finally=function(st){var Te=this,Ae=Te.constructor;return P(st)?Te.then(function(Ve){return Ae.resolve(st()).then(function(){return Ve})},function(Ve){return Ae.resolve(st()).then(function(){throw Ve})}):Te.then(st,st)},ze}();return Et.prototype.then=de,Et.all=function(ze){return new wt(this,ze).promise},Et.race=function(ze){var st=this;return _(ze)?new st(function(Te,Ae){for(var Ve=ze.length,S=0;S<Ve;S++)st.resolve(ze[S]).then(Te,Ae)}):new st(function(Te,Ae){return Ae(new TypeError("You must pass an array to race."))})},Et.resolve=J,Et.reject=function(ze){var st=new this(ge);return Re(st,ze),st},Et._setScheduler=function(ze){w=ze},Et._setAsap=function(ze){T=ze},Et._asap=T,Et.polyfill=function(){var ze=void 0;if(E.g!==void 0)ze=E.g;else if(typeof self<"u")ze=self;else try{ze=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var st=ze.Promise;if(st){var Te=null;try{Te=Object.prototype.toString.call(st.resolve())}catch{}if(Te==="[object Promise]"&&!st.cast)return}ze.Promise=Et},Et.Promise=Et,Et}()},1159:function(A){var N,E=typeof Reflect=="object"?Reflect:null,P=E&&typeof E.apply=="function"?E.apply:function(B,G,U){return Function.prototype.apply.call(B,G,U)};N=E&&typeof E.ownKeys=="function"?E.ownKeys:Object.getOwnPropertySymbols?function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:function(B){return Object.getOwnPropertyNames(B)};var _=Number.isNaN||function(B){return B!=B};function i(){i.init.call(this)}A.exports=i,A.exports.once=function(B,G){return new Promise(function(U,re){function Z(de){B.removeListener(G,te),re(de)}function te(){typeof B.removeListener=="function"&&B.removeListener("error",Z),U([].slice.call(arguments))}C(B,G,te,{once:!0}),G!=="error"&&function(de,J,le){typeof de.on=="function"&&C(de,"error",J,{once:!0})}(B,Z)})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function w(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}function T(B){return B._maxListeners===void 0?i.defaultMaxListeners:B._maxListeners}function c(B,G,U,re){var Z,te,de,J;if(w(U),(te=B._events)===void 0?(te=B._events=Object.create(null),B._eventsCount=0):(te.newListener!==void 0&&(B.emit("newListener",G,U.listener?U.listener:U),te=B._events),de=te[G]),de===void 0)de=te[G]=U,++B._eventsCount;else if(typeof de=="function"?de=te[G]=re?[U,de]:[de,U]:re?de.unshift(U):de.push(U),(Z=T(B))>0&&de.length>Z&&!de.warned){de.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+de.length+" "+String(G)+" listeners added. Use emitter.setMaxListeners() to increase limit");le.name="MaxListenersExceededWarning",le.emitter=B,le.type=G,le.count=de.length,J=le,console&&console.warn&&console.warn(J)}return B}function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(B,G,U){var re={fired:!1,wrapFn:void 0,target:B,type:G,listener:U},Z=b.bind(re);return Z.listener=U,re.wrapFn=Z,Z}function u(B,G,U){var re=B._events;if(re===void 0)return[];var Z=re[G];return Z===void 0?[]:typeof Z=="function"?U?[Z.listener||Z]:[Z]:U?function(te){for(var de=new Array(te.length),J=0;J<de.length;++J)de[J]=te[J].listener||te[J];return de}(Z):h(Z,Z.length)}function f(B){var G=this._events;if(G!==void 0){var U=G[B];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}function h(B,G){for(var U=new Array(G),re=0;re<G;++re)U[re]=B[re];return U}function C(B,G,U,re){if(typeof B.on=="function")re.once?B.once(G,U):B.on(G,U);else{if(typeof B.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B);B.addEventListener(G,function Z(te){re.once&&B.removeEventListener(G,Z),U(te)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(B){if(typeof B!="number"||B<0||_(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");o=B}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||_(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this},i.prototype.getMaxListeners=function(){return T(this)},i.prototype.emit=function(B){for(var G=[],U=1;U<arguments.length;U++)G.push(arguments[U]);var re=B==="error",Z=this._events;if(Z!==void 0)re=re&&Z.error===void 0;else if(!re)return!1;if(re){var te;if(G.length>0&&(te=G[0]),te instanceof Error)throw te;var de=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw de.context=te,de}var J=Z[B];if(J===void 0)return!1;if(typeof J=="function")P(J,this,G);else{var le=J.length,ge=h(J,le);for(U=0;U<le;++U)P(ge[U],this,G)}return!0},i.prototype.addListener=function(B,G){return c(this,B,G,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(B,G){return c(this,B,G,!0)},i.prototype.once=function(B,G){return w(G),this.on(B,g(this,B,G)),this},i.prototype.prependOnceListener=function(B,G){return w(G),this.prependListener(B,g(this,B,G)),this},i.prototype.removeListener=function(B,G){var U,re,Z,te,de;if(w(G),(re=this._events)===void 0)return this;if((U=re[B])===void 0)return this;if(U===G||U.listener===G)--this._eventsCount==0?this._events=Object.create(null):(delete re[B],re.removeListener&&this.emit("removeListener",B,U.listener||G));else if(typeof U!="function"){for(Z=-1,te=U.length-1;te>=0;te--)if(U[te]===G||U[te].listener===G){de=U[te].listener,Z=te;break}if(Z<0)return this;Z===0?U.shift():function(J,le){for(;le+1<J.length;le++)J[le]=J[le+1];J.pop()}(U,Z),U.length===1&&(re[B]=U[0]),re.removeListener!==void 0&&this.emit("removeListener",B,de||G)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(B){var G,U,re;if((U=this._events)===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[B]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete U[B]),this;if(arguments.length===0){var Z,te=Object.keys(U);for(re=0;re<te.length;++re)(Z=te[re])!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(G=U[B])=="function")this.removeListener(B,G);else if(G!==void 0)for(re=G.length-1;re>=0;re--)this.removeListener(B,G[re]);return this},i.prototype.listeners=function(B){return u(this,B,!0)},i.prototype.rawListeners=function(B){return u(this,B,!1)},i.listenerCount=function(B,G){return typeof B.listenerCount=="function"?B.listenerCount(G):f.call(B,G)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?N(this._events):[]}},3101:function(A){var N=Array.isArray,E=Object.keys,P=Object.prototype.hasOwnProperty;A.exports=function _(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var w,T,c,b=N(i),g=N(o);if(b&&g){if((T=i.length)!=o.length)return!1;for(w=T;w--!=0;)if(!_(i[w],o[w]))return!1;return!0}if(b!=g)return!1;var u=i instanceof Date,f=o instanceof Date;if(u!=f)return!1;if(u&&f)return i.getTime()==o.getTime();var h=i instanceof RegExp,C=o instanceof RegExp;if(h!=C)return!1;if(h&&C)return i.toString()==o.toString();var B=E(i);if((T=B.length)!==E(o).length)return!1;for(w=T;w--!=0;)if(!P.call(o,B[w]))return!1;for(w=T;w--!=0;)if(!_(i[c=B[w]],o[c]))return!1;return!0}return i!=i&&o!=o}},3362:function(A,N,E){(function(P,_,i,o,w){function T(m){if("contents"in m)for(var O=("styleAttrs"in m)?m.styleAttrs[o.byName.ruby.qname]:null,M=m.kind==="span"&&(O==="container"||O==="textContainer"||O==="baseContainer"),oe=m.contents.length-1;oe>=0;oe--)!M||"styleAttrs"in m.contents[oe]&&o.byName.ruby.qname in m.contents[oe].styleAttrs?T(m.contents[oe]):delete m.contents[oe]}function c(m,O,M,oe){var ne=oe&&oe.timeContainer==="seq",Oe=0;oe&&(Oe=ne&&M?M.end:oe.begin),O.begin=O.explicit_begin?O.explicit_begin+Oe:Oe;var nt=O.begin,je=null;if("sets"in O)for(var Ze=0;Ze<O.sets.length;Ze++)c(m,O.sets[Ze],je,O),nt=O.timeContainer==="seq"?O.sets[Ze].end:Math.max(nt,O.sets[Ze].end),je=O.sets[Ze];if("contents"in O){if("contents"in O)for(var Me=0;Me<O.contents.length;Me++)c(m,O.contents[Me],je,O),nt=O.timeContainer==="seq"?O.contents[Me].end:Math.max(nt,O.contents[Me].end),je=O.contents[Me]}else nt=ne?O.begin:Number.POSITIVE_INFINITY;O.explicit_end!==null&&O.explicit_dur!==null?O.end=Math.min(O.begin+O.explicit_dur,Oe+O.explicit_end):O.explicit_end===null&&O.explicit_dur!==null?O.end=O.begin+O.explicit_dur:O.explicit_end!==null&&O.explicit_dur===null?O.end=Oe+O.explicit_end:O.end=nt,delete O.explicit_begin,delete O.explicit_dur,delete O.explicit_end,m._registerEvent(O)}function b(m){this.node=m}function g(){this.events=[],this.head=new u,this.body=null}function u(){this.styling=new f,this.layout=new B}function f(){this.styles={},this.initials={}}function h(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function C(){this.styleAttrs=null}function B(){this.regions={}}function G(m,O){U.call(this,"image"),this.src=m,this.type=O}function U(m){this.kind=m}function re(m){this.id=m}function Z(m){this.regionID=m}function te(m){this.styleAttrs=m}function de(m){this.sets=m}function J(m){this.contents=m}function le(m,O,M){this.explicit_begin=m,this.explicit_end=O,this.explicit_dur=M}function ge(){U.call(this,"body")}function Ce(){U.call(this,"div")}function ae(){U.call(this,"p")}function we(){U.call(this,"span")}function Pe(){U.call(this,"span")}function Ge(){U.call(this,"br")}function Re(){}function xe(){}function $e(m){return m&&"xml:id"in m.attributes&&m.attributes["xml:id"].value||null}function it(m){return m&&"style"in m.attributes?m.attributes.style.value.split(" "):[]}function Ie(m,O){var M={};if(m!==null)for(var oe in m.attributes){var ne=m.attributes[oe].uri+" "+m.attributes[oe].local,Oe=o.byQName[ne];if(Oe!==void 0){var nt=Oe.parse(m.attributes[oe].value);nt!==null?(M[ne]=nt,Oe===o.byName.zIndex&&Te(O,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ae(O,"Cannot parse styling attribute "+ne+" --> "+m.attributes[oe].value)}}return M}function ke(m,O,M){for(var oe in m.attributes)if(m.attributes[oe].uri===O&&m.attributes[oe].local===M)return m.attributes[oe].value;return null}function wt(m,O,M){var oe,ne=null;return(oe=/^(\d+(?:\.\d+)?)f$/.exec(M))!==null?O!==null&&(ne=parseFloat(oe[1])/O):(oe=/^(\d+(?:\.\d+)?)t$/.exec(M))!==null?m!==null&&(ne=parseFloat(oe[1])/m):(oe=/^(\d+(?:\.\d+)?)ms$/.exec(M))!==null?ne=parseFloat(oe[1])/1e3:(oe=/^(\d+(?:\.\d+)?)s$/.exec(M))!==null?ne=parseFloat(oe[1]):(oe=/^(\d+(?:\.\d+)?)h$/.exec(M))!==null?ne=3600*parseFloat(oe[1]):(oe=/^(\d+(?:\.\d+)?)m$/.exec(M))!==null?ne=60*parseFloat(oe[1]):(oe=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(M))!==null?ne=3600*parseInt(oe[1])+60*parseInt(oe[2])+parseFloat(oe[3]):(oe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(M))!==null&&O!==null&&(ne=3600*parseInt(oe[1])+60*parseInt(oe[2])+parseInt(oe[3])+(oe[4]===null?0:parseInt(oe[4])/O)),ne}function Et(m,O,M){for(;O.styleRefs.length>0;){var oe=O.styleRefs.pop();oe in m.styles?(Et(m,m.styles[oe],M),st(m.styles[oe].styleAttrs,O.styleAttrs)):Ae(M,"Non-existant style id referenced")}}function ze(m,O,M,oe){for(var ne=O.length-1;ne>=0;ne--){var Oe=O[ne];Oe in m.styles?st(m.styles[Oe].styleAttrs,M):Ae(oe,"Non-existant style id referenced")}}function st(m,O){for(var M in m)m.hasOwnProperty(M)&&(M in O||(O[M]=m[M]))}function Te(m,O){if(m&&m.warn&&m.warn(O))throw O}function Ae(m,O){if(m&&m.error&&m.error(O))throw O}function Ve(m,O){throw m&&m.fatal&&m.fatal(O),O}function S(m,O){for(var M,oe=0,ne=m.length-1;oe<=ne;){var Oe=m[M=Math.floor((oe+ne)/2)];if(Oe<O)oe=M+1;else{if(!(Oe>O))return{found:!0,index:M};ne=M-1}}return{found:!1,index:oe}}P.fromXML=function(m,O,M){var oe=_.parser(!0,{xmlns:!0}),ne=[],Oe=[],nt=[],je=0,Ze=null;oe.onclosetag=function(dt){if(ne[0]instanceof Re)Ze.head!==null&&Ze.head.styling!==null&&ze(Ze.head.styling,ne[0].styleRefs,ne[0].styleAttrs,O),delete ne[0].styleRefs;else if(ne[0]instanceof f)for(var Vt in ne[0].styles)ne[0].styles.hasOwnProperty(Vt)&&Et(ne[0],ne[0].styles[Vt],O);else if(ne[0]instanceof ae||ne[0]instanceof we){if(ne[0].contents.length>1){var Mt,qt=[ne[0].contents[0]];for(Mt=1;Mt<ne[0].contents.length;Mt++)ne[0].contents[Mt]instanceof Pe&&qt[qt.length-1]instanceof Pe?qt[qt.length-1].text+=ne[0].contents[Mt].text:qt.push(ne[0].contents[Mt]);ne[0].contents=qt}ne[0]instanceof we&&ne[0].contents.length===1&&ne[0].contents[0]instanceof Pe&&(ne[0].text=ne[0].contents[0].text,delete ne[0].contents)}else ne[0]instanceof b&&(ne[0].node.uri===i.ns_tt&&ne[0].node.local==="metadata"?je--:je>0&&M&&"onCloseTag"in M&&M.onCloseTag());nt.shift(),Oe.shift(),ne.shift()},oe.ontext=function(dt){if(ne[0]!==void 0)if(ne[0]instanceof we||ne[0]instanceof ae){if(ne[0]instanceof we){var Vt=ne[0].styleAttrs[o.byName.ruby.qname];if(Vt==="container"||Vt==="textContainer"||Vt==="baseContainer")return}var Mt=new Pe;Mt.initFromText(Ze,ne[0],dt,Oe[0],nt[0],O),ne[0].contents.push(Mt)}else ne[0]instanceof b&&je>0&&M&&"onText"in M&&M.onText(dt)},oe.onopentag=function(dt){var Vt=dt.attributes["xml:space"];Vt?nt.unshift(Vt.value):nt.length===0?nt.unshift("default"):nt.unshift(nt[0]);var Mt=dt.attributes["xml:lang"];if(Mt?Oe.unshift(Mt.value):Oe.length===0?Oe.unshift(""):Oe.unshift(Oe[0]),dt.uri===i.ns_tt)if(dt.local==="tt")Ze!==null&&Ve(O,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ze=new g).initFromNode(dt,Oe[0],O),ne.unshift(Ze);else if(dt.local==="head")ne[0]instanceof g||Ve(O,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ne.unshift(Ze.head);else if(dt.local==="styling")ne[0]instanceof u||Ve(O,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ne.unshift(Ze.head.styling);else if(dt.local==="style"){var qt;ne[0]instanceof f?((qt=new h).initFromNode(dt,O),qt.id?Ze.head.styling.styles[qt.id]=qt:Ae(O,"<style> element missing @id attribute"),ne.unshift(qt)):ne[0]instanceof Re?((qt=new h).initFromNode(dt,O),st(qt.styleAttrs,ne[0].styleAttrs),ne.unshift(qt)):Ve(O,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(dt.local==="initial"){var jt;if(ne[0]instanceof f){for(var hn in(jt=new C).initFromNode(dt,O),jt.styleAttrs)jt.styleAttrs.hasOwnProperty(hn)&&(Ze.head.styling.initials[hn]=jt.styleAttrs[hn]);ne.unshift(jt)}else Ve(O,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(dt.local==="layout")ne[0]instanceof u||Ve(O,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ne.unshift(Ze.head.layout);else if(dt.local==="region"){ne[0]instanceof B||Ve(O,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var bn=new Re;bn.initFromNode(Ze,dt,Oe[0],O),!bn.id||bn.id in Ze.head.layout.regions?Ae(O,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ze.head.layout.regions[bn.id]=bn,ne.unshift(bn)}else if(dt.local==="body"){ne[0]instanceof g||Ve(O,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Ze.body!==null&&Ve(O,"Second <body> element at "+this.line+","+this.column+")");var qn=new ge;qn.initFromNode(Ze,dt,Oe[0],O),Ze.body=qn,ne.unshift(qn)}else if(dt.local==="div"){ne[0]instanceof Ce||ne[0]instanceof ge||Ve(O,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Bn=new Ce;Bn.initFromNode(Ze,ne[0],dt,Oe[0],O);var zn=Bn.styleAttrs[o.byName.backgroundImage.qname];zn&&(Bn.contents.push(new G(zn)),delete Bn.styleAttrs[o.byName.backgroundImage.qname]),ne[0].contents.push(Bn),ne.unshift(Bn)}else if(dt.local==="image"){ne[0]instanceof Ce||Ve(O,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Er=new G;Er.initFromNode(Ze,ne[0],dt,Oe[0],O),ne[0].contents.push(Er),ne.unshift(Er)}else if(dt.local==="p"){ne[0]instanceof Ce||Ve(O,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var xn=new ae;xn.initFromNode(Ze,ne[0],dt,Oe[0],O),ne[0].contents.push(xn),ne.unshift(xn)}else if(dt.local==="span"){ne[0]instanceof we||ne[0]instanceof ae||Ve(O,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Hr=new we;Hr.initFromNode(Ze,ne[0],dt,Oe[0],nt[0],O),ne[0].contents.push(Hr),ne.unshift(Hr)}else if(dt.local==="br"){ne[0]instanceof we||ne[0]instanceof ae||Ve(O,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ur=new Ge;ur.initFromNode(Ze,ne[0],dt,Oe[0],O),ne[0].contents.push(ur),ne.unshift(ur)}else if(dt.local==="set"){ne[0]instanceof we||ne[0]instanceof ae||ne[0]instanceof Ce||ne[0]instanceof ge||ne[0]instanceof Re||ne[0]instanceof Ge||Ve(O,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Nr=new xe;Nr.initFromNode(Ze,ne[0],dt,O),ne[0].sets.push(Nr),ne.unshift(Nr)}else ne.unshift(new b(dt));else ne.unshift(new b(dt));if(ne[0]instanceof b){if(dt.uri===i.ns_tt&&dt.local==="metadata")je++;else if(je>0&&M&&"onOpenTag"in M){var ai=[];for(var Cr in dt.attributes)ai[dt.attributes[Cr].uri+" "+dt.attributes[Cr].local]={uri:dt.attributes[Cr].uri,local:dt.attributes[Cr].local,value:dt.attributes[Cr].value};M.onOpenTag(dt.uri,dt.local,ai)}}},oe.write(m).close(),delete Ze.head.styling.styles;var Me=!1;for(var He in Ze.head.layout.regions)if(Ze.head.layout.regions.hasOwnProperty(He)){Me=!0;break}if(!Me){var at=Re.prototype.createDefaultRegion(Ze.lang);Ze.head.layout.regions[at.id]=at}for(var St in Ze.head.layout.regions)Ze.head.layout.regions.hasOwnProperty(St)&&c(Ze,Ze.head.layout.regions[St],null,null);return Ze.body&&c(Ze,Ze.body,null,null),Ze.body&&T(Ze.body),Ze},g.prototype.initFromNode=function(m,O,M){var oe=function(je,Ze){var Me=ke(je,i.ns_ttp,"cellResolution"),He=15,at=32;if(Me!==null){var St=/(\d+) (\d+)/.exec(Me);St!==null?(at=parseInt(St[1]),He=parseInt(St[2])):Te(Ze,"Malformed cellResolution value (using initial value instead)")}return{w:at,h:He}}(m,M);this.cellLength={h:new w.ComputedLength(0,1/oe.h),w:new w.ComputedLength(1/oe.w,0)};var ne=function(je,Ze){var Me,He=ke(je,i.ns_ttp,"frameRate"),at=30;He!==null&&((Me=/(\d+)/.exec(He))!==null?at=parseInt(Me[1]):Te(Ze,"Malformed frame rate attribute (using initial value instead)"));var St=ke(je,i.ns_ttp,"frameRateMultiplier"),dt=1;St!==null&&((Me=/(\d+) (\d+)/.exec(St))!==null?dt=parseInt(Me[1])/parseInt(Me[2]):Te(Ze,"Malformed frame rate multiplier attribute (using initial value instead)"));var Vt=dt*at,Mt=1,qt=ke(je,i.ns_ttp,"tickRate");return qt===null?He!==null&&(Mt=Vt):(Me=/(\d+)/.exec(qt))!==null?Mt=parseInt(Me[1]):Te(Ze,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Vt,tickRate:Mt}}(m,M);this.effectiveFrameRate=ne.effectiveFrameRate,this.tickRate=ne.tickRate,this.aspectRatio=function(je,Ze){var Me=ke(je,i.ns_ittp,"aspectRatio");Me===null&&(Me=ke(je,i.ns_ttp,"displayAspectRatio"));var He=null;if(Me!==null){var at=/(\d+)\s+(\d+)/.exec(Me);if(at!==null){var St=parseInt(at[1]),dt=parseInt(at[2]);St!==0&&dt!==0?He=St/dt:Ae(Ze,"Illegal aspectRatio values (ignoring)")}else Ae(Ze,"Malformed aspectRatio attribute (ignoring)")}return He}(m,M);var Oe=ke(m,i.ns_ttp,"timeBase");Oe!==null&&Oe!=="media"&&Ve(M,"Unsupported time base");var nt=function(je,Ze){var Me=ke(je,i.ns_tts,"extent");if(Me===null)return null;var He=Me.split(" ");if(He.length!==2)return Te(Ze,"Malformed extent (ignoring)"),null;var at=w.parseLength(He[0]),St=w.parseLength(He[1]);return St&&at?{h:St,w:at}:(Te(Ze,"Malformed extent values (ignoring)"),null)}(m,M);nt===null?this.pxLength={h:null,w:null}:(nt.h.unit==="px"&&nt.w.unit==="px"||Ve(M,"Extent on TT must be in px or absent"),this.pxLength={h:new w.ComputedLength(0,1/nt.h.value),w:new w.ComputedLength(1/nt.w.value,0)}),this.dimensions={h:new w.ComputedLength(0,1),w:new w.ComputedLength(1,0)},this.lang=O},g.prototype._registerEvent=function(m){if(!(m.end<=m.begin)){var O=S(this.events,m.begin);if(O.found||this.events.splice(O.index,0,m.begin),m.end!==Number.POSITIVE_INFINITY){var M=S(this.events,m.end);M.found||this.events.splice(M.index,0,m.end)}}},g.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},g.prototype.getMediaTimeEvents=function(){return this.events},h.prototype.initFromNode=function(m,O){this.id=$e(m),this.styleAttrs=Ie(m,O),this.styleRefs=it(m)},C.prototype.initFromNode=function(m,O){for(var M in this.styleAttrs={},m.attributes)if(m.attributes[M].uri===i.ns_itts||m.attributes[M].uri===i.ns_ebutts||m.attributes[M].uri===i.ns_tts){var oe=m.attributes[M].uri+" "+m.attributes[M].local;this.styleAttrs[oe]=m.attributes[M].value}},G.prototype.initFromNode=function(m,O,M,oe,ne){this.src="src"in M.attributes?M.attributes.src.value:null,this.src||Ae(ne,"Invalid image@src attribute"),this.type="type"in M.attributes?M.attributes.type.value:null,this.type||Ae(ne,"Invalid image@type attribute"),te.prototype.initFromNode.call(this,m,O,M,ne),le.prototype.initFromNode.call(this,m,O,M,ne),de.prototype.initFromNode.call(this,m,O,M,ne),Z.prototype.initFromNode.call(this,m,O,M,ne),this.lang=oe},re.prototype.initFromNode=function(m,O,M,oe){this.id=$e(M)},Z.prototype.initFromNode=function(m,O,M,oe){this.regionID=function(ne){return ne&&"region"in ne.attributes?ne.attributes.region.value:""}(M)},te.prototype.initFromNode=function(m,O,M,oe){this.styleAttrs=Ie(M,oe),m.head!==null&&m.head.styling!==null&&ze(m.head.styling,it(M),this.styleAttrs,oe)},de.prototype.initFromNode=function(m,O,M,oe){this.sets=[]},J.prototype.initFromNode=function(m,O,M,oe){this.contents=[]},le.prototype.initFromNode=function(m,O,M,oe){var ne=function(Oe,nt,je,Ze){var Me=null;je&&"begin"in je.attributes&&(Me=wt(Oe.tickRate,Oe.effectiveFrameRate,je.attributes.begin.value))===null&&Te(Ze,"Malformed begin value "+je.attributes.begin.value+" (using 0)");var He=null;je&&"dur"in je.attributes&&(He=wt(Oe.tickRate,Oe.effectiveFrameRate,je.attributes.dur.value))===null&&Te(Ze,"Malformed dur value "+je.attributes.dur.value+" (ignoring)");var at=null;return je&&"end"in je.attributes&&(at=wt(Oe.tickRate,Oe.effectiveFrameRate,je.attributes.end.value))===null&&Te(Ze,"Malformed end value (ignoring)"),{explicit_begin:Me,explicit_end:at,explicit_dur:He}}(m,0,M,oe);this.explicit_begin=ne.explicit_begin,this.explicit_end=ne.explicit_end,this.explicit_dur=ne.explicit_dur,this.timeContainer=function(Oe,nt){var je=Oe&&"timeContainer"in Oe.attributes?Oe.attributes.timeContainer.value:null;return je&&je!=="par"?je==="seq"?"seq":(Ae(nt,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(M,oe)},ge.prototype.initFromNode=function(m,O,M,oe){te.prototype.initFromNode.call(this,m,null,O,oe),le.prototype.initFromNode.call(this,m,null,O,oe),de.prototype.initFromNode.call(this,m,null,O,oe),Z.prototype.initFromNode.call(this,m,null,O,oe),J.prototype.initFromNode.call(this,m,null,O,oe),this.lang=M},Ce.prototype.initFromNode=function(m,O,M,oe,ne){te.prototype.initFromNode.call(this,m,O,M,ne),le.prototype.initFromNode.call(this,m,O,M,ne),de.prototype.initFromNode.call(this,m,O,M,ne),Z.prototype.initFromNode.call(this,m,O,M,ne),J.prototype.initFromNode.call(this,m,O,M,ne),this.lang=oe},ae.prototype.initFromNode=function(m,O,M,oe,ne){te.prototype.initFromNode.call(this,m,O,M,ne),le.prototype.initFromNode.call(this,m,O,M,ne),de.prototype.initFromNode.call(this,m,O,M,ne),Z.prototype.initFromNode.call(this,m,O,M,ne),J.prototype.initFromNode.call(this,m,O,M,ne),this.lang=oe},we.prototype.initFromNode=function(m,O,M,oe,ne,Oe){te.prototype.initFromNode.call(this,m,O,M,Oe),le.prototype.initFromNode.call(this,m,O,M,Oe),de.prototype.initFromNode.call(this,m,O,M,Oe),Z.prototype.initFromNode.call(this,m,O,M,Oe),J.prototype.initFromNode.call(this,m,O,M,Oe),this.space=ne,this.lang=oe},Pe.prototype.initFromText=function(m,O,M,oe,ne,Oe){le.prototype.initFromNode.call(this,m,O,null,Oe),this.text=M,this.space=ne,this.lang=oe},Ge.prototype.initFromNode=function(m,O,M,oe,ne){Z.prototype.initFromNode.call(this,m,O,M,ne),le.prototype.initFromNode.call(this,m,O,M,ne),this.lang=oe},Re.prototype.createDefaultRegion=function(m){var O=new Re;return re.call(O,""),te.call(O,{}),de.call(O,[]),le.call(O,0,Number.POSITIVE_INFINITY,null),this.lang=m,O},Re.prototype.initFromNode=function(m,O,M,oe){re.prototype.initFromNode.call(this,m,null,O,oe),le.prototype.initFromNode.call(this,m,null,O,oe),de.prototype.initFromNode.call(this,m,null,O,oe),this.styleAttrs=Ie(O,oe),this.styleRefs=it(O),this.lang=M},xe.prototype.initFromNode=function(m,O,M,oe){le.prototype.initFromNode.call(this,m,O,M,oe);var ne=Ie(M,oe);for(var Oe in this.qname=null,this.value=null,ne)if(ne.hasOwnProperty(Oe)){if(this.qname){Ae(oe,"More than one style specified on set");break}this.qname=Oe,this.value=ne[Oe]}}})(N,typeof sax>"u"?E(5378):sax,typeof imscNames>"u"?E(210):imscNames,typeof imscStyles>"u"?E(6811):imscStyles,typeof imscUtils>"u"?E(5926):imscUtils)},506:function(A,N,E){var P=/firefox/i.test(navigator.userAgent);(function(_,i,o){function w(J,le,ge,Ce){var ae;if(ge.kind==="region")(ae=document.createElement("div")).style.position="absolute";else if(ge.kind==="body")ae=document.createElement("div");else if(ge.kind==="div")ae=document.createElement("div");else if(ge.kind==="image"){if(ae=document.createElement("img"),J.imgResolver!==null&&ge.src!==null){var we=J.imgResolver(ge.src,ae);we&&(ae.src=we),ae.height=J.regionH,ae.width=J.regionW}}else if(ge.kind==="p")ae=document.createElement("p");else if(ge.kind==="span")if(ge.styleAttrs[o.byName.ruby.qname]==="container")ae=document.createElement("ruby"),J.ruby=!0;else if(ge.styleAttrs[o.byName.ruby.qname]==="base")ae=document.createElement("span");else if(ge.styleAttrs[o.byName.ruby.qname]==="text")ae=document.createElement("rt");else if(ge.styleAttrs[o.byName.ruby.qname]==="baseContainer")ae=document.createElement("rbc");else if(ge.styleAttrs[o.byName.ruby.qname]==="textContainer")ae=document.createElement("rtc");else{if(ge.styleAttrs[o.byName.ruby.qname]==="delimiter")return;ae=document.createElement("span")}else ge.kind==="br"&&(ae=document.createElement("br"));if(ae){if(ge.lang&&(ge.kind!=="region"&&ge.lang===Ce.lang||(ae.lang=ge.lang)),le.appendChild(ae),ae.style.margin="0",ge.kind==="region"){var Pe=ge.styleAttrs[o.byName.writingMode.qname];Pe==="lrtb"||Pe==="lr"?(J.ipd="lr",J.bpd="tb"):Pe==="rltb"||Pe==="rl"?(J.ipd="rl",J.bpd="tb"):Pe==="tblr"?(J.ipd="tb",J.bpd="lr"):Pe!=="tbrl"&&Pe!=="tb"||(J.ipd="tb",J.bpd="rl")}else if(ge.kind==="p"&&J.bpd==="tb"){var Ge=ge.styleAttrs[o.byName.direction.qname];J.ipd=Ge==="ltr"?"lr":"rl"}for(var Re=0;Re<C.length;Re++){var xe=C[Re],$e=ge.styleAttrs[xe.qname];$e!==void 0&&xe.map!==null&&xe.map(J,ae,ge,$e)}var it=ae,Ie=ge.styleAttrs[o.byName.linePadding.qname];if(Ie&&!Ie.isZero()){var ke=Ie.toUsedLength(J.w,J.h);if(ke>0){var wt=Math.ceil(ke)+"px";J.bpd==="tb"?(it.style.paddingLeft=wt,it.style.paddingRight=wt):(it.style.paddingTop=wt,it.style.paddingBottom=wt),J.lp=Ie}}var Et=ge.styleAttrs[o.byName.multiRowAlign.qname];if(Et&&Et!=="auto"){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=Et,ae.appendChild(ze),it=ze,J.mra=Et}var st=ge.styleAttrs[o.byName.rubyReserve.qname];if(st&&st[0]!=="none"&&(J.rubyReserve=st),ge.styleAttrs[o.byName.fillLineGap.qname]&&(J.flg=!0),ge.kind==="span"&&ge.text){var Te=ge.styleAttrs[o.byName.textEmphasis.qname];if(Te&&Te.style!=="none"&&(J.textEmphasis=!0),o.byName.textCombine.qname in ge.styleAttrs&&ge.styleAttrs[o.byName.textCombine.qname]==="all")ae.textContent=ge.text,ae._isd_element=ge,Te&&f(J,ae,0,Te);else for(var Ae="",Ve=0;Ve<ge.text.length;Ve++){Ae+=ge.text.charAt(Ve);var S=ge.text.charCodeAt(Ve);if(S<55296||S>56319||Ve===ge.text.length-1){var m=document.createElement("span");m.textContent=Ae,Te&&f(J,m,0,Te),ae.appendChild(m),Ae="",m._isd_element=ge}}}if("contents"in ge)for(var O=0;O<ge.contents.length;O++)w(J,it,ge.contents[O],ge);var M=[];if(ge.kind==="p"&&(u(J,it,M,null),J.rubyReserve&&(function(je,Ze){for(var Me=0;Me<je.length;Me++){var He,at,St=document.createElement("ruby"),dt=document.createElement("span");dt.textContent="",St.appendChild(dt);var Vt,Mt=Ze.rubyReserve[1].toUsedLength(Ze.w,Ze.h)+"px";Ze.rubyReserve[0]==="both"||Ze.rubyReserve[0]==="outside"&&je.length==1?((He=document.createElement("rtc")).style[re]=U?"after":"under",He.textContent="",He.style.fontSize=Mt,(at=document.createElement("rtc")).style[re]=U?"before":"over",at.textContent="",at.style.fontSize=Mt,St.appendChild(He),St.appendChild(at)):((He=document.createElement("rtc")).textContent="",He.style.fontSize=Mt,Vt=Ze.rubyReserve[0]==="after"||Ze.rubyReserve[0]==="outside"&&Me>0?U?"after":Ze.bpd==="tb"||Ze.bpd==="rl"?"under":"over":U?"before":Ze.bpd==="tb"||Ze.bpd==="rl"?"over":"under",He.style[re]=Vt,St.appendChild(He));for(var qt=null,jt=0;jt<je[Me].rbc.length;jt++)if(je[Me].rbc[jt].localName==="ruby"){qt=je[Me].rbc[jt];for(var hn=0;hn<qt.style.length;hn++)St.style.setProperty(qt.style.item(hn),qt.style.getPropertyValue(qt.style.item(hn)));break}(qt=qt||je[Me].elements[0].node).parentElement.insertBefore(St,qt)}}(M,J),J.rubyReserve=null),(J.ruby||J.rubyReserve)&&(function(je,Ze){for(var Me=0;Me<je.length;Me++)for(var He=0;He<je[Me].rbc.length;He++){var at;je[Me].rbc[He].style[re]||(at=U?Me===0?"before":"after":Ze.bpd==="tb"||Ze.bpd==="rl"?Me===0?"over":"under":Me===0?"under":"over",je[Me].rbc[He].style[re]=at)}}(M,J),J.ruby=null),J.textEmphasis&&(function(je,Ze){for(var Me=0;Me<je.length;Me++)for(var He=0;He<je[Me].te.length;He++){var at;je[Me].te[He].style[te]&&je[Me].te[He].style[te]!=="none"||(at=Ze.bpd==="tb"?Me===0?"left over":"left under":Ze.bpd==="rl"?Me===0?"right under":"left under":Me===0?"left under":"right under",je[Me].te[He].style[te]=at)}}(M,J),J.textEmphasis=null),J.mra&&(function(je){for(var Ze=0;Ze<je.length-1;Ze++){var Me=je[Ze].elements.length;if(Me!==0&&je[Ze].br===!1){var He=document.createElement("br"),at=je[Ze].elements[Me-1].node;at.parentElement.insertBefore(He,at.nextSibling)}}}(M),J.mra=null),J.lp&&(function(je,Ze,Me){if(je!==null)for(var He=0;He<je.length;He++){var at=je[He].elements.length,St=Math.ceil(Ze)+"px",dt="-"+Math.ceil(Ze)+"px";if(at!==0){var Vt=je[He].elements[je[He].start_elem],Mt=je[He].elements[je[He].end_elem];if(Vt===Mt){var qt=Vt.node.getBoundingClientRect();if(qt.width==0||qt.height==0)continue}Me.ipd==="lr"?(Vt.node.style.marginLeft=dt,Vt.node.style.paddingLeft=St):Me.ipd==="rl"?(Vt.node.style.paddingRight=St,Vt.node.style.marginRight=dt):Me.ipd==="tb"&&(Vt.node.style.paddingTop=St,Vt.node.style.marginTop=dt),Me.ipd==="lr"?(P||(Mt.node.style.marginRight=dt),Mt.node.style.paddingRight=St):Me.ipd==="rl"?(Mt.node.style.paddingLeft=St,P||(Mt.node.style.marginLeft=dt)):Me.ipd==="tb"&&(Mt.node.style.paddingBottom=St,Mt.node.style.marginBottom=dt)}}}(M,J.lp.toUsedLength(J.w,J.h),J),J.lp=null),function(je,Ze){for(var Me=0;Me<je.length;Me++)for(var He=je[Me],at=1;at<He.elements.length;){var St=He.elements[at-1],dt=He.elements[at];c(St.node,dt.node,Ze)?He.elements.splice(at,1):at++}for(var Vt,Mt,qt=[],jt=0;jt<je.length;jt++)for(var hn=0;hn<je[jt].elements.length;hn++)(Mt=T(Vt=je[jt].elements[hn].node,qt,!1))&&(Vt.style.backgroundColor=Mt);for(var bn=0;bn<qt.length;bn++)qt[bn].style.backgroundColor=""}(M,J),J.flg)){var oe=g(it.getBoundingClientRect(),J);(function(je,Ze,Me,He,at){for(var St=Math.sign(Me-Ze),dt=0;dt<=je.length;dt++){var Vt,Mt,qt,jt;if(Vt=dt===0?Math.round(Ze):dt===je.length?Math.round(Me):Math.round((je[dt-1].after+je[dt].before)/2),dt>0&&je[dt-1])for(qt=0;qt<je[dt-1].elements.length;qt++)Mt=St*(Vt-(jt=je[dt-1].elements[qt]).after)+"px",He.bpd==="lr"?jt.node.style.paddingRight=Mt:He.bpd==="rl"?jt.node.style.paddingLeft=Mt:He.bpd==="tb"&&(jt.node.style.paddingBottom=Mt);if(dt<je.length)for(qt=0;qt<je[dt].elements.length;qt++)Mt=St*((jt=je[dt].elements[qt]).before-Vt)+"px",He.bpd==="lr"?jt.node.style.paddingLeft=Mt:He.bpd==="rl"?jt.node.style.paddingRight=Mt:He.bpd==="tb"&&(jt.node.style.paddingTop=Mt)}})(M,oe.before,oe.after,J),J.flg=null}if(ge.kind==="region"&&J.bpd==="tb"&&J.enableRollUp&&ge.contents.length>0&&ge.styleAttrs[o.byName.displayAlign.qname]==="after"){u(J,it,M,null);var ne=new b(ge.id===""?"_":ge.id,M);if(J.currentISDState[ne.id]=ne,J.previousISDState&&ne.id in J.previousISDState&&J.previousISDState[ne.id].plist.length>0&&ne.plist.length>1&&ne.plist[ne.plist.length-2].text===J.previousISDState[ne.id].plist[J.previousISDState[ne.id].plist.length-1].text){var Oe=ae.firstElementChild,nt=ne.plist[ne.plist.length-1].after-ne.plist[ne.plist.length-1].before;Oe.style.bottom="-"+nt+"px",Oe.style.transition="transform 0.4s",Oe.style.position="relative",Oe.style.transform="translateY(-"+nt+"px)"}}}else de(J.errorHandler,"Error processing ISD element kind: "+ge.kind)}function T(J,le,ge){return J.style.backgroundColor?(ge&&!le.includes(J)&&le.push(J),J.style.backgroundColor):J.parentElement.nodeName==="SPAN"||J.parentElement.nodeName==="RUBY"||J.parentElement.nodeName==="RBC"||J.parentElement.nodeName==="RTC"||J.parentElement.nodeName==="RT"?T(J.parentElement,le,!0):void 0}function c(J,le,ge){if(J.tagName==="SPAN"&&le.tagName==="SPAN"&&J._isd_element===le._isd_element){if(!J._isd_element)return de(ge.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;J.textContent+=le.textContent;for(var Ce=0;Ce<le.style.length;Ce++){var ae=le.style[Ce];(ae.indexOf("border")>=0||ae.indexOf("padding")>=0||ae.indexOf("margin")>=0)&&(J.style[ae]=le.style[ae])}return le.parentElement.removeChild(le),!0}return!1}function b(J,le){this.id=J,this.plist=le}function g(J,le){var ge={before:null,after:null,start:null,end:null};return le.bpd==="tb"?(ge.before=J.top,ge.after=J.bottom,le.ipd==="lr"?(ge.start=J.left,ge.end=J.right):(ge.start=J.right,ge.end=J.left)):le.bpd==="lr"?(ge.before=J.left,ge.after=J.right,ge.start=J.top,ge.end=J.bottom):le.bpd==="rl"&&(ge.before=J.right,ge.after=J.left,ge.start=J.top,ge.end=J.bottom),ge}function u(J,le,ge,Ce){if(le.localName!=="rt"&&le.localName!=="rtc"){var ae,we,Pe,Ge,Re=le.style.backgroundColor||Ce;if(le.childElementCount===0)if(le.localName==="span"||le.localName==="rb"){var xe=g(le.getBoundingClientRect(),J);if(ge.length!==0&&(ae=xe.before,we=xe.after,Pe=ge[ge.length-1].before,we<(Ge=ge[ge.length-1].after)&&ae>Pe||Ge<=we&&Pe>=ae)){var $e=Math.sign(xe.after-xe.before),it=Math.sign(xe.end-xe.start);$e*(xe.before-ge[ge.length-1].before)<0&&(ge[ge.length-1].before=xe.before),$e*(xe.after-ge[ge.length-1].after)>0&&(ge[ge.length-1].after=xe.after),it*(xe.start-ge[ge.length-1].start)<0&&(ge[ge.length-1].start=xe.start,ge[ge.length-1].start_elem=ge[ge.length-1].elements.length),it*(xe.end-ge[ge.length-1].end)>0&&(ge[ge.length-1].end=xe.end,ge[ge.length-1].end_elem=ge[ge.length-1].elements.length)}else ge.push({before:xe.before,after:xe.after,start:xe.start,end:xe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});ge[ge.length-1].text+=le.textContent,ge[ge.length-1].elements.push({node:le,bgcolor:Re,before:xe.before,after:xe.after})}else le.localName==="br"&&ge.length!==0&&(ge[ge.length-1].br=!0);else for(var Ie=le.firstChild;Ie;)Ie.nodeType===Node.ELEMENT_NODE&&(u(J,Ie,ge,Re),Ie.localName==="ruby"||Ie.localName==="rtc"?ge.length>0&&ge[ge.length-1].rbc.push(Ie):Ie.localName==="span"&&Ie.style[Z]&&Ie.style[Z]!=="none"&&ge.length>0&&ge[ge.length-1].te.push(Ie)),Ie=Ie.nextSibling}}function f(J,le,ge,Ce){var ae;Ce.style!=="none"&&(Ce.style==="auto"?le.style[Z]="filled":le.style[Z]=Ce.style+" "+Ce.symbol,(Ce.position==="before"||Ce.position==="after")&&(ae=J.bpd==="tb"?Ce.position==="before"?"left over":"left under":J.bpd==="rl"?Ce.position==="before"?"right under":"left under":Ce.position==="before"?"left under":"right under",le.style[te]=ae))}function h(J,le){this.qname=J,this.map=le}_.render=function(J,le,ge,Ce,ae,we,Pe,Ge,Re){var xe=Ce||le.clientHeight,$e=ae||le.clientWidth;if(J.aspectRatio!==null){var it=xe*J.aspectRatio;it>$e?xe=Math.round($e/J.aspectRatio):$e=it}var Ie=document.createElement("div");Ie.style.position="relative",Ie.style.width=$e+"px",Ie.style.height=xe+"px",Ie.style.margin="auto",Ie.style.top=0,Ie.style.bottom=0,Ie.style.left=0,Ie.style.right=0,Ie.style.zIndex=0;var ke={h:xe,w:$e,regionH:null,regionW:null,imgResolver:ge,displayForcedOnlyMode:we||!1,isd:J,errorHandler:Pe,previousISDState:Ge,enableRollUp:Re||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(le.appendChild(Ie),"contents"in J)for(var wt=0;wt<J.contents.length;wt++)w(ke,Ie,J.contents[wt],J);return ke.currentISDState};for(var C=[new h("http://www.w3.org/ns/ttml#styling backgroundColor",function(J,le,ge,Ce){Ce[3]!==0&&(le.style.backgroundColor="rgba("+Ce[0].toString()+","+Ce[1].toString()+","+Ce[2].toString()+","+(Ce[3]/255).toString()+")")}),new h("http://www.w3.org/ns/ttml#styling color",function(J,le,ge,Ce){le.style.color="rgba("+Ce[0].toString()+","+Ce[1].toString()+","+Ce[2].toString()+","+(Ce[3]/255).toString()+")"}),new h("http://www.w3.org/ns/ttml#styling direction",function(J,le,ge,Ce){le.style.direction=Ce}),new h("http://www.w3.org/ns/ttml#styling display",function(J,le,ge,Ce){}),new h("http://www.w3.org/ns/ttml#styling displayAlign",function(J,le,ge,Ce){le.style.display="flex",le.style.flexDirection="column",Ce==="before"?le.style.justifyContent="flex-start":Ce==="center"?le.style.justifyContent="center":Ce==="after"&&(le.style.justifyContent="flex-end")}),new h("http://www.w3.org/ns/ttml#styling extent",function(J,le,ge,Ce){J.regionH=Ce.h.toUsedLength(J.w,J.h),J.regionW=Ce.w.toUsedLength(J.w,J.h);var ae=0,we=0,Pe=ge.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Pe&&(ae=Pe[0].toUsedLength(J.w,J.h)+Pe[2].toUsedLength(J.w,J.h),we=Pe[1].toUsedLength(J.w,J.h)+Pe[3].toUsedLength(J.w,J.h)),le.style.height=J.regionH-ae+"px",le.style.width=J.regionW-we+"px"}),new h("http://www.w3.org/ns/ttml#styling fontFamily",function(J,le,ge,Ce){for(var ae=[],we=0;we<Ce.length;we++)Ce[we]=Ce[we].trim(),Ce[we]==="monospaceSerif"?(ae.push("Courier New"),ae.push('"Liberation Mono"'),ae.push("Courier"),ae.push("monospace")):Ce[we]==="proportionalSansSerif"?(ae.push("Arial"),ae.push("Helvetica"),ae.push('"Liberation Sans"'),ae.push("sans-serif")):Ce[we]==="monospace"?ae.push("monospace"):Ce[we]==="sansSerif"?ae.push("sans-serif"):Ce[we]==="serif"?ae.push("serif"):Ce[we]==="monospaceSansSerif"?(ae.push("Consolas"),ae.push("monospace")):Ce[we]==="proportionalSerif"?ae.push("serif"):ae.push(Ce[we]);if(ae.length>0){for(var Pe=[ae[0]],Ge=1;Ge<ae.length;Ge++)Pe.indexOf(ae[Ge])==-1&&Pe.push(ae[Ge]);ae=Pe}le.style.fontFamily=ae.join(",")}),new h("http://www.w3.org/ns/ttml#styling shear",function(J,le,ge,Ce){if(Ce!==0){var ae=-.9*Ce;J.bpd==="tb"?le.style.transform="skewX("+ae+"deg)":le.style.transform="skewY("+ae+"deg)"}}),new h("http://www.w3.org/ns/ttml#styling fontSize",function(J,le,ge,Ce){le.style.fontSize=Ce.toUsedLength(J.w,J.h)+"px"}),new h("http://www.w3.org/ns/ttml#styling fontStyle",function(J,le,ge,Ce){le.style.fontStyle=Ce}),new h("http://www.w3.org/ns/ttml#styling fontWeight",function(J,le,ge,Ce){le.style.fontWeight=Ce}),new h("http://www.w3.org/ns/ttml#styling lineHeight",function(J,le,ge,Ce){le.style.lineHeight=Ce==="normal"?"normal":Ce.toUsedLength(J.w,J.h)+"px"}),new h("http://www.w3.org/ns/ttml#styling opacity",function(J,le,ge,Ce){le.style.opacity=Ce}),new h("http://www.w3.org/ns/ttml#styling origin",function(J,le,ge,Ce){le.style.top=Ce.h.toUsedLength(J.w,J.h)+"px",le.style.left=Ce.w.toUsedLength(J.w,J.h)+"px"}),new h("http://www.w3.org/ns/ttml#styling overflow",function(J,le,ge,Ce){le.style.overflow=Ce}),new h("http://www.w3.org/ns/ttml#styling padding",function(J,le,ge,Ce){var ae=[];ae[0]=Ce[0].toUsedLength(J.w,J.h)+"px",ae[1]=Ce[3].toUsedLength(J.w,J.h)+"px",ae[2]=Ce[2].toUsedLength(J.w,J.h)+"px",ae[3]=Ce[1].toUsedLength(J.w,J.h)+"px",le.style.padding=ae.join(" ")}),new h("http://www.w3.org/ns/ttml#styling position",function(J,le,ge,Ce){le.style.top=Ce.h.toUsedLength(J.w,J.h)+"px",le.style.left=Ce.w.toUsedLength(J.w,J.h)+"px"}),new h("http://www.w3.org/ns/ttml#styling rubyAlign",function(J,le,ge,Ce){le.style.rubyAlign=Ce==="spaceAround"?"space-around":"center"}),new h("http://www.w3.org/ns/ttml#styling rubyPosition",function(J,le,ge,Ce){var ae;Ce!=="before"&&Ce!=="after"||(ae=U?Ce:J.bpd==="tb"||J.bpd==="rl"?Ce==="before"?"over":"under":Ce==="before"?"under":"over",le.parentElement.style[re]=ae)}),new h("http://www.w3.org/ns/ttml#styling showBackground",null),new h("http://www.w3.org/ns/ttml#styling textAlign",function(J,le,ge,Ce){var ae;ae=Ce==="start"?J.ipd==="rl"?"right":"left":Ce==="end"?J.ipd==="rl"?"left":"right":Ce,le.style.textAlign=ae}),new h("http://www.w3.org/ns/ttml#styling textDecoration",function(J,le,ge,Ce){le.style.textDecoration=Ce.join(" ").replace("lineThrough","line-through")}),new h("http://www.w3.org/ns/ttml#styling textOutline",function(J,le,ge,Ce){}),new h("http://www.w3.org/ns/ttml#styling textShadow",function(J,le,ge,Ce){var ae=ge.styleAttrs[o.byName.textOutline.qname];if(Ce==="none"&&ae==="none")le.style.textShadow="";else{var we=[];if(ae!=="none"){var Pe="rgba("+ae.color[0].toString()+","+ae.color[1].toString()+","+ae.color[2].toString()+","+(ae.color[3]/255).toString()+")";we.push("1px 1px 1px "+Pe),we.push("-1px 1px 1px "+Pe),we.push("1px -1px 1px "+Pe),we.push("-1px -1px 1px "+Pe)}if(Ce!=="none")for(var Ge=0;Ge<Ce.length;Ge++)we.push(Ce[Ge].x_off.toUsedLength(J.w,J.h)+"px "+Ce[Ge].y_off.toUsedLength(J.w,J.h)+"px "+Ce[Ge].b_radius.toUsedLength(J.w,J.h)+"px rgba("+Ce[Ge].color[0].toString()+","+Ce[Ge].color[1].toString()+","+Ce[Ge].color[2].toString()+","+(Ce[Ge].color[3]/255).toString()+")");le.style.textShadow=we.join(",")}}),new h("http://www.w3.org/ns/ttml#styling textCombine",function(J,le,ge,Ce){le.style.textCombineUpright=Ce}),new h("http://www.w3.org/ns/ttml#styling textEmphasis",function(J,le,ge,Ce){}),new h("http://www.w3.org/ns/ttml#styling unicodeBidi",function(J,le,ge,Ce){var ae;ae=Ce==="bidiOverride"?"bidi-override":Ce,le.style.unicodeBidi=ae}),new h("http://www.w3.org/ns/ttml#styling visibility",function(J,le,ge,Ce){le.style.visibility=Ce}),new h("http://www.w3.org/ns/ttml#styling wrapOption",function(J,le,ge,Ce){Ce==="wrap"?ge.space==="preserve"?le.style.whiteSpace="pre-wrap":le.style.whiteSpace="normal":ge.space==="preserve"?le.style.whiteSpace="pre":le.style.whiteSpace="noWrap"}),new h("http://www.w3.org/ns/ttml#styling writingMode",function(J,le,ge,Ce){Ce==="lrtb"||Ce==="lr"||Ce==="rltb"||Ce==="rl"?le.style.writingMode="horizontal-tb":Ce==="tblr"?le.style.writingMode="vertical-lr":Ce!=="tbrl"&&Ce!=="tb"||(le.style.writingMode="vertical-rl")}),new h("http://www.w3.org/ns/ttml#styling zIndex",function(J,le,ge,Ce){le.style.zIndex=Ce}),new h("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(J,le,ge,Ce){J.displayForcedOnlyMode&&Ce===!1&&(le.style.visibility="hidden")})],B={},G=0;G<C.length;G++)B[C[G].qname]=C[G];var U="webkitRubyPosition"in window.getComputedStyle(document.documentElement),re=U?"webkitRubyPosition":"rubyPosition",Z="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",te="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function de(J,le){if(J&&J.error&&J.error(le))throw le}})(N,typeof imscNames>"u"?E(210):imscNames,typeof imscStyles>"u"?E(6811):imscStyles,typeof imscUtils>"u"?E(5926):imscUtils)},4080:function(A,N,E){(function(P,_,i,o){P.generateISD=function(h,C,B){var G,U=new g(h),re={},Z={},te=h.head.styling.initials[i.byName.showBackground.qname],de=h.head.styling.initials[i.byName.backgroundColor.qname];for(var J in h.head.layout.regions)if(h.head.layout.regions.hasOwnProperty(J)){var le=h.head.layout.regions[J],ge=le.styleAttrs[i.byName.showBackground.qname]||te,Ce=le.styleAttrs[i.byName.backgroundColor.qname]||de;Z[le.id]=(ge==="always"||ge===void 0)&&Ce!==void 0&&!(C<le.begin||C>=le.end)}for(var ae in h.body&&h.body.regionID&&(Z[h.body.regionID]=!0),G=h.body!==null?function Pe(Ge,Re){if(Re.contents){var xe={};for(var $e in Re)Re.hasOwnProperty($e)&&(xe[$e]=Re[$e]);return xe.contents=[],Re.contents.filter(function(it){return!(Ge<it.begin||Ge>=it.end)}).forEach(function(it){var Ie=Pe(Ge,it);Ie.regionID&&(Z[Ie.regionID]=!0),Ie!==null&&xe.contents.push(Ie)}),xe}return Re}(C,h.body):null,Z[""]!==void 0&&(Z[""]=!0),Z)if(Z[ae]){var we=T(h,C,h.head.layout.regions[ae],G,null,"",h.head.layout.regions[ae],B,re);we!==null&&U.contents.push(we.element)}return U};var w=[i.byName.color.qname,i.byName.textCombine.qname,i.byName.textDecoration.qname,i.byName.textEmphasis.qname,i.byName.textOutline.qname,i.byName.textShadow.qname];function T(h,C,B,G,U,re,Z,te,de){if(C<Z.begin||C>=Z.end)return null;var J="regionID"in Z&&Z.regionID!==""?Z.regionID:re;if(U!==null&&J!==B.id&&(!("contents"in Z)||"contents"in Z&&Z.contents.length===0||J!==""))return null;var le=new u(Z);if("sets"in Z)for(var ge=0;ge<Z.sets.length;ge++)C<Z.sets[ge].begin||C>=Z.sets[ge].end||(le.styleAttrs[Z.sets[ge].qname]=Z.sets[ge].value);var Ce={};for(var ae in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ae)&&(Ce[ae]=!0,le.kind==="region"&&ae===i.byName.writingMode.qname&&!(i.byName.direction.qname in le.styleAttrs))){var we=le.styleAttrs[ae];we==="lrtb"||we==="lr"?le.styleAttrs[i.byName.direction.qname]="ltr":we!=="rltb"&&we!=="rl"||(le.styleAttrs[i.byName.direction.qname]="rtl")}if(U!==null)for(var Pe=0;Pe<i.all.length;Pe++){var Ge=i.all[Pe];if(Ge.qname===i.byName.textDecoration.qname){var Re=U.styleAttrs[Ge.qname],xe=le.styleAttrs[Ge.qname],$e=[];xe===void 0?$e=Re:xe.indexOf("none")===-1?((xe.indexOf("noUnderline")===-1&&Re.indexOf("underline")!==-1||xe.indexOf("underline")!==-1)&&$e.push("underline"),(xe.indexOf("noLineThrough")===-1&&Re.indexOf("lineThrough")!==-1||xe.indexOf("lineThrough")!==-1)&&$e.push("lineThrough"),(xe.indexOf("noOverline")===-1&&Re.indexOf("overline")!==-1||xe.indexOf("overline")!==-1)&&$e.push("overline")):$e.push("none"),le.styleAttrs[Ge.qname]=$e}else if(Ge.qname!==i.byName.fontSize.qname||Ge.qname in le.styleAttrs||le.kind!=="span"||le.styleAttrs[i.byName.ruby.qname]!=="textContainer")if(Ge.qname!==i.byName.fontSize.qname||Ge.qname in le.styleAttrs||le.kind!=="span"||le.styleAttrs[i.byName.ruby.qname]!=="text")Ge.inherit&&Ge.qname in U.styleAttrs&&!(Ge.qname in le.styleAttrs)&&(le.styleAttrs[Ge.qname]=U.styleAttrs[Ge.qname]);else{var it=U.styleAttrs[i.byName.fontSize.qname];U.styleAttrs[i.byName.ruby.qname]==="textContainer"?le.styleAttrs[Ge.qname]=it:le.styleAttrs[Ge.qname]=new o.ComputedLength(.5*it.rw,.5*it.rh)}else{var Ie=U.styleAttrs[i.byName.fontSize.qname];le.styleAttrs[Ge.qname]=new o.ComputedLength(.5*Ie.rw,.5*Ie.rh)}}for(var ke=0;ke<i.all.length;ke++){var wt=i.all[ke];if(!(wt.qname in le.styleAttrs)&&!(wt.qname===i.byName.position.qname&&i.byName.origin.qname in le.styleAttrs||wt.qname===i.byName.origin.qname&&i.byName.position.qname in le.styleAttrs)){var Et=h.head.styling.initials[wt.qname]||wt.initial;if(Et!==null&&(le.kind==="region"||wt.inherit===!1&&Et!==null)){var ze=wt.parse(Et);ze!==null?(le.styleAttrs[wt.qname]=ze,Ce[wt.qname]=!0):f(te,"Invalid initial value for '"+wt.qname+"' on element '"+le.kind)}}}for(var st=0;st<i.all.length;st++){var Te=i.all[st];if(Te.qname in Ce&&Te.compute!==null){var Ae=Te.compute(h,U,le,le.styleAttrs[Te.qname],de);Ae!==null?le.styleAttrs[Te.qname]=Ae:(le.styleAttrs[Te.qname]=Te.compute(h,U,le,Te.parse(Te.initial),de),f(te,"Style '"+Te.qname+"' on element '"+le.kind+"' cannot be computed"))}}if(le.styleAttrs[i.byName.display.qname]==="none")return null;var Ve=null;U===null?Ve=G===null?[]:[G]:"contents"in Z&&(Ve=Z.contents);for(var S=0;Ve!==null&&S<Ve.length;S++){var m=T(h,C,B,G,le,J,Ve[S],te,de);m!==null&&le.contents.push(m.element)}for(var O in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(O)){var M=!1;if(le.kind==="span"){var oe=le.styleAttrs[i.byName.ruby.qname];(M=(oe==="container"||oe==="textContainer"||oe==="baseContainer")&&w.indexOf(O)!==-1)||(M=oe!=="container"&&O===i.byName.rubyAlign.qname),M||(M=!(oe==="textContainer"||oe==="text")&&O===i.byName.rubyPosition.qname)}if(!M){var ne=i.byQName[O];"applies"in ne&&(M=ne.applies.indexOf(le.kind)===-1)}M&&delete le.styleAttrs[O]}var Oe=le.styleAttrs[i.byName.ruby.qname];if(le.kind==="p"||le.kind==="span"&&(Oe==="textContainer"||Oe==="text")){var nt=[];c(le,nt),function(je){for(var Ze,Me=0;Me<je.length;)if((Ze=je[Me]).kind!=="br"&&Ze.space!=="preserve"){var He=Ze.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(He)&&(Me===0||(at=je[Me-1]).kind==="br"||/[\r\n\t ]$/.test(at.text))&&(He=He.substring(1)),Ze.text=He,He.length===0?je.splice(Me,1):Me++}else Me++;var at,St;for(Me=0;Me<je.length;Me++)(Ze=je[Me]).kind!=="br"&&Ze.space!=="preserve"?/[ ]$/.test(Ze.text)&&(Me===je.length-1||(St=je[Me+1]).kind==="br"||St.space==="preserve"&&/^[\r\n]/.test(St.text))&&(Ze.text=Ze.text.slice(0,-1)):Me++}(nt),b(le)}return le.kind==="div"&&i.byName.backgroundImage.qname in le.styleAttrs||le.kind==="br"||le.kind==="image"||"contents"in le&&le.contents.length>0||le.kind==="span"&&le.text!==null||le.kind==="region"&&le.styleAttrs[i.byName.showBackground.qname]==="always"?{region_id:J,element:le}:null}function c(h,C){if("contents"in h)for(var B=0;B<h.contents.length;B++){var G=h.contents[B],U=G.styleAttrs[i.byName.ruby.qname];(G.kind!=="span"||U!=="textContainer"&&U!=="text")&&("contents"in G?c(G,C):(G.kind==="span"&&G.text.length!==0||G.kind==="br")&&C.push(G))}}function b(h){if(h.kind==="br")return!1;if("text"in h)return h.text.length===0;if("contents"in h){for(var C=h.contents.length;C--;)b(h.contents[C])&&h.contents.splice(C,1);return h.contents.length===0}}function g(h){this.contents=[],this.aspectRatio=h.aspectRatio,this.lang=h.lang}function u(h){for(var C in this.kind=h.kind||"region",this.lang=h.lang,h.id&&(this.id=h.id),this.styleAttrs={},h.styleAttrs)h.styleAttrs.hasOwnProperty(C)&&(this.styleAttrs[C]=h.styleAttrs[C]);"src"in h&&(this.src=h.src),"type"in h&&(this.type=h.type),"text"in h?this.text=h.text:(this.kind==="region"||"contents"in h)&&(this.contents=[]),"space"in h&&(this.space=h.space)}function f(h,C){if(h&&h.error&&h.error(C))throw C}})(N,typeof imscNames>"u"?E(210):imscNames,typeof imscStyles>"u"?E(6811):imscStyles,typeof imscUtils>"u"?E(5926):imscUtils)},4403:function(A,N,E){N.generateISD=E(4080).generateISD,N.fromXML=E(3362).fromXML,N.renderHTML=E(506).render},210:function(A,N){(function(E){E.ns_tt="http://www.w3.org/ns/ttml",E.ns_tts="http://www.w3.org/ns/ttml#styling",E.ns_ttp="http://www.w3.org/ns/ttml#parameter",E.ns_xml="http://www.w3.org/XML/1998/namespace",E.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",E.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",E.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",E.ns_ebutts="urn:ebu:tt:style"})(N)},6811:function(A,N,E){(function(P,_,i){function o(c,b,g,u,f,h,C,B){this.name=b,this.ns=c,this.qname=c+" "+b,this.inherit=f,this.animatable=h,this.initial=g,this.applies=u,this.parse=C,this.compute=B}for(var w in P.all=[new o(_.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,i.parseColor,null),new o(_.ns_tts,"color","white",["span"],!0,!0,i.parseColor,null),new o(_.ns_tts,"direction","ltr",["p","span"],!0,!0,function(c){return c},null),new o(_.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(c){return c},null),new o(_.ns_tts,"displayAlign","before",["region"],!1,!0,function(c){return c},null),new o(_.ns_tts,"extent","auto",["tt","region"],!1,!0,function(c){if(c==="auto")return c;var b=c.split(" ");if(b.length!==2)return null;var g=i.parseLength(b[0]),u=i.parseLength(b[1]);return u&&g?{h:u,w:g}:null},function(c,b,g,u,f){var h,C;if(u==="auto")h=new i.ComputedLength(0,1);else if((h=i.toComputedLength(u.h.value,u.h.unit,null,c.dimensions.h,null,c.pxLength.h))===null)return null;if(u==="auto")C=new i.ComputedLength(1,0);else if((C=i.toComputedLength(u.w.value,u.w.unit,null,c.dimensions.w,null,c.pxLength.w))===null)return null;return{h,w:C}}),new o(_.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(c){for(var b=c.split(","),g=[],u=0;u<b.length;u++)b[u]=b[u].trim(),b[u].charAt(0)!=="'"&&b[u].charAt(0)!=='"'&&b[u]==="default"?g.push("monospaceSerif"):g.push(b[u]);return g},null),new o(_.ns_tts,"shear","0%",["p"],!0,!0,i.parseLength,function(c,b,g,u){return u.unit!=="%"?null:Math.abs(u.value)>100?100*Math.sign(u.value):u.value}),new o(_.ns_tts,"fontSize","1c",["span","p"],!0,!0,i.parseLength,function(c,b,g,u,f){return i.toComputedLength(u.value,u.unit,b!==null?b.styleAttrs[P.byName.fontSize.qname]:c.cellLength.h,b!==null?b.styleAttrs[P.byName.fontSize.qname]:c.cellLength.h,c.cellLength.h,c.pxLength.h)}),new o(_.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(c){return c},null),new o(_.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(c){return c},null),new o(_.ns_tts,"lineHeight","normal",["p"],!0,!0,function(c){return c==="normal"?c:i.parseLength(c)},function(c,b,g,u,f){var h;if(u==="normal")h=u;else if((h=i.toComputedLength(u.value,u.unit,g.styleAttrs[P.byName.fontSize.qname],g.styleAttrs[P.byName.fontSize.qname],c.cellLength.h,c.pxLength.h))===null)return null;return h}),new o(_.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new o(_.ns_tts,"origin","auto",["region"],!1,!0,function(c){if(c==="auto")return c;var b=c.split(" ");if(b.length!==2)return null;var g=i.parseLength(b[0]),u=i.parseLength(b[1]);return u&&g?{h:u,w:g}:null},function(c,b,g,u,f){var h,C;if(u==="auto")h=new i.ComputedLength(0,0);else if((h=i.toComputedLength(u.h.value,u.h.unit,null,c.dimensions.h,null,c.pxLength.h))===null)return null;if(u==="auto")C=new i.ComputedLength(0,0);else if((C=i.toComputedLength(u.w.value,u.w.unit,null,c.dimensions.w,null,c.pxLength.w))===null)return null;return{h,w:C}}),new o(_.ns_tts,"overflow","hidden",["region"],!1,!0,function(c){return c},null),new o(_.ns_tts,"padding","0px",["region"],!1,!0,function(c){var b=c.split(" ");if(b.length>4)return null;for(var g=[],u=0;u<b.length;u++){var f=i.parseLength(b[u]);if(!f)return null;g.push(f)}return g},function(c,b,g,u,f){var h;if(u.length===1)h=[u[0],u[0],u[0],u[0]];else if(u.length===2)h=[u[0],u[1],u[0],u[1]];else if(u.length===3)h=[u[0],u[1],u[2],u[1]];else{if(u.length!==4)return null;h=[u[0],u[1],u[2],u[3]]}var C=g.styleAttrs[P.byName.writingMode.qname];if(C==="lrtb"||C==="lr")h=[h[0],h[3],h[2],h[1]];else if(C==="rltb"||C==="rl")h=[h[0],h[1],h[2],h[3]];else if(C==="tblr")h=[h[3],h[0],h[1],h[2]];else{if(C!=="tbrl"&&C!=="tb")return null;h=[h[3],h[2],h[1],h[0]]}for(var B=[],G=0;G<h.length;G++)if(h[G].value===0)B[G]=new i.ComputedLength(0,0);else if(B[G]=i.toComputedLength(h[G].value,h[G].unit,g.styleAttrs[P.byName.fontSize.qname],G===0||G===2?g.styleAttrs[P.byName.extent.qname].h:g.styleAttrs[P.byName.extent.qname].w,G===0||G===2?c.cellLength.h:c.cellLength.w,G===0||G===2?c.pxLength.h:c.pxLength.w),B[G]===null)return null;return B}),new o(_.ns_tts,"position","top left",["region"],!1,!0,function(c){return i.parsePosition(c)},function(c,b,g,u){var f,h;return(f=i.toComputedLength(u.v.offset.value,u.v.offset.unit,null,new i.ComputedLength(-g.styleAttrs[P.byName.extent.qname].h.rw,c.dimensions.h.rh-g.styleAttrs[P.byName.extent.qname].h.rh),null,c.pxLength.h))===null?null:(u.v.edge==="bottom"&&(f=new i.ComputedLength(-f.rw-g.styleAttrs[P.byName.extent.qname].h.rw,c.dimensions.h.rh-f.rh-g.styleAttrs[P.byName.extent.qname].h.rh)),h=i.toComputedLength(u.h.offset.value,u.h.offset.unit,null,new i.ComputedLength(c.dimensions.w.rw-g.styleAttrs[P.byName.extent.qname].w.rw,-g.styleAttrs[P.byName.extent.qname].w.rh),null,c.pxLength.w),f===null?null:(u.h.edge==="right"&&(h=new i.ComputedLength(c.dimensions.w.rw-h.rw-g.styleAttrs[P.byName.extent.qname].w.rw,-h.rh-g.styleAttrs[P.byName.extent.qname].w.rh)),{h:f,w:h}))}),new o(_.ns_tts,"ruby","none",["span"],!1,!0,function(c){return c},null),new o(_.ns_tts,"rubyAlign","center",["span"],!0,!0,function(c){return c!=="center"&&c!=="spaceAround"?null:c},null),new o(_.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(c){return c},null),new o(_.ns_tts,"rubyReserve","none",["p"],!0,!0,function(c){var b=c.split(" "),g=[null,null];if(b.length===0||b.length>2||b[0]!=="none"&&b[0]!=="both"&&b[0]!=="after"&&b[0]!=="before"&&b[0]!=="outside")return null;if(g[0]=b[0],b.length===2&&b[0]!=="none"){var u=i.parseLength(b[1]);if(!u)return null;g[1]=u}return g},function(c,b,g,u,f){if(u[0]==="none")return u;var h;return(h=u[1]===null?new i.ComputedLength(.5*g.styleAttrs[P.byName.fontSize.qname].rw,.5*g.styleAttrs[P.byName.fontSize.qname].rh):i.toComputedLength(u[1].value,u[1].unit,g.styleAttrs[P.byName.fontSize.qname],g.styleAttrs[P.byName.fontSize.qname],c.cellLength.h,c.pxLength.h))===null?null:[u[0],h]}),new o(_.ns_tts,"showBackground","always",["region"],!1,!0,function(c){return c},null),new o(_.ns_tts,"textAlign","start",["p"],!0,!0,function(c){return c},function(c,b,g,u,f){return u==="left"?"start":u==="right"?"end":u}),new o(_.ns_tts,"textCombine","none",["span"],!0,!0,function(c){return c==="none"||c==="all"?c:null},null),new o(_.ns_tts,"textDecoration","none",["span"],!0,!0,function(c){return c.split(" ")},null),new o(_.ns_tts,"textEmphasis","none",["span"],!0,!0,function(c){for(var b=c.split(" "),g={style:null,symbol:null,color:null,position:null},u=0;u<b.length;u++)if(b[u]==="none"||b[u]==="auto")g.style=b[u];else if(b[u]==="filled"||b[u]==="open")g.style=b[u];else if(b[u]==="circle"||b[u]==="dot"||b[u]==="sesame")g.symbol=b[u];else if(b[u]==="current")g.color=b[u];else if(b[u]==="outside"||b[u]==="before"||b[u]==="after")g.position=b[u];else if(g.color=i.parseColor(b[u]),g.color===null)return null;return g.style==null&&g.symbol==null?g.style="auto":(g.symbol=g.symbol||"circle",g.style=g.style||"filled"),g.position=g.position||"outside",g.color=g.color||"current",g},null),new o(_.ns_tts,"textOutline","none",["span"],!0,!0,function(c){if(c==="none")return c;var b={},g=c.split(" ");if(g.length===0||g.length>2)return null;var u=i.parseColor(g[0]);if(b.color=u,u!==null&&g.shift(),g.length!==1)return null;var f=i.parseLength(g[0]);return f?(b.thickness=f,b):null},function(c,b,g,u,f){if(u==="none")return u;var h={};return u.color===null?h.color=g.styleAttrs[P.byName.color.qname]:h.color=u.color,h.thickness=i.toComputedLength(u.thickness.value,u.thickness.unit,g.styleAttrs[P.byName.fontSize.qname],g.styleAttrs[P.byName.fontSize.qname],c.cellLength.h,c.pxLength.h),h.thickness===null?null:h}),new o(_.ns_tts,"textShadow","none",["span"],!0,!0,i.parseTextShadow,function(c,b,g,u){if(u==="none")return u;for(var f=[],h=0;h<u.length;h++){var C={};if(C.x_off=i.toComputedLength(u[h][0].value,u[h][0].unit,null,g.styleAttrs[P.byName.fontSize.qname],null,c.pxLength.w),C.x_off===null||(C.y_off=i.toComputedLength(u[h][1].value,u[h][1].unit,null,g.styleAttrs[P.byName.fontSize.qname],null,c.pxLength.h),C.y_off===null))return null;if(u[h][2]===null)C.b_radius=0;else if(C.b_radius=i.toComputedLength(u[h][2].value,u[h][2].unit,null,g.styleAttrs[P.byName.fontSize.qname],null,c.pxLength.h),C.b_radius===null)return null;u[h][3]===null?C.color=g.styleAttrs[P.byName.color.qname]:C.color=u[h][3],f.push(C)}return f}),new o(_.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(c){return c},null),new o(_.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(c){return c},null),new o(_.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(c){return c},null),new o(_.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(c){return c},null),new o(_.ns_tts,"zIndex","auto",["region"],!1,!0,function(c){var b;return c==="auto"?b=c:(b=parseInt(c),isNaN(b)&&(b=null)),b},null),new o(_.ns_ebutts,"linePadding","0c",["p"],!0,!1,i.parseLength,function(c,b,g,u,f){return i.toComputedLength(u.value,u.unit,null,null,c.cellLength.w,null)}),new o(_.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(c){return c},null),new o(_.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(c){return c},null),new o(_.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(c){return c==="true"},null),new o(_.ns_itts,"fillLineGap","false",["p"],!0,!0,function(c){return c==="true"},null)],P.byQName={},P.all)P.byQName[P.all[w].qname]=P.all[w];for(var T in P.byName={},P.all)P.byName[P.all[T].name]=P.all[T]})(N,typeof imscNames>"u"?E(210):imscNames,typeof imscUtils>"u"?E(5926):imscUtils)},5926:function(A,N){(function(E){var P=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,_=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};E.parseColor=function(T){var c,b=null,g=o[T.toLowerCase()];return g!==void 0?b=g:(c=P.exec(T))!==null?b=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),c[4]!==void 0?parseInt(c[4],16):255]:(c=_.exec(T))!==null?b=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:(c=i.exec(T))!==null&&(b=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]),b};var w=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;E.parseLength=function(T){var c,b=null;return(c=w.exec(T))!==null&&(b={value:parseFloat(c[1]),unit:c[2]}),b},E.parseTextShadow=function(T){for(var c=T.match(/([^\(,\)]|\([^\)]+\))+/g),b=[],g=0;g<c.length;g++){var u=c[g].split(" ");if(u.length===1&&u[0]==="none")return"none";if(u.length>1&&u.length<5){var f=[null,null,null,null],h=E.parseLength(u.shift());if(h===null||(f[0]=h,(h=E.parseLength(u.shift()))===null))return null;if(f[1]=h,u.length===0){b.push(f);continue}if((h=E.parseLength(u[0]))!==null&&(f[2]=h,u.shift()),u.length===0){b.push(f);continue}var C=E.parseColor(u[0]);if(C===null)return null;f[3]=C,b.push(f)}}return b},E.parsePosition=function(T){var c=T.split(" "),b=function(G){return G==="center"||G==="left"||G==="top"||G==="bottom"||G==="right"};if(c.length>4)return null;for(var g=0;g<c.length;g++)if(!b(c[g])){var u=E.parseLength(c[g]);if(u===null)return null;c[g]=u}for(var f={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},h=0;h<c.length;){var C=c[h++];if(b(C)){var B={value:0,unit:"%"};c.length!==2&&h<c.length&&!b(c[h])&&(B=c[h++]),C==="right"?(f.h.edge=C,f.h.offset=B):C==="bottom"?(f.v.edge=C,f.v.offset=B):C==="left"?f.h.offset=B:C==="top"&&(f.v.offset=B)}else{if(c.length!==1&&c.length!==2)return null;h===1?f.h.offset=C:f.v.offset=C}}return f},E.ComputedLength=function(T,c){this.rw=T,this.rh=c},E.ComputedLength.prototype.toUsedLength=function(T,c){return T*this.rw+c*this.rh},E.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},E.toComputedLength=function(T,c,b,g,u,f){return c==="%"&&g?new E.ComputedLength(g.rw*T/100,g.rh*T/100):c==="em"&&b?new E.ComputedLength(b.rw*T,b.rh*T):c==="c"&&u?new E.ComputedLength(T*u.rw,T*u.rh):c==="px"&&f?new E.ComputedLength(T*f.rw,T*f.rh):c==="rh"?new E.ComputedLength(0,T/100):c==="rw"?new E.ComputedLength(T/100,0):null}})(N)},3516:function(A){A.exports=function(N){var E=typeof N=="string"?N.charCodeAt(0):N;return E>=97&&E<=122||E>=65&&E<=90}},2219:function(A,N,E){var P=E(3516),_=E(395);A.exports=function(i){return P(i)||_(i)}},395:function(A){A.exports=function(N){var E=typeof N=="string"?N.charCodeAt(0):N;return E>=48&&E<=57}},3875:function(A){function N(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}function E(_,i){for(var o,w="",T=0,c=-1,b=0,g=0;g<=_.length;++g){if(g<_.length)o=_.charCodeAt(g);else{if(o===47)break;o=47}if(o===47){if(!(c===g-1||b===1))if(c!==g-1&&b===2){if(w.length<2||T!==2||w.charCodeAt(w.length-1)!==46||w.charCodeAt(w.length-2)!==46){if(w.length>2){var u=w.lastIndexOf("/");if(u!==w.length-1){u===-1?(w="",T=0):T=(w=w.slice(0,u)).length-1-w.lastIndexOf("/"),c=g,b=0;continue}}else if(w.length===2||w.length===1){w="",T=0,c=g,b=0;continue}}i&&(w.length>0?w+="/..":w="..",T=2)}else w.length>0?w+="/"+_.slice(c+1,g):w=_.slice(c+1,g),T=g-c-1;c=g,b=0}else o===46&&b!==-1?++b:b=-1}return w}var P={resolve:function(){for(var _,i="",o=!1,w=arguments.length-1;w>=-1&&!o;w--){var T;w>=0?T=arguments[w]:(_===void 0&&(_=process.cwd()),T=_),N(T),T.length!==0&&(i=T+"/"+i,o=T.charCodeAt(0)===47)}return i=E(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(_){if(N(_),_.length===0)return".";var i=_.charCodeAt(0)===47,o=_.charCodeAt(_.length-1)===47;return(_=E(_,!i)).length!==0||i||(_="."),_.length>0&&o&&(_+="/"),i?"/"+_:_},isAbsolute:function(_){return N(_),_.length>0&&_.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var _,i=0;i<arguments.length;++i){var o=arguments[i];N(o),o.length>0&&(_===void 0?_=o:_+="/"+o)}return _===void 0?".":P.normalize(_)},relative:function(_,i){if(N(_),N(i),_===i||(_=P.resolve(_))===(i=P.resolve(i)))return"";for(var o=1;o<_.length&&_.charCodeAt(o)===47;++o);for(var w=_.length,T=w-o,c=1;c<i.length&&i.charCodeAt(c)===47;++c);for(var b=i.length-c,g=T<b?T:b,u=-1,f=0;f<=g;++f){if(f===g){if(b>g){if(i.charCodeAt(c+f)===47)return i.slice(c+f+1);if(f===0)return i.slice(c+f)}else T>g&&(_.charCodeAt(o+f)===47?u=f:f===0&&(u=0));break}var h=_.charCodeAt(o+f);if(h!==i.charCodeAt(c+f))break;h===47&&(u=f)}var C="";for(f=o+u+1;f<=w;++f)f!==w&&_.charCodeAt(f)!==47||(C.length===0?C+="..":C+="/..");return C.length>0?C+i.slice(c+u):(c+=u,i.charCodeAt(c)===47&&++c,i.slice(c))},_makeLong:function(_){return _},dirname:function(_){if(N(_),_.length===0)return".";for(var i=_.charCodeAt(0),o=i===47,w=-1,T=!0,c=_.length-1;c>=1;--c)if((i=_.charCodeAt(c))===47){if(!T){w=c;break}}else T=!1;return w===-1?o?"/":".":o&&w===1?"//":_.slice(0,w)},basename:function(_,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');N(_);var o,w=0,T=-1,c=!0;if(i!==void 0&&i.length>0&&i.length<=_.length){if(i.length===_.length&&i===_)return"";var b=i.length-1,g=-1;for(o=_.length-1;o>=0;--o){var u=_.charCodeAt(o);if(u===47){if(!c){w=o+1;break}}else g===-1&&(c=!1,g=o+1),b>=0&&(u===i.charCodeAt(b)?--b==-1&&(T=o):(b=-1,T=g))}return w===T?T=g:T===-1&&(T=_.length),_.slice(w,T)}for(o=_.length-1;o>=0;--o)if(_.charCodeAt(o)===47){if(!c){w=o+1;break}}else T===-1&&(c=!1,T=o+1);return T===-1?"":_.slice(w,T)},extname:function(_){N(_);for(var i=-1,o=0,w=-1,T=!0,c=0,b=_.length-1;b>=0;--b){var g=_.charCodeAt(b);if(g!==47)w===-1&&(T=!1,w=b+1),g===46?i===-1?i=b:c!==1&&(c=1):i!==-1&&(c=-1);else if(!T){o=b+1;break}}return i===-1||w===-1||c===0||c===1&&i===w-1&&i===o+1?"":_.slice(i,w)},format:function(_){if(_===null||typeof _!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof _);return function(i,o){var w=o.dir||o.root,T=o.base||(o.name||"")+(o.ext||"");return w?w===o.root?w+T:w+"/"+T:T}(0,_)},parse:function(_){N(_);var i={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return i;var o,w=_.charCodeAt(0),T=w===47;T?(i.root="/",o=1):o=0;for(var c=-1,b=0,g=-1,u=!0,f=_.length-1,h=0;f>=o;--f)if((w=_.charCodeAt(f))!==47)g===-1&&(u=!1,g=f+1),w===46?c===-1?c=f:h!==1&&(h=1):c!==-1&&(h=-1);else if(!u){b=f+1;break}return c===-1||g===-1||h===0||h===1&&c===g-1&&c===b+1?g!==-1&&(i.base=i.name=b===0&&T?_.slice(1,g):_.slice(b,g)):(b===0&&T?(i.name=_.slice(1,c),i.base=_.slice(1,g)):(i.name=_.slice(b,c),i.base=_.slice(b,g)),i.ext=_.slice(c,g)),b>0?i.dir=_.slice(0,b-1):T&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};P.posix=P,A.exports=P},8387:function(A,N,E){var P=E(1549),_=P.Buffer;function i(w,T){for(var c in w)T[c]=w[c]}function o(w,T,c){return _(w,T,c)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?A.exports=P:(i(P,N),N.Buffer=o),i(_,o),o.from=function(w,T,c){if(typeof w=="number")throw new TypeError("Argument must not be a number");return _(w,T,c)},o.alloc=function(w,T,c){if(typeof w!="number")throw new TypeError("Argument must be a number");var b=_(w);return T!==void 0?typeof c=="string"?b.fill(T,c):b.fill(T):b.fill(0),b},o.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return _(w)},o.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return P.SlowBuffer(w)}},5378:function(A,N,E){(function(P){P.parser=function(S,m){return new o(S,m)},P.SAXParser=o,P.SAXStream=T,P.createStream=function(S,m){return new T(S,m)},P.MAX_BUFFER_LENGTH=65536;var _,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(S,m){if(!(this instanceof o))return new o(S,m);var O=this;(function(M){for(var oe=0,ne=i.length;oe<ne;oe++)M[i[oe]]=""})(O),O.q=O.c="",O.bufferCheckPosition=P.MAX_BUFFER_LENGTH,O.opt=m||{},O.opt.lowercase=O.opt.lowercase||O.opt.lowercasetags,O.looseCase=O.opt.lowercase?"toLowerCase":"toUpperCase",O.tags=[],O.closed=O.closedRoot=O.sawRoot=!1,O.tag=O.error=null,O.strict=!!S,O.noscript=!(!S&&!O.opt.noscript),O.state=ae.BEGIN,O.strictEntities=O.opt.strictEntities,O.ENTITIES=O.strictEntities?Object.create(P.XML_ENTITIES):Object.create(P.ENTITIES),O.attribList=[],O.opt.xmlns&&(O.ns=Object.create(B)),O.trackPosition=O.opt.position!==!1,O.trackPosition&&(O.position=O.line=O.column=0),Pe(O,"onready")}P.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(S){function m(){}return m.prototype=S,new m}),Object.keys||(Object.keys=function(S){var m=[];for(var O in S)S.hasOwnProperty(O)&&m.push(O);return m}),o.prototype={end:function(){it(this)},write:function(S){var m=this;if(this.error)throw this.error;if(m.closed)return $e(m,"Cannot write after close. Assign an onready handler.");if(S===null)return it(m);typeof S=="object"&&(S=S.toString());for(var O=0,M="";M=Ve(S,O++),m.c=M,M;)switch(m.trackPosition&&(m.position++,M===`
`?(m.line++,m.column=0):m.column++),m.state){case ae.BEGIN:if(m.state=ae.BEGIN_WHITESPACE,M==="\uFEFF")continue;Ae(m,M);continue;case ae.BEGIN_WHITESPACE:Ae(m,M);continue;case ae.TEXT:if(m.sawRoot&&!m.closedRoot){for(var oe=O-1;M&&M!=="<"&&M!=="&";)(M=Ve(S,O++))&&m.trackPosition&&(m.position++,M===`
`?(m.line++,m.column=0):m.column++);m.textNode+=S.substring(oe,O-1)}M!=="<"||m.sawRoot&&m.closedRoot&&!m.strict?(!J(c,M)||m.sawRoot&&!m.closedRoot||Ie(m,"Text data outside of root node."),M==="&"?m.state=ae.TEXT_ENTITY:m.textNode+=M):(m.state=ae.OPEN_WAKA,m.startTagPosition=m.position);continue;case ae.SCRIPT:M==="<"?m.state=ae.SCRIPT_ENDING:m.script+=M;continue;case ae.SCRIPT_ENDING:M==="/"?m.state=ae.CLOSE_TAG:(m.script+="<"+M,m.state=ae.SCRIPT);continue;case ae.OPEN_WAKA:if(M==="!")m.state=ae.SGML_DECL,m.sgmlDecl="";else if(!de(c,M))if(de(G,M))m.state=ae.OPEN_TAG,m.tagName=M;else if(M==="/")m.state=ae.CLOSE_TAG,m.tagName="";else if(M==="?")m.state=ae.PROC_INST,m.procInstName=m.procInstBody="";else{if(Ie(m,"Unencoded <"),m.startTagPosition+1<m.position){var ne=m.position-m.startTagPosition;M=new Array(ne).join(" ")+M}m.textNode+="<"+M,m.state=ae.TEXT}continue;case ae.SGML_DECL:(m.sgmlDecl+M).toUpperCase()==="[CDATA["?(Ge(m,"onopencdata"),m.state=ae.CDATA,m.sgmlDecl="",m.cdata=""):m.sgmlDecl+M==="--"?(m.state=ae.COMMENT,m.comment="",m.sgmlDecl=""):(m.sgmlDecl+M).toUpperCase()==="DOCTYPE"?(m.state=ae.DOCTYPE,(m.doctype||m.sawRoot)&&Ie(m,"Inappropriately located doctype declaration"),m.doctype="",m.sgmlDecl=""):M===">"?(Ge(m,"onsgmldeclaration",m.sgmlDecl),m.sgmlDecl="",m.state=ae.TEXT):(de(u,M)&&(m.state=ae.SGML_DECL_QUOTED),m.sgmlDecl+=M);continue;case ae.SGML_DECL_QUOTED:M===m.q&&(m.state=ae.SGML_DECL,m.q=""),m.sgmlDecl+=M;continue;case ae.DOCTYPE:M===">"?(m.state=ae.TEXT,Ge(m,"ondoctype",m.doctype),m.doctype=!0):(m.doctype+=M,M==="["?m.state=ae.DOCTYPE_DTD:de(u,M)&&(m.state=ae.DOCTYPE_QUOTED,m.q=M));continue;case ae.DOCTYPE_QUOTED:m.doctype+=M,M===m.q&&(m.q="",m.state=ae.DOCTYPE);continue;case ae.DOCTYPE_DTD:m.doctype+=M,M==="]"?m.state=ae.DOCTYPE:de(u,M)&&(m.state=ae.DOCTYPE_DTD_QUOTED,m.q=M);continue;case ae.DOCTYPE_DTD_QUOTED:m.doctype+=M,M===m.q&&(m.state=ae.DOCTYPE_DTD,m.q="");continue;case ae.COMMENT:M==="-"?m.state=ae.COMMENT_ENDING:m.comment+=M;continue;case ae.COMMENT_ENDING:M==="-"?(m.state=ae.COMMENT_ENDED,m.comment=xe(m.opt,m.comment),m.comment&&Ge(m,"oncomment",m.comment),m.comment=""):(m.comment+="-"+M,m.state=ae.COMMENT);continue;case ae.COMMENT_ENDED:M!==">"?(Ie(m,"Malformed comment"),m.comment+="--"+M,m.state=ae.COMMENT):m.state=ae.TEXT;continue;case ae.CDATA:M==="]"?m.state=ae.CDATA_ENDING:m.cdata+=M;continue;case ae.CDATA_ENDING:M==="]"?m.state=ae.CDATA_ENDING_2:(m.cdata+="]"+M,m.state=ae.CDATA);continue;case ae.CDATA_ENDING_2:M===">"?(m.cdata&&Ge(m,"oncdata",m.cdata),Ge(m,"onclosecdata"),m.cdata="",m.state=ae.TEXT):M==="]"?m.cdata+="]":(m.cdata+="]]"+M,m.state=ae.CDATA);continue;case ae.PROC_INST:M==="?"?m.state=ae.PROC_INST_ENDING:de(c,M)?m.state=ae.PROC_INST_BODY:m.procInstName+=M;continue;case ae.PROC_INST_BODY:if(!m.procInstBody&&de(c,M))continue;M==="?"?m.state=ae.PROC_INST_ENDING:m.procInstBody+=M;continue;case ae.PROC_INST_ENDING:M===">"?(Ge(m,"onprocessinginstruction",{name:m.procInstName,body:m.procInstBody}),m.procInstName=m.procInstBody="",m.state=ae.TEXT):(m.procInstBody+="?"+M,m.state=ae.PROC_INST_BODY);continue;case ae.OPEN_TAG:de(U,M)?m.tagName+=M:(ke(m),M===">"?ze(m):M==="/"?m.state=ae.OPEN_TAG_SLASH:(J(c,M)&&Ie(m,"Invalid character in tag name"),m.state=ae.ATTRIB));continue;case ae.OPEN_TAG_SLASH:M===">"?(ze(m,!0),st(m)):(Ie(m,"Forward-slash in opening tag not followed by >"),m.state=ae.ATTRIB);continue;case ae.ATTRIB:if(de(c,M))continue;M===">"?ze(m):M==="/"?m.state=ae.OPEN_TAG_SLASH:de(G,M)?(m.attribName=M,m.attribValue="",m.state=ae.ATTRIB_NAME):Ie(m,"Invalid attribute name");continue;case ae.ATTRIB_NAME:M==="="?m.state=ae.ATTRIB_VALUE:M===">"?(Ie(m,"Attribute without value"),m.attribValue=m.attribName,Et(m),ze(m)):de(c,M)?m.state=ae.ATTRIB_NAME_SAW_WHITE:de(U,M)?m.attribName+=M:Ie(m,"Invalid attribute name");continue;case ae.ATTRIB_NAME_SAW_WHITE:if(M==="=")m.state=ae.ATTRIB_VALUE;else{if(de(c,M))continue;Ie(m,"Attribute without value"),m.tag.attributes[m.attribName]="",m.attribValue="",Ge(m,"onattribute",{name:m.attribName,value:""}),m.attribName="",M===">"?ze(m):de(G,M)?(m.attribName=M,m.state=ae.ATTRIB_NAME):(Ie(m,"Invalid attribute name"),m.state=ae.ATTRIB)}continue;case ae.ATTRIB_VALUE:if(de(c,M))continue;de(u,M)?(m.q=M,m.state=ae.ATTRIB_VALUE_QUOTED):(Ie(m,"Unquoted attribute value"),m.state=ae.ATTRIB_VALUE_UNQUOTED,m.attribValue=M);continue;case ae.ATTRIB_VALUE_QUOTED:if(M!==m.q){M==="&"?m.state=ae.ATTRIB_VALUE_ENTITY_Q:m.attribValue+=M;continue}Et(m),m.q="",m.state=ae.ATTRIB_VALUE_CLOSED;continue;case ae.ATTRIB_VALUE_CLOSED:de(c,M)?m.state=ae.ATTRIB:M===">"?ze(m):M==="/"?m.state=ae.OPEN_TAG_SLASH:de(G,M)?(Ie(m,"No whitespace between attributes"),m.attribName=M,m.attribValue="",m.state=ae.ATTRIB_NAME):Ie(m,"Invalid attribute name");continue;case ae.ATTRIB_VALUE_UNQUOTED:if(J(f,M)){M==="&"?m.state=ae.ATTRIB_VALUE_ENTITY_U:m.attribValue+=M;continue}Et(m),M===">"?ze(m):m.state=ae.ATTRIB;continue;case ae.CLOSE_TAG:if(m.tagName)M===">"?st(m):de(U,M)?m.tagName+=M:m.script?(m.script+="</"+m.tagName,m.tagName="",m.state=ae.SCRIPT):(J(c,M)&&Ie(m,"Invalid tagname in closing tag"),m.state=ae.CLOSE_TAG_SAW_WHITE);else{if(de(c,M))continue;J(G,M)?m.script?(m.script+="</"+M,m.state=ae.SCRIPT):Ie(m,"Invalid tagname in closing tag."):m.tagName=M}continue;case ae.CLOSE_TAG_SAW_WHITE:if(de(c,M))continue;M===">"?st(m):Ie(m,"Invalid characters in closing tag");continue;case ae.TEXT_ENTITY:case ae.ATTRIB_VALUE_ENTITY_Q:case ae.ATTRIB_VALUE_ENTITY_U:var Oe,nt;switch(m.state){case ae.TEXT_ENTITY:Oe=ae.TEXT,nt="textNode";break;case ae.ATTRIB_VALUE_ENTITY_Q:Oe=ae.ATTRIB_VALUE_QUOTED,nt="attribValue";break;case ae.ATTRIB_VALUE_ENTITY_U:Oe=ae.ATTRIB_VALUE_UNQUOTED,nt="attribValue"}M===";"?(m[nt]+=Te(m),m.entity="",m.state=Oe):de(m.entity.length?Z:re,M)?m.entity+=M:(Ie(m,"Invalid character in entity name"),m[nt]+="&"+m.entity+M,m.entity="",m.state=Oe);continue;default:throw new Error(m,"Unknown state: "+m.state)}return m.position>=m.bufferCheckPosition&&function(je){for(var Ze=Math.max(P.MAX_BUFFER_LENGTH,10),Me=0,He=0,at=i.length;He<at;He++){var St=je[i[He]].length;if(St>Ze)switch(i[He]){case"textNode":Re(je);break;case"cdata":Ge(je,"oncdata",je.cdata),je.cdata="";break;case"script":Ge(je,"onscript",je.script),je.script="";break;default:$e(je,"Max buffer length exceeded: "+i[He])}Me=Math.max(Me,St)}var dt=P.MAX_BUFFER_LENGTH-Me;je.bufferCheckPosition=dt+je.position}(m),m},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var S;Re(S=this),S.cdata!==""&&(Ge(S,"oncdata",S.cdata),S.cdata=""),S.script!==""&&(Ge(S,"onscript",S.script),S.script="")}};try{_=E(182).Stream}catch{_=function(){}}var w=P.EVENTS.filter(function(S){return S!=="error"&&S!=="end"});function T(S,m){if(!(this instanceof T))return new T(S,m);_.apply(this),this._parser=new o(S,m),this.writable=!0,this.readable=!0;var O=this;this._parser.onend=function(){O.emit("end")},this._parser.onerror=function(M){O.emit("error",M),O._parser.error=null},this._decoder=null,w.forEach(function(M){Object.defineProperty(O,"on"+M,{get:function(){return O._parser["on"+M]},set:function(oe){if(!oe)return O.removeAllListeners(M),O._parser["on"+M]=oe,oe;O.on(M,oe)},enumerable:!0,configurable:!1})})}T.prototype=Object.create(_.prototype,{constructor:{value:T}}),T.prototype.write=function(S){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(S)){if(!this._decoder){var m=E(7503).s;this._decoder=new m("utf8")}S=this._decoder.write(S)}return this._parser.write(S.toString()),this.emit("data",S),!0},T.prototype.end=function(S){return S&&S.length&&this.write(S),this._parser.end(),!0},T.prototype.on=function(S,m){var O=this;return O._parser["on"+S]||w.indexOf(S)===-1||(O._parser["on"+S]=function(){var M=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,S),O.emit.apply(O,M)}),_.prototype.on.call(O,S,m)};var c=`\r
	 `,b="0124356789",g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u=`'"`,f=c+">",h="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",B={xml:h,xmlns:C};c=te(c),b=te(b),g=te(g);var G=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function te(S){return S.split("").reduce(function(m,O){return m[O]=!0,m},{})}function de(S,m){return function(O){return Object.prototype.toString.call(O)==="[object RegExp]"}(S)?!!m.match(S):S[m]}function J(S,m){return!de(S,m)}u=te(u),f=te(f);var le,ge,Ce,ae=0;for(var we in P.STATE={BEGIN:ae++,BEGIN_WHITESPACE:ae++,TEXT:ae++,TEXT_ENTITY:ae++,OPEN_WAKA:ae++,SGML_DECL:ae++,SGML_DECL_QUOTED:ae++,DOCTYPE:ae++,DOCTYPE_QUOTED:ae++,DOCTYPE_DTD:ae++,DOCTYPE_DTD_QUOTED:ae++,COMMENT_STARTING:ae++,COMMENT:ae++,COMMENT_ENDING:ae++,COMMENT_ENDED:ae++,CDATA:ae++,CDATA_ENDING:ae++,CDATA_ENDING_2:ae++,PROC_INST:ae++,PROC_INST_BODY:ae++,PROC_INST_ENDING:ae++,OPEN_TAG:ae++,OPEN_TAG_SLASH:ae++,ATTRIB:ae++,ATTRIB_NAME:ae++,ATTRIB_NAME_SAW_WHITE:ae++,ATTRIB_VALUE:ae++,ATTRIB_VALUE_QUOTED:ae++,ATTRIB_VALUE_CLOSED:ae++,ATTRIB_VALUE_UNQUOTED:ae++,ATTRIB_VALUE_ENTITY_Q:ae++,ATTRIB_VALUE_ENTITY_U:ae++,CLOSE_TAG:ae++,CLOSE_TAG_SAW_WHITE:ae++,SCRIPT:ae++,SCRIPT_ENDING:ae++},P.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},P.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(P.ENTITIES).forEach(function(S){var m=P.ENTITIES[S],O=typeof m=="number"?String.fromCharCode(m):m;P.ENTITIES[S]=O}),P.STATE)P.STATE[P.STATE[we]]=we;function Pe(S,m,O){S[m]&&S[m](O)}function Ge(S,m,O){S.textNode&&Re(S),Pe(S,m,O)}function Re(S){S.textNode=xe(S.opt,S.textNode),S.textNode&&Pe(S,"ontext",S.textNode),S.textNode=""}function xe(S,m){return S.trim&&(m=m.trim()),S.normalize&&(m=m.replace(/\s+/g," ")),m}function $e(S,m){return Re(S),S.trackPosition&&(m+=`
Line: `+S.line+`
Column: `+S.column+`
Char: `+S.c),m=new Error(m),S.error=m,Pe(S,"onerror",m),S}function it(S){return S.sawRoot&&!S.closedRoot&&Ie(S,"Unclosed root tag"),S.state!==ae.BEGIN&&S.state!==ae.BEGIN_WHITESPACE&&S.state!==ae.TEXT&&$e(S,"Unexpected end"),Re(S),S.c="",S.closed=!0,Pe(S,"onend"),o.call(S,S.strict,S.opt),S}function Ie(S,m){if(typeof S!="object"||!(S instanceof o))throw new Error("bad call to strictFail");S.strict&&$e(S,m)}function ke(S){S.strict||(S.tagName=S.tagName[S.looseCase]());var m=S.tags[S.tags.length-1]||S,O=S.tag={name:S.tagName,attributes:{}};S.opt.xmlns&&(O.ns=m.ns),S.attribList.length=0,Ge(S,"onopentagstart",O)}function wt(S,m){var O=S.indexOf(":")<0?["",S]:S.split(":"),M=O[0],oe=O[1];return m&&S==="xmlns"&&(M="xmlns",oe=""),{prefix:M,local:oe}}function Et(S){if(S.strict||(S.attribName=S.attribName[S.looseCase]()),S.attribList.indexOf(S.attribName)!==-1||S.tag.attributes.hasOwnProperty(S.attribName))S.attribName=S.attribValue="";else{if(S.opt.xmlns){var m=wt(S.attribName,!0),O=m.prefix,M=m.local;if(O==="xmlns")if(M==="xml"&&S.attribValue!==h)Ie(S,"xml: prefix must be bound to "+h+`
Actual: `+S.attribValue);else if(M==="xmlns"&&S.attribValue!==C)Ie(S,"xmlns: prefix must be bound to "+C+`
Actual: `+S.attribValue);else{var oe=S.tag,ne=S.tags[S.tags.length-1]||S;oe.ns===ne.ns&&(oe.ns=Object.create(ne.ns)),oe.ns[M]=S.attribValue}S.attribList.push([S.attribName,S.attribValue])}else S.tag.attributes[S.attribName]=S.attribValue,Ge(S,"onattribute",{name:S.attribName,value:S.attribValue});S.attribName=S.attribValue=""}}function ze(S,m){if(S.opt.xmlns){var O=S.tag,M=wt(S.tagName);O.prefix=M.prefix,O.local=M.local,O.uri=O.ns[M.prefix]||"",O.prefix&&!O.uri&&(Ie(S,"Unbound namespace prefix: "+JSON.stringify(S.tagName)),O.uri=M.prefix);var oe=S.tags[S.tags.length-1]||S;O.ns&&oe.ns!==O.ns&&Object.keys(O.ns).forEach(function(Vt){Ge(S,"onopennamespace",{prefix:Vt,uri:O.ns[Vt]})});for(var ne=0,Oe=S.attribList.length;ne<Oe;ne++){var nt=S.attribList[ne],je=nt[0],Ze=nt[1],Me=wt(je,!0),He=Me.prefix,at=Me.local,St=He===""?"":O.ns[He]||"",dt={name:je,value:Ze,prefix:He,local:at,uri:St};He&&He!=="xmlns"&&!St&&(Ie(S,"Unbound namespace prefix: "+JSON.stringify(He)),dt.uri=He),S.tag.attributes[je]=dt,Ge(S,"onattribute",dt)}S.attribList.length=0}S.tag.isSelfClosing=!!m,S.sawRoot=!0,S.tags.push(S.tag),Ge(S,"onopentag",S.tag),m||(S.noscript||S.tagName.toLowerCase()!=="script"?S.state=ae.TEXT:S.state=ae.SCRIPT,S.tag=null,S.tagName=""),S.attribName=S.attribValue="",S.attribList.length=0}function st(S){if(!S.tagName)return Ie(S,"Weird empty close tag."),S.textNode+="</>",void(S.state=ae.TEXT);if(S.script){if(S.tagName!=="script")return S.script+="</"+S.tagName+">",S.tagName="",void(S.state=ae.SCRIPT);Ge(S,"onscript",S.script),S.script=""}var m=S.tags.length,O=S.tagName;S.strict||(O=O[S.looseCase]());for(var M=O;m--&&S.tags[m].name!==M;)Ie(S,"Unexpected close tag");if(m<0)return Ie(S,"Unmatched closing tag: "+S.tagName),S.textNode+="</"+S.tagName+">",void(S.state=ae.TEXT);S.tagName=O;for(var oe=S.tags.length;oe-- >m;){var ne=S.tag=S.tags.pop();S.tagName=S.tag.name,Ge(S,"onclosetag",S.tagName);var Oe={};for(var nt in ne.ns)Oe[nt]=ne.ns[nt];var je=S.tags[S.tags.length-1]||S;S.opt.xmlns&&ne.ns!==je.ns&&Object.keys(ne.ns).forEach(function(Ze){var Me=ne.ns[Ze];Ge(S,"onclosenamespace",{prefix:Ze,uri:Me})})}m===0&&(S.closedRoot=!0),S.tagName=S.attribValue=S.attribName="",S.attribList.length=0,S.state=ae.TEXT}function Te(S){var m,O=S.entity,M=O.toLowerCase(),oe="";return S.ENTITIES[O]?S.ENTITIES[O]:S.ENTITIES[M]?S.ENTITIES[M]:((O=M).charAt(0)==="#"&&(O.charAt(1)==="x"?(O=O.slice(2),oe=(m=parseInt(O,16)).toString(16)):(O=O.slice(1),oe=(m=parseInt(O,10)).toString(10))),O=O.replace(/^0+/,""),oe.toLowerCase()!==O?(Ie(S,"Invalid character entity"),"&"+S.entity+";"):String.fromCodePoint(m))}function Ae(S,m){m==="<"?(S.state=ae.OPEN_WAKA,S.startTagPosition=S.position):J(c,m)&&(Ie(S,"Non-whitespace before first tag."),S.textNode=m,S.state=ae.TEXT)}function Ve(S,m){var O="";return m<S.length&&(O=S.charAt(m)),O}ae=P.STATE,String.fromCodePoint||(le=String.fromCharCode,ge=Math.floor,Ce=function(){var S,m,O=16384,M=[],oe=-1,ne=arguments.length;if(!ne)return"";for(var Oe="";++oe<ne;){var nt=Number(arguments[oe]);if(!isFinite(nt)||nt<0||nt>1114111||ge(nt)!==nt)throw RangeError("Invalid code point: "+nt);nt<=65535?M.push(nt):(S=55296+((nt-=65536)>>10),m=nt%1024+56320,M.push(S,m)),(oe+1===ne||M.length>O)&&(Oe+=le.apply(null,M),M.length=0)}return Oe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ce,configurable:!0,writable:!0}):String.fromCodePoint=Ce)})(N)},182:function(A,N,E){A.exports=_;var P=E(1159).EventEmitter;function _(){P.call(this)}E(1765)(_,P),_.Readable=E(2846),_.Writable=E(8318),_.Duplex=E(6138),_.Transform=E(9798),_.PassThrough=E(5472),_.finished=E(8800),_.pipeline=E(7295),_.Stream=_,_.prototype.pipe=function(i,o){var w=this;function T(C){i.writable&&i.write(C)===!1&&w.pause&&w.pause()}function c(){w.readable&&w.resume&&w.resume()}w.on("data",T),i.on("drain",c),i._isStdio||o&&o.end===!1||(w.on("end",g),w.on("close",u));var b=!1;function g(){b||(b=!0,i.end())}function u(){b||(b=!0,typeof i.destroy=="function"&&i.destroy())}function f(C){if(h(),P.listenerCount(this,"error")===0)throw C}function h(){w.removeListener("data",T),i.removeListener("drain",c),w.removeListener("end",g),w.removeListener("close",u),w.removeListener("error",f),i.removeListener("error",f),w.removeListener("end",h),w.removeListener("close",h),i.removeListener("close",h)}return w.on("error",f),i.on("error",f),w.on("end",h),w.on("close",h),i.on("close",h),i.emit("pipe",w),i}},1765:function(A){typeof Object.create=="function"?A.exports=function(N,E){E&&(N.super_=E,N.prototype=Object.create(E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}))}:A.exports=function(N,E){if(E){N.super_=E;var P=function(){};P.prototype=E.prototype,N.prototype=new P,N.prototype.constructor=N}}},3690:function(A){var N={};function E(_,i,o){o||(o=Error);var w=function(T){var c,b;function g(u,f,h){return T.call(this,function(C,B,G){return typeof i=="string"?i:i(C,B,G)}(u,f,h))||this}return b=T,(c=g).prototype=Object.create(b.prototype),c.prototype.constructor=c,c.__proto__=b,g}(o);w.prototype.name=o.name,w.prototype.code=_,N[_]=w}function P(_,i){if(Array.isArray(_)){var o=_.length;return _=_.map(function(w){return String(w)}),o>2?"one of ".concat(i," ").concat(_.slice(0,o-1).join(", "),", or ")+_[o-1]:o===2?"one of ".concat(i," ").concat(_[0]," or ").concat(_[1]):"of ".concat(i," ").concat(_[0])}return"of ".concat(i," ").concat(String(_))}E("ERR_INVALID_OPT_VALUE",function(_,i){return'The value "'+i+'" is invalid for option "'+_+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(_,i,o){var w,T,c,b,g;if(typeof i=="string"&&(T="not ",i.substr(0,T.length)===T)?(w="must not be",i=i.replace(/^not /,"")):w="must be",function(f,h,C){return(C===void 0||C>f.length)&&(C=f.length),f.substring(C-h.length,C)===h}(_," argument"))c="The ".concat(_," ").concat(w," ").concat(P(i,"type"));else{var u=(typeof g!="number"&&(g=0),g+1>(b=_).length||b.indexOf(".",g)===-1?"argument":"property");c='The "'.concat(_,'" ').concat(u," ").concat(w," ").concat(P(i,"type"))}return c+". Received type ".concat(typeof o)},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),A.exports.q=N},6138:function(A,N,E){var P=Object.keys||function(u){var f=[];for(var h in u)f.push(h);return f};A.exports=c;var _=E(2846),i=E(8318);E(1765)(c,_);for(var o=P(i.prototype),w=0;w<o.length;w++){var T=o[w];c.prototype[T]||(c.prototype[T]=i.prototype[T])}function c(u){if(!(this instanceof c))return new c(u);_.call(this,u),i.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",b)))}function b(){this._writableState.ended||process.nextTick(g,this)}function g(u){u.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},5472:function(A,N,E){A.exports=_;var P=E(9798);function _(i){if(!(this instanceof _))return new _(i);P.call(this,i)}E(1765)(_,P),_.prototype._transform=function(i,o,w){w(null,i)}},2846:function(A,N,E){var P;A.exports=le,le.ReadableState=J,E(1159).EventEmitter;var _,i=function(Te,Ae){return Te.listeners(Ae).length},o=E(9299),w=E(1549).Buffer,T=E.g.Uint8Array||function(){},c=E(964);_=c&&c.debuglog?c.debuglog("stream"):function(){};var b,g,u,f=E(8393),h=E(6163),C=E(7269).getHighWaterMark,B=E(3690).q,G=B.ERR_INVALID_ARG_TYPE,U=B.ERR_STREAM_PUSH_AFTER_EOF,re=B.ERR_METHOD_NOT_IMPLEMENTED,Z=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(1765)(le,o);var te=h.errorOrDestroy,de=["error","close","destroy","pause","resume"];function J(Te,Ae,Ve){P=P||E(6138),Te=Te||{},typeof Ve!="boolean"&&(Ve=Ae instanceof P),this.objectMode=!!Te.objectMode,Ve&&(this.objectMode=this.objectMode||!!Te.readableObjectMode),this.highWaterMark=C(this,Te,"readableHighWaterMark",Ve),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.destroyed=!1,this.defaultEncoding=Te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Te.encoding&&(b||(b=E(7503).s),this.decoder=new b(Te.encoding),this.encoding=Te.encoding)}function le(Te){if(P=P||E(6138),!(this instanceof le))return new le(Te);var Ae=this instanceof P;this._readableState=new J(Te,this,Ae),this.readable=!0,Te&&(typeof Te.read=="function"&&(this._read=Te.read),typeof Te.destroy=="function"&&(this._destroy=Te.destroy)),o.call(this)}function ge(Te,Ae,Ve,S,m){_("readableAddChunk",Ae);var O,M=Te._readableState;if(Ae===null)M.reading=!1,function(oe,ne){if(_("onEofChunk"),!ne.ended){if(ne.decoder){var Oe=ne.decoder.end();Oe&&Oe.length&&(ne.buffer.push(Oe),ne.length+=ne.objectMode?1:Oe.length)}ne.ended=!0,ne.sync?Pe(oe):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,Ge(oe)))}}(Te,M);else if(m||(O=function(oe,ne){var Oe,nt;return nt=ne,w.isBuffer(nt)||nt instanceof T||typeof ne=="string"||ne===void 0||oe.objectMode||(Oe=new G("chunk",["string","Buffer","Uint8Array"],ne)),Oe}(M,Ae)),O)te(Te,O);else if(M.objectMode||Ae&&Ae.length>0)if(typeof Ae=="string"||M.objectMode||Object.getPrototypeOf(Ae)===w.prototype||(Ae=function(oe){return w.from(oe)}(Ae)),S)M.endEmitted?te(Te,new Z):Ce(Te,M,Ae,!0);else if(M.ended)te(Te,new U);else{if(M.destroyed)return!1;M.reading=!1,M.decoder&&!Ve?(Ae=M.decoder.write(Ae),M.objectMode||Ae.length!==0?Ce(Te,M,Ae,!1):Re(Te,M)):Ce(Te,M,Ae,!1)}else S||(M.reading=!1,Re(Te,M));return!M.ended&&(M.length<M.highWaterMark||M.length===0)}function Ce(Te,Ae,Ve,S){Ae.flowing&&Ae.length===0&&!Ae.sync?(Ae.awaitDrain=0,Te.emit("data",Ve)):(Ae.length+=Ae.objectMode?1:Ve.length,S?Ae.buffer.unshift(Ve):Ae.buffer.push(Ve),Ae.needReadable&&Pe(Te)),Re(Te,Ae)}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),le.prototype.destroy=h.destroy,le.prototype._undestroy=h.undestroy,le.prototype._destroy=function(Te,Ae){Ae(Te)},le.prototype.push=function(Te,Ae){var Ve,S=this._readableState;return S.objectMode?Ve=!0:typeof Te=="string"&&((Ae=Ae||S.defaultEncoding)!==S.encoding&&(Te=w.from(Te,Ae),Ae=""),Ve=!0),ge(this,Te,Ae,!1,Ve)},le.prototype.unshift=function(Te){return ge(this,Te,null,!0,!1)},le.prototype.isPaused=function(){return this._readableState.flowing===!1},le.prototype.setEncoding=function(Te){b||(b=E(7503).s);var Ae=new b(Te);this._readableState.decoder=Ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ve=this._readableState.buffer.head,S="";Ve!==null;)S+=Ae.write(Ve.data),Ve=Ve.next;return this._readableState.buffer.clear(),S!==""&&this._readableState.buffer.push(S),this._readableState.length=S.length,this};var ae=1073741824;function we(Te,Ae){return Te<=0||Ae.length===0&&Ae.ended?0:Ae.objectMode?1:Te!=Te?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(Te>Ae.highWaterMark&&(Ae.highWaterMark=function(Ve){return Ve>=ae?Ve=ae:(Ve--,Ve|=Ve>>>1,Ve|=Ve>>>2,Ve|=Ve>>>4,Ve|=Ve>>>8,Ve|=Ve>>>16,Ve++),Ve}(Te)),Te<=Ae.length?Te:Ae.ended?Ae.length:(Ae.needReadable=!0,0))}function Pe(Te){var Ae=Te._readableState;_("emitReadable",Ae.needReadable,Ae.emittedReadable),Ae.needReadable=!1,Ae.emittedReadable||(_("emitReadable",Ae.flowing),Ae.emittedReadable=!0,process.nextTick(Ge,Te))}function Ge(Te){var Ae=Te._readableState;_("emitReadable_",Ae.destroyed,Ae.length,Ae.ended),Ae.destroyed||!Ae.length&&!Ae.ended||(Te.emit("readable"),Ae.emittedReadable=!1),Ae.needReadable=!Ae.flowing&&!Ae.ended&&Ae.length<=Ae.highWaterMark,ke(Te)}function Re(Te,Ae){Ae.readingMore||(Ae.readingMore=!0,process.nextTick(xe,Te,Ae))}function xe(Te,Ae){for(;!Ae.reading&&!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.flowing&&Ae.length===0);){var Ve=Ae.length;if(_("maybeReadMore read 0"),Te.read(0),Ve===Ae.length)break}Ae.readingMore=!1}function $e(Te){var Ae=Te._readableState;Ae.readableListening=Te.listenerCount("readable")>0,Ae.resumeScheduled&&!Ae.paused?Ae.flowing=!0:Te.listenerCount("data")>0&&Te.resume()}function it(Te){_("readable nexttick read 0"),Te.read(0)}function Ie(Te,Ae){_("resume",Ae.reading),Ae.reading||Te.read(0),Ae.resumeScheduled=!1,Te.emit("resume"),ke(Te),Ae.flowing&&!Ae.reading&&Te.read(0)}function ke(Te){var Ae=Te._readableState;for(_("flow",Ae.flowing);Ae.flowing&&Te.read()!==null;);}function wt(Te,Ae){return Ae.length===0?null:(Ae.objectMode?Ve=Ae.buffer.shift():!Te||Te>=Ae.length?(Ve=Ae.decoder?Ae.buffer.join(""):Ae.buffer.length===1?Ae.buffer.first():Ae.buffer.concat(Ae.length),Ae.buffer.clear()):Ve=Ae.buffer.consume(Te,Ae.decoder),Ve);var Ve}function Et(Te){var Ae=Te._readableState;_("endReadable",Ae.endEmitted),Ae.endEmitted||(Ae.ended=!0,process.nextTick(ze,Ae,Te))}function ze(Te,Ae){if(_("endReadableNT",Te.endEmitted,Te.length),!Te.endEmitted&&Te.length===0&&(Te.endEmitted=!0,Ae.readable=!1,Ae.emit("end"),Te.autoDestroy)){var Ve=Ae._writableState;(!Ve||Ve.autoDestroy&&Ve.finished)&&Ae.destroy()}}function st(Te,Ae){for(var Ve=0,S=Te.length;Ve<S;Ve++)if(Te[Ve]===Ae)return Ve;return-1}le.prototype.read=function(Te){_("read",Te),Te=parseInt(Te,10);var Ae=this._readableState,Ve=Te;if(Te!==0&&(Ae.emittedReadable=!1),Te===0&&Ae.needReadable&&((Ae.highWaterMark!==0?Ae.length>=Ae.highWaterMark:Ae.length>0)||Ae.ended))return _("read: emitReadable",Ae.length,Ae.ended),Ae.length===0&&Ae.ended?Et(this):Pe(this),null;if((Te=we(Te,Ae))===0&&Ae.ended)return Ae.length===0&&Et(this),null;var S,m=Ae.needReadable;return _("need readable",m),(Ae.length===0||Ae.length-Te<Ae.highWaterMark)&&_("length less than watermark",m=!0),Ae.ended||Ae.reading?_("reading or ended",m=!1):m&&(_("do read"),Ae.reading=!0,Ae.sync=!0,Ae.length===0&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(Te=we(Ve,Ae))),(S=Te>0?wt(Te,Ae):null)===null?(Ae.needReadable=Ae.length<=Ae.highWaterMark,Te=0):(Ae.length-=Te,Ae.awaitDrain=0),Ae.length===0&&(Ae.ended||(Ae.needReadable=!0),Ve!==Te&&Ae.ended&&Et(this)),S!==null&&this.emit("data",S),S},le.prototype._read=function(Te){te(this,new re("_read()"))},le.prototype.pipe=function(Te,Ae){var Ve=this,S=this._readableState;switch(S.pipesCount){case 0:S.pipes=Te;break;case 1:S.pipes=[S.pipes,Te];break;default:S.pipes.push(Te)}S.pipesCount+=1,_("pipe count=%d opts=%j",S.pipesCount,Ae);var m=Ae&&Ae.end===!1||Te===process.stdout||Te===process.stderr?Ze:O;function O(){_("onend"),Te.end()}S.endEmitted?process.nextTick(m):Ve.once("end",m),Te.on("unpipe",function Me(He,at){_("onunpipe"),He===Ve&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,_("cleanup"),Te.removeListener("close",nt),Te.removeListener("finish",je),Te.removeListener("drain",M),Te.removeListener("error",Oe),Te.removeListener("unpipe",Me),Ve.removeListener("end",O),Ve.removeListener("end",Ze),Ve.removeListener("data",ne),oe=!0,!S.awaitDrain||Te._writableState&&!Te._writableState.needDrain||M())});var M=function(Me){return function(){var He=Me._readableState;_("pipeOnDrain",He.awaitDrain),He.awaitDrain&&He.awaitDrain--,He.awaitDrain===0&&i(Me,"data")&&(He.flowing=!0,ke(Me))}}(Ve);Te.on("drain",M);var oe=!1;function ne(Me){_("ondata");var He=Te.write(Me);_("dest.write",He),He===!1&&((S.pipesCount===1&&S.pipes===Te||S.pipesCount>1&&st(S.pipes,Te)!==-1)&&!oe&&(_("false write response, pause",S.awaitDrain),S.awaitDrain++),Ve.pause())}function Oe(Me){_("onerror",Me),Ze(),Te.removeListener("error",Oe),i(Te,"error")===0&&te(Te,Me)}function nt(){Te.removeListener("finish",je),Ze()}function je(){_("onfinish"),Te.removeListener("close",nt),Ze()}function Ze(){_("unpipe"),Ve.unpipe(Te)}return Ve.on("data",ne),function(Me,He,at){if(typeof Me.prependListener=="function")return Me.prependListener(He,at);Me._events&&Me._events[He]?Array.isArray(Me._events[He])?Me._events[He].unshift(at):Me._events[He]=[at,Me._events[He]]:Me.on(He,at)}(Te,"error",Oe),Te.once("close",nt),Te.once("finish",je),Te.emit("pipe",Ve),S.flowing||(_("pipe resume"),Ve.resume()),Te},le.prototype.unpipe=function(Te){var Ae=this._readableState,Ve={hasUnpiped:!1};if(Ae.pipesCount===0)return this;if(Ae.pipesCount===1)return Te&&Te!==Ae.pipes||(Te||(Te=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,Te&&Te.emit("unpipe",this,Ve)),this;if(!Te){var S=Ae.pipes,m=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var O=0;O<m;O++)S[O].emit("unpipe",this,{hasUnpiped:!1});return this}var M=st(Ae.pipes,Te);return M===-1||(Ae.pipes.splice(M,1),Ae.pipesCount-=1,Ae.pipesCount===1&&(Ae.pipes=Ae.pipes[0]),Te.emit("unpipe",this,Ve)),this},le.prototype.on=function(Te,Ae){var Ve=o.prototype.on.call(this,Te,Ae),S=this._readableState;return Te==="data"?(S.readableListening=this.listenerCount("readable")>0,S.flowing!==!1&&this.resume()):Te==="readable"&&(S.endEmitted||S.readableListening||(S.readableListening=S.needReadable=!0,S.flowing=!1,S.emittedReadable=!1,_("on readable",S.length,S.reading),S.length?Pe(this):S.reading||process.nextTick(it,this))),Ve},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(Te,Ae){var Ve=o.prototype.removeListener.call(this,Te,Ae);return Te==="readable"&&process.nextTick($e,this),Ve},le.prototype.removeAllListeners=function(Te){var Ae=o.prototype.removeAllListeners.apply(this,arguments);return Te!=="readable"&&Te!==void 0||process.nextTick($e,this),Ae},le.prototype.resume=function(){var Te=this._readableState;return Te.flowing||(_("resume"),Te.flowing=!Te.readableListening,function(Ae,Ve){Ve.resumeScheduled||(Ve.resumeScheduled=!0,process.nextTick(Ie,Ae,Ve))}(this,Te)),Te.paused=!1,this},le.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},le.prototype.wrap=function(Te){var Ae=this,Ve=this._readableState,S=!1;for(var m in Te.on("end",function(){if(_("wrapped end"),Ve.decoder&&!Ve.ended){var M=Ve.decoder.end();M&&M.length&&Ae.push(M)}Ae.push(null)}),Te.on("data",function(M){_("wrapped data"),Ve.decoder&&(M=Ve.decoder.write(M)),Ve.objectMode&&M==null||(Ve.objectMode||M&&M.length)&&(Ae.push(M)||(S=!0,Te.pause()))}),Te)this[m]===void 0&&typeof Te[m]=="function"&&(this[m]=function(M){return function(){return Te[M].apply(Te,arguments)}}(m));for(var O=0;O<de.length;O++)Te.on(de[O],this.emit.bind(this,de[O]));return this._read=function(M){_("wrapped _read",M),S&&(S=!1,Te.resume())},this},typeof Symbol=="function"&&(le.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=E(7299)),g(this)}),Object.defineProperty(le.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(le.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(le.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Te){this._readableState&&(this._readableState.flowing=Te)}}),le._fromList=wt,Object.defineProperty(le.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(le.from=function(Te,Ae){return u===void 0&&(u=E(6233)),u(le,Te,Ae)})},9798:function(A,N,E){A.exports=b;var P=E(3690).q,_=P.ERR_METHOD_NOT_IMPLEMENTED,i=P.ERR_MULTIPLE_CALLBACK,o=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=P.ERR_TRANSFORM_WITH_LENGTH_0,T=E(6138);function c(f,h){var C=this._transformState;C.transforming=!1;var B=C.writecb;if(B===null)return this.emit("error",new i);C.writechunk=null,C.writecb=null,h!=null&&this.push(h),B(f);var G=this._readableState;G.reading=!1,(G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}function b(f){if(!(this instanceof b))return new b(f);T.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",g)}function g(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?u(this,null,null):this._flush(function(h,C){u(f,h,C)})}function u(f,h,C){if(h)return f.emit("error",h);if(C!=null&&f.push(C),f._writableState.length)throw new w;if(f._transformState.transforming)throw new o;return f.push(null)}E(1765)(b,T),b.prototype.push=function(f,h){return this._transformState.needTransform=!1,T.prototype.push.call(this,f,h)},b.prototype._transform=function(f,h,C){C(new _("_transform()"))},b.prototype._write=function(f,h,C){var B=this._transformState;if(B.writecb=C,B.writechunk=f,B.writeencoding=h,!B.transforming){var G=this._readableState;(B.needTransform||G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}},b.prototype._read=function(f){var h=this._transformState;h.writechunk===null||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},b.prototype._destroy=function(f,h){T.prototype._destroy.call(this,f,function(C){h(C)})}},8318:function(A,N,E){function P(Re){var xe=this;this.next=null,this.entry=null,this.finish=function(){(function($e,it,Ie){var ke=$e.entry;for($e.entry=null;ke;){var wt=ke.callback;it.pendingcb--,wt(void 0),ke=ke.next}it.corkedRequestsFree.next=$e})(xe,Re)}}var _;A.exports=le,le.WritableState=J;var i,o={deprecate:E(7839)},w=E(9299),T=E(1549).Buffer,c=E.g.Uint8Array||function(){},b=E(6163),g=E(7269).getHighWaterMark,u=E(3690).q,f=u.ERR_INVALID_ARG_TYPE,h=u.ERR_METHOD_NOT_IMPLEMENTED,C=u.ERR_MULTIPLE_CALLBACK,B=u.ERR_STREAM_CANNOT_PIPE,G=u.ERR_STREAM_DESTROYED,U=u.ERR_STREAM_NULL_VALUES,re=u.ERR_STREAM_WRITE_AFTER_END,Z=u.ERR_UNKNOWN_ENCODING,te=b.errorOrDestroy;function de(){}function J(Re,xe,$e){_=_||E(6138),Re=Re||{},typeof $e!="boolean"&&($e=xe instanceof _),this.objectMode=!!Re.objectMode,$e&&(this.objectMode=this.objectMode||!!Re.writableObjectMode),this.highWaterMark=g(this,Re,"writableHighWaterMark",$e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var it=Re.decodeStrings===!1;this.decodeStrings=!it,this.defaultEncoding=Re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){(function(ke,wt){var Et=ke._writableState,ze=Et.sync,st=Et.writecb;if(typeof st!="function")throw new C;if(function(Ae){Ae.writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0}(Et),wt)(function(Ae,Ve,S,m,O){--Ve.pendingcb,S?(process.nextTick(O,m),process.nextTick(Ge,Ae,Ve),Ae._writableState.errorEmitted=!0,te(Ae,m)):(O(m),Ae._writableState.errorEmitted=!0,te(Ae,m),Ge(Ae,Ve))})(ke,Et,ze,wt,st);else{var Te=we(Et)||ke.destroyed;Te||Et.corked||Et.bufferProcessing||!Et.bufferedRequest||ae(ke,Et),ze?process.nextTick(Ce,ke,Et,Te,st):Ce(ke,Et,Te,st)}})(xe,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Re.emitClose!==!1,this.autoDestroy=!!Re.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}function le(Re){var xe=this instanceof(_=_||E(6138));if(!xe&&!i.call(le,this))return new le(Re);this._writableState=new J(Re,this,xe),this.writable=!0,Re&&(typeof Re.write=="function"&&(this._write=Re.write),typeof Re.writev=="function"&&(this._writev=Re.writev),typeof Re.destroy=="function"&&(this._destroy=Re.destroy),typeof Re.final=="function"&&(this._final=Re.final)),w.call(this)}function ge(Re,xe,$e,it,Ie,ke,wt){xe.writelen=it,xe.writecb=wt,xe.writing=!0,xe.sync=!0,xe.destroyed?xe.onwrite(new G("write")):$e?Re._writev(Ie,xe.onwrite):Re._write(Ie,ke,xe.onwrite),xe.sync=!1}function Ce(Re,xe,$e,it){$e||function(Ie,ke){ke.length===0&&ke.needDrain&&(ke.needDrain=!1,Ie.emit("drain"))}(Re,xe),xe.pendingcb--,it(),Ge(Re,xe)}function ae(Re,xe){xe.bufferProcessing=!0;var $e=xe.bufferedRequest;if(Re._writev&&$e&&$e.next){var it=xe.bufferedRequestCount,Ie=new Array(it),ke=xe.corkedRequestsFree;ke.entry=$e;for(var wt=0,Et=!0;$e;)Ie[wt]=$e,$e.isBuf||(Et=!1),$e=$e.next,wt+=1;Ie.allBuffers=Et,ge(Re,xe,!0,xe.length,Ie,"",ke.finish),xe.pendingcb++,xe.lastBufferedRequest=null,ke.next?(xe.corkedRequestsFree=ke.next,ke.next=null):xe.corkedRequestsFree=new P(xe),xe.bufferedRequestCount=0}else{for(;$e;){var ze=$e.chunk,st=$e.encoding,Te=$e.callback;if(ge(Re,xe,!1,xe.objectMode?1:ze.length,ze,st,Te),$e=$e.next,xe.bufferedRequestCount--,xe.writing)break}$e===null&&(xe.lastBufferedRequest=null)}xe.bufferedRequest=$e,xe.bufferProcessing=!1}function we(Re){return Re.ending&&Re.length===0&&Re.bufferedRequest===null&&!Re.finished&&!Re.writing}function Pe(Re,xe){Re._final(function($e){xe.pendingcb--,$e&&te(Re,$e),xe.prefinished=!0,Re.emit("prefinish"),Ge(Re,xe)})}function Ge(Re,xe){var $e=we(xe);if($e&&(function(Ie,ke){ke.prefinished||ke.finalCalled||(typeof Ie._final!="function"||ke.destroyed?(ke.prefinished=!0,Ie.emit("prefinish")):(ke.pendingcb++,ke.finalCalled=!0,process.nextTick(Pe,Ie,ke)))}(Re,xe),xe.pendingcb===0&&(xe.finished=!0,Re.emit("finish"),xe.autoDestroy))){var it=Re._readableState;(!it||it.autoDestroy&&it.endEmitted)&&Re.destroy()}return $e}E(1765)(le,w),J.prototype.getBuffer=function(){for(var Re=this.bufferedRequest,xe=[];Re;)xe.push(Re),Re=Re.next;return xe},function(){try{Object.defineProperty(J.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(Re){return!!i.call(this,Re)||this===le&&Re&&Re._writableState instanceof J}})):i=function(Re){return Re instanceof this},le.prototype.pipe=function(){te(this,new B)},le.prototype.write=function(Re,xe,$e){var it,Ie=this._writableState,ke=!1,wt=!Ie.objectMode&&(it=Re,T.isBuffer(it)||it instanceof c);return wt&&!T.isBuffer(Re)&&(Re=function(Et){return T.from(Et)}(Re)),typeof xe=="function"&&($e=xe,xe=null),wt?xe="buffer":xe||(xe=Ie.defaultEncoding),typeof $e!="function"&&($e=de),Ie.ending?function(Et,ze){var st=new re;te(Et,st),process.nextTick(ze,st)}(this,$e):(wt||function(Et,ze,st,Te){var Ae;return st===null?Ae=new U:typeof st=="string"||ze.objectMode||(Ae=new f("chunk",["string","Buffer"],st)),!Ae||(te(Et,Ae),process.nextTick(Te,Ae),!1)}(this,Ie,Re,$e))&&(Ie.pendingcb++,ke=function(Et,ze,st,Te,Ae,Ve){if(!st){var S=function(oe,ne,Oe){return oe.objectMode||oe.decodeStrings===!1||typeof ne!="string"||(ne=T.from(ne,Oe)),ne}(ze,Te,Ae);Te!==S&&(st=!0,Ae="buffer",Te=S)}var m=ze.objectMode?1:Te.length;ze.length+=m;var O=ze.length<ze.highWaterMark;if(O||(ze.needDrain=!0),ze.writing||ze.corked){var M=ze.lastBufferedRequest;ze.lastBufferedRequest={chunk:Te,encoding:Ae,isBuf:st,callback:Ve,next:null},M?M.next=ze.lastBufferedRequest:ze.bufferedRequest=ze.lastBufferedRequest,ze.bufferedRequestCount+=1}else ge(Et,ze,!1,m,Te,Ae,Ve);return O}(this,Ie,wt,Re,xe,$e)),ke},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var Re=this._writableState;Re.corked&&(Re.corked--,Re.writing||Re.corked||Re.bufferProcessing||!Re.bufferedRequest||ae(this,Re))},le.prototype.setDefaultEncoding=function(Re){if(typeof Re=="string"&&(Re=Re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Re+"").toLowerCase())>-1))throw new Z(Re);return this._writableState.defaultEncoding=Re,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),le.prototype._write=function(Re,xe,$e){$e(new h("_write()"))},le.prototype._writev=null,le.prototype.end=function(Re,xe,$e){var it=this._writableState;return typeof Re=="function"?($e=Re,Re=null,xe=null):typeof xe=="function"&&($e=xe,xe=null),Re!=null&&this.write(Re,xe),it.corked&&(it.corked=1,this.uncork()),it.ending||function(Ie,ke,wt){ke.ending=!0,Ge(Ie,ke),wt&&(ke.finished?process.nextTick(wt):Ie.once("finish",wt)),ke.ended=!0,Ie.writable=!1}(this,it,$e),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Re){this._writableState&&(this._writableState.destroyed=Re)}}),le.prototype.destroy=b.destroy,le.prototype._undestroy=b.undestroy,le.prototype._destroy=function(Re,xe){xe(Re)}},7299:function(A,N,E){var P;function _(U,re,Z){return re in U?Object.defineProperty(U,re,{value:Z,enumerable:!0,configurable:!0,writable:!0}):U[re]=Z,U}var i=E(8800),o=Symbol("lastResolve"),w=Symbol("lastReject"),T=Symbol("error"),c=Symbol("ended"),b=Symbol("lastPromise"),g=Symbol("handlePromise"),u=Symbol("stream");function f(U,re){return{value:U,done:re}}function h(U){var re=U[o];if(re!==null){var Z=U[u].read();Z!==null&&(U[b]=null,U[o]=null,U[w]=null,re(f(Z,!1)))}}function C(U){process.nextTick(h,U)}var B=Object.getPrototypeOf(function(){}),G=Object.setPrototypeOf((_(P={get stream(){return this[u]},next:function(){var U=this,re=this[T];if(re!==null)return Promise.reject(re);if(this[c])return Promise.resolve(f(void 0,!0));if(this[u].destroyed)return new Promise(function(J,le){process.nextTick(function(){U[T]?le(U[T]):J(f(void 0,!0))})});var Z,te=this[b];if(te)Z=new Promise(function(J,le){return function(ge,Ce){J.then(function(){le[c]?ge(f(void 0,!0)):le[g](ge,Ce)},Ce)}}(te,this));else{var de=this[u].read();if(de!==null)return Promise.resolve(f(de,!1));Z=new Promise(this[g])}return this[b]=Z,Z}},Symbol.asyncIterator,function(){return this}),_(P,"return",function(){var U=this;return new Promise(function(re,Z){U[u].destroy(null,function(te){te?Z(te):re(f(void 0,!0))})})}),P),B);A.exports=function(U){var re,Z=Object.create(G,(_(re={},u,{value:U,writable:!0}),_(re,o,{value:null,writable:!0}),_(re,w,{value:null,writable:!0}),_(re,T,{value:null,writable:!0}),_(re,c,{value:U._readableState.endEmitted,writable:!0}),_(re,g,{value:function(te,de){var J=Z[u].read();J?(Z[b]=null,Z[o]=null,Z[w]=null,te(f(J,!1))):(Z[o]=te,Z[w]=de)},writable:!0}),re));return Z[b]=null,i(U,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var de=Z[w];return de!==null&&(Z[b]=null,Z[o]=null,Z[w]=null,de(te)),void(Z[T]=te)}var J=Z[o];J!==null&&(Z[b]=null,Z[o]=null,Z[w]=null,J(f(void 0,!0))),Z[c]=!0}),U.on("readable",C.bind(null,Z)),Z}},8393:function(A,N,E){function P(c,b){var g=Object.keys(c);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);b&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(c,f).enumerable})),g.push.apply(g,u)}return g}function _(c,b,g){return b in c?Object.defineProperty(c,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):c[b]=g,c}function i(c,b){for(var g=0;g<b.length;g++){var u=b[g];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}var o=E(1549).Buffer,w=E(9862).inspect,T=w&&w.custom||"inspect";A.exports=function(){function c(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}var b,g;return b=c,g=[{key:"push",value:function(u){var f={data:u,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(u){var f={data:u,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(u){if(this.length===0)return"";for(var f=this.head,h=""+f.data;f=f.next;)h+=u+f.data;return h}},{key:"concat",value:function(u){if(this.length===0)return o.alloc(0);for(var f,h,C,B=o.allocUnsafe(u>>>0),G=this.head,U=0;G;)f=G.data,h=B,C=U,o.prototype.copy.call(f,h,C),U+=G.data.length,G=G.next;return B}},{key:"consume",value:function(u,f){var h;return u<this.head.data.length?(h=this.head.data.slice(0,u),this.head.data=this.head.data.slice(u)):h=u===this.head.data.length?this.shift():f?this._getString(u):this._getBuffer(u),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(u){var f=this.head,h=1,C=f.data;for(u-=C.length;f=f.next;){var B=f.data,G=u>B.length?B.length:u;if(G===B.length?C+=B:C+=B.slice(0,u),(u-=G)==0){G===B.length?(++h,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=B.slice(G));break}++h}return this.length-=h,C}},{key:"_getBuffer",value:function(u){var f=o.allocUnsafe(u),h=this.head,C=1;for(h.data.copy(f),u-=h.data.length;h=h.next;){var B=h.data,G=u>B.length?B.length:u;if(B.copy(f,f.length-u,0,G),(u-=G)==0){G===B.length?(++C,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=B.slice(G));break}++C}return this.length-=C,f}},{key:T,value:function(u,f){return w(this,function(h){for(var C=1;C<arguments.length;C++){var B=arguments[C]!=null?arguments[C]:{};C%2?P(Object(B),!0).forEach(function(G){_(h,G,B[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(B)):P(Object(B)).forEach(function(G){Object.defineProperty(h,G,Object.getOwnPropertyDescriptor(B,G))})}return h}({},f,{depth:0,customInspect:!1}))}}],g&&i(b.prototype,g),c}()},6163:function(A){function N(_,i){P(_,i),E(_)}function E(_){_._writableState&&!_._writableState.emitClose||_._readableState&&!_._readableState.emitClose||_.emit("close")}function P(_,i){_.emit("error",i)}A.exports={destroy:function(_,i){var o=this,w=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return w||T?(i?i(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(P,this,_)):process.nextTick(P,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(c){!i&&c?o._writableState?o._writableState.errorEmitted?process.nextTick(E,o):(o._writableState.errorEmitted=!0,process.nextTick(N,o,c)):process.nextTick(N,o,c):i?(process.nextTick(E,o),i(c)):process.nextTick(E,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(_,i){var o=_._readableState,w=_._writableState;o&&o.autoDestroy||w&&w.autoDestroy?_.destroy(i):_.emit("error",i)}}},8800:function(A,N,E){var P=E(3690).q.ERR_STREAM_PREMATURE_CLOSE;function _(){}A.exports=function i(o,w,T){if(typeof w=="function")return i(o,null,w);w||(w={}),T=function(re){var Z=!1;return function(){if(!Z){Z=!0;for(var te=arguments.length,de=new Array(te),J=0;J<te;J++)de[J]=arguments[J];re.apply(this,de)}}}(T||_);var c=w.readable||w.readable!==!1&&o.readable,b=w.writable||w.writable!==!1&&o.writable,g=function(){o.writable||f()},u=o._writableState&&o._writableState.finished,f=function(){b=!1,u=!0,c||T.call(o)},h=o._readableState&&o._readableState.endEmitted,C=function(){c=!1,h=!0,b||T.call(o)},B=function(re){T.call(o,re)},G=function(){var re;return c&&!h?(o._readableState&&o._readableState.ended||(re=new P),T.call(o,re)):b&&!u?(o._writableState&&o._writableState.ended||(re=new P),T.call(o,re)):void 0},U=function(){o.req.on("finish",f)};return function(re){return re.setHeader&&typeof re.abort=="function"}(o)?(o.on("complete",f),o.on("abort",G),o.req?U():o.on("request",U)):b&&!o._writableState&&(o.on("end",g),o.on("close",g)),o.on("end",C),o.on("finish",f),w.error!==!1&&o.on("error",B),o.on("close",G),function(){o.removeListener("complete",f),o.removeListener("abort",G),o.removeListener("request",U),o.req&&o.req.removeListener("finish",f),o.removeListener("end",g),o.removeListener("close",g),o.removeListener("finish",f),o.removeListener("end",C),o.removeListener("error",B),o.removeListener("close",G)}}},6233:function(A){A.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(A,N,E){var P,_=E(3690).q,i=_.ERR_MISSING_ARGS,o=_.ERR_STREAM_DESTROYED;function w(u){if(u)throw u}function T(u,f,h,C){C=function(U){var re=!1;return function(){re||(re=!0,U.apply(void 0,arguments))}}(C);var B=!1;u.on("close",function(){B=!0}),P===void 0&&(P=E(8800)),P(u,{readable:f,writable:h},function(U){if(U)return C(U);B=!0,C()});var G=!1;return function(U){if(!B&&!G)return G=!0,function(re){return re.setHeader&&typeof re.abort=="function"}(u)?u.abort():typeof u.destroy=="function"?u.destroy():void C(U||new o("pipe"))}}function c(u){u()}function b(u,f){return u.pipe(f)}function g(u){return u.length?typeof u[u.length-1]!="function"?w:u.pop():w}A.exports=function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var C,B=g(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new i("streams");var G=f.map(function(U,re){var Z=re<f.length-1;return T(U,Z,re>0,function(te){C||(C=te),te&&G.forEach(c),Z||(G.forEach(c),B(C))})});return f.reduce(b)}},7269:function(A,N,E){var P=E(3690).q.ERR_INVALID_OPT_VALUE;A.exports={getHighWaterMark:function(_,i,o,w){var T=function(c,b,g){return c.highWaterMark!=null?c.highWaterMark:b?c[g]:null}(i,w,o);if(T!=null){if(!isFinite(T)||Math.floor(T)!==T||T<0)throw new P(w?o:"highWaterMark",T);return Math.floor(T)}return _.objectMode?16:16384}}},9299:function(A,N,E){A.exports=E(1159).EventEmitter},7503:function(A,N,E){var P=E(8387).Buffer,_=P.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(h){var C;switch(this.encoding=function(B){var G=function(U){if(!U)return"utf8";for(var re;;)switch(U){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return U;default:if(re)return;U=(""+U).toLowerCase(),re=!0}}(B);if(typeof G!="string"&&(P.isEncoding===_||!_(B)))throw new Error("Unknown encoding: "+B);return G||B}(h),this.encoding){case"utf16le":this.text=T,this.end=c,C=4;break;case"utf8":this.fillLast=w,C=4;break;case"base64":this.text=b,this.end=g,C=3;break;default:return this.write=u,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=P.allocUnsafe(C)}function o(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function w(h){var C=this.lastTotal-this.lastNeed,B=function(G,U,re){if((192&U[0])!=128)return G.lastNeed=0,"";if(G.lastNeed>1&&U.length>1){if((192&U[1])!=128)return G.lastNeed=1,"";if(G.lastNeed>2&&U.length>2&&(192&U[2])!=128)return G.lastNeed=2,""}}(this,h);return B!==void 0?B:this.lastNeed<=h.length?(h.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,C,0,h.length),void(this.lastNeed-=h.length))}function T(h,C){if((h.length-C)%2==0){var B=h.toString("utf16le",C);if(B){var G=B.charCodeAt(B.length-1);if(G>=55296&&G<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",C,h.length-1)}function c(h){var C=h&&h.length?this.write(h):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,B)}return C}function b(h,C){var B=(h.length-C)%3;return B===0?h.toString("base64",C):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",C,h.length-B))}function g(h){var C=h&&h.length?this.write(h):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function u(h){return h.toString(this.encoding)}function f(h){return h&&h.length?this.write(h):""}N.s=i,i.prototype.write=function(h){if(h.length===0)return"";var C,B;if(this.lastNeed){if((C=this.fillLast(h))===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<h.length?C?C+this.text(h,B):this.text(h,B):C||""},i.prototype.end=function(h){var C=h&&h.length?this.write(h):"";return this.lastNeed?C+"":C},i.prototype.text=function(h,C){var B=function(U,re,Z){var te=re.length-1;if(te<Z)return 0;var de=o(re[te]);return de>=0?(de>0&&(U.lastNeed=de-1),de):--te<Z||de===-2?0:(de=o(re[te]))>=0?(de>0&&(U.lastNeed=de-2),de):--te<Z||de===-2?0:(de=o(re[te]))>=0?(de>0&&(de===2?de=0:U.lastNeed=de-3),de):0}(this,h,C);if(!this.lastNeed)return h.toString("utf8",C);this.lastTotal=B;var G=h.length-(B-this.lastNeed);return h.copy(this.lastChar,0,G),h.toString("utf8",C,G)},i.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},1067:function(A,N,E){var P;(function(_,i){var o="function",w="undefined",T="object",c="string",b="major",g="model",u="name",f="type",h="vendor",C="version",B="architecture",G="console",U="mobile",re="tablet",Z="smarttv",te="wearable",de="embedded",J="Amazon",le="Apple",ge="ASUS",Ce="BlackBerry",ae="Browser",we="Chrome",Pe="Firefox",Ge="Google",Re="Huawei",xe="LG",$e="Microsoft",it="Motorola",Ie="Opera",ke="Samsung",wt="Sharp",Et="Sony",ze="Xiaomi",st="Zebra",Te="Facebook",Ae="Chromium OS",Ve="Mac OS",S=function(He){for(var at={},St=0;St<He.length;St++)at[He[St].toUpperCase()]=He[St];return at},m=function(He,at){return typeof He===c&&O(at).indexOf(O(He))!==-1},O=function(He){return He.toLowerCase()},M=function(He,at){if(typeof He===c)return He=He.replace(/^\s\s*/,""),typeof at===w?He:He.substring(0,500)},oe=function(He,at){for(var St,dt,Vt,Mt,qt,jt,hn=0;hn<at.length&&!qt;){var bn=at[hn],qn=at[hn+1];for(St=dt=0;St<bn.length&&!qt&&bn[St];)if(qt=bn[St++].exec(He))for(Vt=0;Vt<qn.length;Vt++)jt=qt[++dt],typeof(Mt=qn[Vt])===T&&Mt.length>0?Mt.length===2?typeof Mt[1]==o?this[Mt[0]]=Mt[1].call(this,jt):this[Mt[0]]=Mt[1]:Mt.length===3?typeof Mt[1]!==o||Mt[1].exec&&Mt[1].test?this[Mt[0]]=jt?jt.replace(Mt[1],Mt[2]):i:this[Mt[0]]=jt?Mt[1].call(this,jt,Mt[2]):i:Mt.length===4&&(this[Mt[0]]=jt?Mt[3].call(this,jt.replace(Mt[1],Mt[2])):i):this[Mt]=jt||i;hn+=2}},ne=function(He,at){for(var St in at)if(typeof at[St]===T&&at[St].length>0){for(var dt=0;dt<at[St].length;dt++)if(m(at[St][dt],He))return St==="?"?i:St}else if(m(at[St],He))return St==="?"?i:St;return He},Oe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},nt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[C,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[C,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,C],[/opios[\/ ]+([\w\.]+)/i],[C,[u,Ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[C,[u,Ie]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[C,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,C],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[C,[u,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[C,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[C,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[C,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[C,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[C,[u,"Smart Lenovo "+ae]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+ae],C],[/\bfocus\/([\w\.]+)/i],[C,[u,Pe+" Focus"]],[/\bopt\/([\w\.]+)/i],[C,[u,Ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[C,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[C,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[C,[u,Ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[C,[u,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[C,[u,Pe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+ae]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+ae],C],[/samsungbrowser\/([\w\.]+)/i],[C,[u,ke+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],C],[/metasr[\/ ]?([\d\.]+)/i],[C,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],C],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,C],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,Te],C],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,C],[/\bgsa\/([\w\.]+) .*safari\//i],[C,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[C,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[C,[u,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,we+" WebView"],C],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[C,[u,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,C],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[C,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[C,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[C,ne,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,C],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],C],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[C,[u,Pe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,C],[/(cobalt)\/([\w\.]+)/i],[u,[C,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[B,"amd64"]],[/(ia32(?=;))/i],[[B,O]],[/((?:i[346]|x)86)[;\)]/i],[[B,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[B,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[B,"armhf"]],[/windows (ce|mobile); ppc;/i],[[B,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[B,/ower/,"",O]],[/(sun4\w)[;\)]/i],[[B,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[B,O]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[h,ke],[f,re]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[h,ke],[f,U]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[h,le],[f,U]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[h,le],[f,re]],[/(macintosh);/i],[g,[h,le]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[h,wt],[f,U]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[h,Re],[f,re]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[h,Re],[f,U]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[h,ze],[f,U]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[h,ze],[f,re]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[h,"OPPO"],[f,U]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[h,"Vivo"],[f,U]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[h,"Realme"],[f,U]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[h,it],[f,U]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[h,it],[f,re]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[h,xe],[f,re]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[h,xe],[f,U]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[h,"Lenovo"],[f,re]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[h,"Nokia"],[f,U]],[/(pixel c)\b/i],[g,[h,Ge],[f,re]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[h,Ge],[f,U]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[h,Et],[f,U]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[h,Et],[f,re]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[h,"OnePlus"],[f,U]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[h,J],[f,re]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[h,J],[f,U]],[/(playbook);[-\w\),; ]+(rim)/i],[g,h,[f,re]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[h,Ce],[f,U]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[h,ge],[f,re]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[h,ge],[f,U]],[/(nexus 9)/i],[g,[h,"HTC"],[f,re]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[g,/_/g," "],[f,U]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[h,"Acer"],[f,re]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[h,"Meizu"],[f,U]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[h,"Ulefone"],[f,U]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,g,[f,U]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,g,[f,re]],[/(surface duo)/i],[g,[h,$e],[f,re]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[h,"Fairphone"],[f,U]],[/(u304aa)/i],[g,[h,"AT&T"],[f,U]],[/\bsie-(\w*)/i],[g,[h,"Siemens"],[f,U]],[/\b(rct\w+) b/i],[g,[h,"RCA"],[f,re]],[/\b(venue[\d ]{2,7}) b/i],[g,[h,"Dell"],[f,re]],[/\b(q(?:mv|ta)\w+) b/i],[g,[h,"Verizon"],[f,re]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[h,"Barnes & Noble"],[f,re]],[/\b(tm\d{3}\w+) b/i],[g,[h,"NuVision"],[f,re]],[/\b(k88) b/i],[g,[h,"ZTE"],[f,re]],[/\b(nx\d{3}j) b/i],[g,[h,"ZTE"],[f,U]],[/\b(gen\d{3}) b.+49h/i],[g,[h,"Swiss"],[f,U]],[/\b(zur\d{3}) b/i],[g,[h,"Swiss"],[f,re]],[/\b((zeki)?tb.*\b) b/i],[g,[h,"Zeki"],[f,re]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],g,[f,re]],[/\b(ns-?\w{0,9}) b/i],[g,[h,"Insignia"],[f,re]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[h,"NextBook"],[f,re]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],g,[f,U]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],g,[f,U]],[/\b(ph-1) /i],[g,[h,"Essential"],[f,U]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[h,"Envizen"],[f,re]],[/\b(trio[-\w\. ]+) b/i],[g,[h,"MachSpeed"],[f,re]],[/\btu_(1491) b/i],[g,[h,"Rotor"],[f,re]],[/(shield[\w ]+) b/i],[g,[h,"Nvidia"],[f,re]],[/(sprint) (\w+)/i],[h,g,[f,U]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[h,$e],[f,U]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[h,st],[f,re]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[h,st],[f,U]],[/smart-tv.+(samsung)/i],[h,[f,Z]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[h,ke],[f,Z]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,xe],[f,Z]],[/(apple) ?tv/i],[h,[g,le+" TV"],[f,Z]],[/crkey/i],[[g,we+"cast"],[h,Ge],[f,Z]],[/droid.+aft(\w+)( bui|\))/i],[g,[h,J],[f,Z]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[h,wt],[f,Z]],[/(bravia[\w ]+)( bui|\))/i],[g,[h,Et],[f,Z]],[/(mitv-\w{5}) bui/i],[g,[h,ze],[f,Z]],[/Hbbtv.*(technisat) (.*);/i],[h,g,[f,Z]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,M],[g,M],[f,Z]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,Z]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,g,[f,G]],[/droid.+; (shield) bui/i],[g,[h,"Nvidia"],[f,G]],[/(playstation [345portablevi]+)/i],[g,[h,Et],[f,G]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[h,$e],[f,G]],[/((pebble))app/i],[h,g,[f,te]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[h,le],[f,te]],[/droid.+; (glass) \d/i],[g,[h,Ge],[f,te]],[/droid.+; (wt63?0{2,3})\)/i],[g,[h,st],[f,te]],[/(quest( 2| pro)?)/i],[g,[h,Te],[f,te]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,de]],[/(aeobc)\b/i],[g,[h,J],[f,de]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[f,U]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[f,re]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,re]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,U]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[C,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[C,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,C],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[C,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,C],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[C,ne,Oe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,ne,Oe],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[C,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,Ve],[C,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[C,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,C],[/\(bb(10);/i],[C,[u,Ce]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[C,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[C,[u,Pe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[C,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[C,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[C,[u,we+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,Ae],C],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,C],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],C],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,C]]},je=function(He,at){if(typeof He===T&&(at=He,He=i),!(this instanceof je))return new je(He,at).getResult();var St=typeof _!==w&&_.navigator?_.navigator:i,dt=He||(St&&St.userAgent?St.userAgent:""),Vt=St&&St.userAgentData?St.userAgentData:i,Mt=at?function(jt,hn){var bn={};for(var qn in jt)hn[qn]&&hn[qn].length%2==0?bn[qn]=hn[qn].concat(jt[qn]):bn[qn]=jt[qn];return bn}(nt,at):nt,qt=St&&St.userAgent==dt;return this.getBrowser=function(){var jt,hn={};return hn[u]=i,hn[C]=i,oe.call(hn,dt,Mt.browser),hn[b]=typeof(jt=hn[C])===c?jt.replace(/[^\d\.]/g,"").split(".")[0]:i,qt&&St&&St.brave&&typeof St.brave.isBrave==o&&(hn[u]="Brave"),hn},this.getCPU=function(){var jt={};return jt[B]=i,oe.call(jt,dt,Mt.cpu),jt},this.getDevice=function(){var jt={};return jt[h]=i,jt[g]=i,jt[f]=i,oe.call(jt,dt,Mt.device),qt&&!jt[f]&&Vt&&Vt.mobile&&(jt[f]=U),qt&&jt[g]=="Macintosh"&&St&&typeof St.standalone!==w&&St.maxTouchPoints&&St.maxTouchPoints>2&&(jt[g]="iPad",jt[f]=re),jt},this.getEngine=function(){var jt={};return jt[u]=i,jt[C]=i,oe.call(jt,dt,Mt.engine),jt},this.getOS=function(){var jt={};return jt[u]=i,jt[C]=i,oe.call(jt,dt,Mt.os),qt&&!jt[u]&&Vt&&Vt.platform!="Unknown"&&(jt[u]=Vt.platform.replace(/chrome os/i,Ae).replace(/macos/i,Ve)),jt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return dt},this.setUA=function(jt){return dt=typeof jt===c&&jt.length>500?M(jt,500):jt,this},this.setUA(dt),this};je.VERSION="1.0.37",je.BROWSER=S([u,C,b]),je.CPU=S([B]),je.DEVICE=S([g,h,f,G,U,Z,re,te,de]),je.ENGINE=je.OS=S([u,C]),typeof N!==w?(A.exports&&(N=A.exports=je),N.UAParser=je):E.amdO?(P=(function(){return je}).call(N,E,N,A))===i||(A.exports=P):typeof _!==w&&(_.UAParser=je);var Ze=typeof _!==w&&(_.jQuery||_.Zepto);if(Ze&&!Ze.ua){var Me=new je;Ze.ua=Me.getResult(),Ze.ua.get=function(){return Me.getUA()},Ze.ua.set=function(He){Me.setUA(He);var at=Me.getResult();for(var St in at)Ze.ua[St]=at[St]}}})(typeof window=="object"?window:this)},7839:function(A,N,E){function P(_){try{if(!E.g.localStorage)return!1}catch{return!1}var i=E.g.localStorage[_];return i!=null&&String(i).toLowerCase()==="true"}A.exports=function(_,i){if(P("noDeprecation"))return _;var o=!1;return function(){if(!o){if(P("throwDeprecation"))throw new Error(i);P("traceDeprecation")?console.trace(i):console.warn(i),o=!0}return _.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(A){A.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(A){A.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(A){A.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(A){A.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(A){A.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(A){A.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},r={};function l(A){var N=r[A];if(N!==void 0)return N.exports;var E=r[A]={exports:{}};return n[A].call(E.exports,E,E.exports,l),E.exports}l.amdO={},l.n=function(A){var N=A&&A.__esModule?function(){return A.default}:function(){return A};return l.d(N,{a:N}),N},l.d=function(A,N){for(var E in N)l.o(N,E)&&!l.o(A,E)&&Object.defineProperty(A,E,{enumerable:!0,get:N[E]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=function(A,N){return Object.prototype.hasOwnProperty.call(A,N)};var v={};return function(){l.d(v,{default:function(){return T}}),l(8416);var A,N=l(1715),E=l(8080),P=l(1737),_=l(1139),i=function(){var c,b="application/dash+xml";function g(f,h,C){if(!f||!/^VIDEO$/i.test(f.nodeName))return null;if(f._dashjs_player)return f._dashjs_player;var B,G=f.id||f.name||"video element";if(!(h=h||[].slice.call(f.querySelectorAll("source")).filter(function(U){return U.type==b})[0])&&f.src)(h=document.createElement("source")).src=f.src;else if(!h&&!f.src)return null;return C=C||{},(B=(0,_.Z)(C).create()).initialize(f,h.src,f.autoplay),c||(c=B.getDebug().getLogger()),c.debug("Converted "+G+" to dash.js player and added content: "+h.src),f._dashjs_player=B,B}function u(f){return/^VIDEO$/i.test(f.nodeName)?f:u(f.parentNode)}return{create:g,createAll:function(f,h){var C=[];f=f||"[data-dashjs-player]";for(var B=(h=h||document).querySelectorAll(f),G=0;G<B.length;G++){var U=g(B[G],null);C.push(U)}for(var re=h.querySelectorAll('source[type="'+b+'"]'),Z=0;Z<re.length;Z++){var te=g(u(re[Z]),null);C.push(te)}return C}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?i.createAll():A=window.setInterval(function(){window.dashjs&&(window.clearInterval(A),i.createAll())},500):window.addEventListener("load",function c(){window.removeEventListener("load",c),i.createAll()}));var o=i,w=l(6398);dashjs.Protection=P.default,dashjs.MetricsReporting=E.default,dashjs.MediaPlayerFactory=o,dashjs.Debug=w.Z,dashjs.supportsMediaSource=N.B;var T=dashjs}(),v.default}()})})(N0);var ZR=N0.exports;const uc=hv(ZR);async function jR(){return await Xs.post("/play_next",{headers:{"Content-Type":"application/json",Accept:"*"}})}function GR(){const e=_f();return Tw({mutationFn:jR,onSuccess:()=>{e.invalidateQueries({queryKey:li.key})}})}const qR=async()=>(await Xs.get("get_key")).data,HR=()=>{const{data:e}=Ha({queryFn:qR,queryKey:li.key,enabled:!0,initialData:0});return e},zR=()=>{const{data:e}=Ha({queryKey:li.playback,enabled:!0,initialData:!0});return e},YR=()=>{const{data:e}=Ha({queryKey:li.restart,enabled:!0,initialData:!0});return e};function VR(){const e=og(),t=Pn.useRef(null),n=Pn.useRef(null),{mutate:r}=GR(),[l,v]=Pn.useState(0),A=zR(),N=HR(),[E,P]=Pn.useState(5),_=YR(),i=Pn.useCallback(()=>{r()},[r]),o=Pn.useCallback(c=>{console.error("error",c)},[]),w=Pn.useCallback((c,b)=>{const u=c.getTracksFor("audio").find(f=>{var h;return((h=f.id)==null?void 0:h.toString())===b});u&&c.setCurrentTrack(u)},[]);Pn.useEffect(()=>{n.current&&(n.current.seek(0),n.current.play())},[_]),Pn.useEffect(()=>{var c,b;A?(c=n.current)==null||c.play():(b=n.current)==null||b.pause()},[A]),Pn.useEffect(()=>{n.current&&w(n.current,(N+4).toString())},[N,w,e,n.current]),Pn.useEffect(()=>{if(e!=null&&e.name&&t.current&&e.status===Bo.Success){n.current&&n.current.destroy();const c=uc.MediaPlayer().create();n.current=c,c.initialize(t.current,`${l0}/dash/${e.name}/${e.name}.mpd`,!0),c.on(uc.MediaPlayer.events.PLAYBACK_ENDED,i),c.on(uc.MediaPlayer.events.PLAYBACK_TIME_UPDATED,T),c.on(uc.MediaPlayer.events.ERROR,o),c.setQualityFor("audio",2,!0),c.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1,audio:!1}},buffer:{fastSwitchEnabled:!0,stallThreshold:.5,bufferTimeAtTopQuality:30,bufferToKeep:30,bufferPruningInterval:30,stableBufferTime:5},scheduling:{scheduleWhilePaused:!0}}})}return()=>{n.current&&(n.current.destroy(),n.current=null)}},[e,i,o,w]);const T=()=>{if(n.current){const c=n.current.duration(),b=n.current.time();c>0&&v(b/c*100)}};return Pn.useEffect(()=>{if((e==null?void 0:e.status)===Bo.Failed){P(10);const c=setTimeout(()=>{r()},1e4),b=setInterval(()=>{P(g=>Math.max(0,g-1))},1e3);return()=>{clearTimeout(c),clearInterval(b)}}},[e,r]),e!=null&&e.name?Sn.jsxs("div",{className:"relative w-full h-full bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",children:[e.status===Bo.InProgress&&Sn.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm",children:[Sn.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"}),Sn.jsx("div",{className:"mt-4 text-center",children:Sn.jsxs("p",{className:"text-white text-lg font-medium mt-1",children:["downloading ",e.formattedName,"..."]})})]}),e.status===Bo.Failed&&Sn.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center  backdrop-blur-md",children:Sn.jsxs("div",{className:"text-center p-8 bg-gray-900/80 rounded-xl border border-red-500/20 shadow-xl",children:[Sn.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Download Failed"}),Sn.jsxs("p",{className:"text-gray-300 text-lg mb-2",children:["Unable to download ",e.formattedName]}),Sn.jsxs("p",{className:"text-red-400 text-sm",children:["Skipping to next song in ",E," seconds..."]})]})}),e.status===Bo.Success&&Sn.jsx("video",{className:"w-full h-full rounded-lg shadow-2xl",ref:t,controls:!0}),Sn.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:Sn.jsx("div",{className:"h-1 bg-gray-800/50",children:Sn.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300 ease-linear",style:{width:`${l}%`}})})})]}):null}function KR(){const e=og(),{error:t}=rR();return t?Sn.jsx(iR,{}):Sn.jsxs("div",{className:"w-full h-full",children:[!(e!=null&&e.name)&&Sn.jsx(BR,{}),(e==null?void 0:e.name)&&Sn.jsx(VR,{}),Sn.jsx(FR,{}),Sn.jsx(UR,{})]})}const WR=new iw({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});Gd.createRoot(document.getElementById("root")).render(Sn.jsx(PS.StrictMode,{children:Sn.jsx(lw,{client:WR,children:Sn.jsx(KR,{})})}));
